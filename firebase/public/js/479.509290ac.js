"use strict";(self["webpackChunkquasar"]=self["webpackChunkquasar"]||[]).push([[479],{3479:(e,l,t)=>{t.r(l),t.d(l,{default:()=>ne});var o={};t.r(o);var a=t(9835);function r(e,l,t,o,r,s){const i=(0,a.up)("google-maps-donator"),n=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i)])),_:1})}var s=t(6970);const i={class:"fit"},n={class:"absolute top q-mx-auto row full-width"},d={class:"column search q-mx-auto q-mt-lg"},c={class:"column"},u={class:"fit col column"},p={class:"op-80 fn-md fn-800"},m={class:"op-60 fn-sm fn-800"},y=["href"];function f(e,l,t,o,r,f){const g=(0,a.up)("q-icon"),v=(0,a.up)("q-input"),b=(0,a.up)("q-img"),h=(0,a.up)("Marker"),T=(0,a.up)("GoogleMap");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",n,[(0,a._)("div",d,[(0,a.Uk)((0,s.toDisplayString)(e.selectedShelter)+" ",1),(0,a.Wm)(v,{outline:"",modelValue:e.search,"onUpdate:modelValue":l[0]||(l[0]=l=>e.search=l),class:"bg-white fn-md search border-round q-pb-md q-px-md q-pt-xs i",placeholder:"Search Shelter ..."},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{name:"search",size:"30px",class:"q-my-auto"})])),_:1},8,["modelValue"]),(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.searchResults,(l=>((0,a.wg)(),(0,a.iD)("div",{class:"bg-blur q-mt-md border-round clickable",key:l.name},[(0,a.Wm)(b,{class:"border-round",height:"140px",src:l.img,onClick:()=>e.updateLocation(l)},{default:(0,a.w5)((()=>[(0,a._)("div",u,[(0,a._)("div",p,(0,s.toDisplayString)(l.name),1),(0,a._)("div",m,(0,s.toDisplayString)(l.address),1),(0,a._)("div",null,[(0,a._)("a",{class:"fn-link text-primary fn-800 op-60",href:l.url},(0,s.toDisplayString)(l.url),9,y)])])])),_:2},1032,["src","onClick"])])))),128))])])]),(0,a.Wm)(T,{"api-key":"AIzaSyAkCD51UGRDCEgBqC5ZeBCvSW5eq7gmnYw",styles:e.googleMapStyle,streetViewControl:!1,mapTypeControl:!1,style:{width:"100%",height:"94vh"},center:e.location,zoom:14},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.shelterLocations,((l,t)=>((0,a.wg)(),(0,a.j4)(h,{key:t,onClick:()=>{e.openDialog(l)},options:{icon:"help-icon.png",position:{lat:l.lat,lng:l.long}}},null,8,["onClick","options"])))),128))])),_:1},8,["styles","center"])])}var g=t(499),v=t(3258);const b=[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#aab7d4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]},{featureType:"administrative",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]}];var h=t(2945),T=t(1446);const q={class:"elevated border-round"},w={class:"q-pa-md fit column"},k={class:"fn-lg fn-800 op-80 font-weight-lg q-pb-sm"},_={class:"fn-md fn-600 op-80 font-weight-md q-pb-sm"},D={class:"q-ma-sm fn-sm q-pa-md border-round bg-blur"},C={class:"row q-col-gutter-x-md"},Z={class:"col"},S={class:"col"};function x(e,l,t,o,r,i){const n=(0,a.up)("q-space"),d=(0,a.up)("q-btn"),c=(0,a.up)("q-img"),u=(0,a.up)("q-card"),p=(0,a.up)("q-dialog");return(0,a.wg)(),(0,a.j4)(p,{ref:"dialogRef",onHide:o.onDialogHide},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{flat:"",class:"q-dialog-plugin card border-round bg-transparent"},{default:(0,a.w5)((()=>[(0,a._)("div",q,[(0,a.Wm)(c,{src:t.shelter.img,height:"500",class:"fit border-round"},{default:(0,a.w5)((()=>{var e,l,r,i;return[(0,a._)("div",w,[(0,a._)("div",k,(0,s.toDisplayString)(null===(e=t.shelter)||void 0===e?void 0:e.name),1),(0,a._)("div",_,(0,s.toDisplayString)(null===(l=t.shelter)||void 0===l?void 0:l.address),1),(0,a._)("div",D,(0,s.toDisplayString)(null===(r=t.shelter)||void 0===r?void 0:r.info),1),(0,a.Wm)(n),(0,a._)("div",C,[(0,a._)("div",Z,[(0,a.Wm)(d,{unelevated:"",class:"border-round fit fn-800 no-caps bg-white text-dark",label:"Shelter Info",href:null===(i=t.shelter)||void 0===i?void 0:i.url,"no-caps":""},null,8,["href"])]),(0,a._)("div",S,[(0,a.Wm)(d,{unelevated:"",color:"primary",class:"border-round fit fn-800 no-caps",label:"Send Donations",onClick:o.onOKClick,"no-caps":""},null,8,["onClick"])])])])]})),_:1},8,["src"])])])),_:1})])),_:1},8,["onHide"])}t(702);var W=t(4182);const Q=e=>((0,a.dD)("data-v-34634fd0"),e=e(),(0,a.Cn)(),e),H={class:"container q-ma-md q-pt-md"},I=Q((()=>(0,a._)("h6",{class:"fn-lg op-80 fn-600 q-mb-md title"},"Donate item(s) ...",-1))),F={class:"text-bold col-8"},R=Q((()=>(0,a._)("div",{class:"text-caption text-grey"},"Donor",-1)));function V(e,l,t,o,r,i){const n=(0,a.up)("q-img"),d=(0,a.up)("q-card-section"),c=(0,a.up)("q-card"),u=(0,a.up)("q-input"),p=(0,a.up)("q-btn"),m=(0,a.up)("q-form"),y=(0,a.up)("q-dialog");return(0,a.wg)(),(0,a.j4)(y,{ref:"dialogRef",onHide:o.onDialogHide},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{flat:"",class:"q-dialog-plugin card border-round"},{default:(0,a.w5)((()=>[(0,a._)("div",H,[I,(0,a.Wm)(m,{class:"q-pt-md q-pb-md",onSubmit:o.submitForm},{default:(0,a.w5)((()=>[o.user?((0,a.wg)(),(0,a.j4)(c,{key:0,class:"border-round q-my-md",flat:"",bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"row items-center q-gutter-x-md"},{default:(0,a.w5)((()=>{var e,l,t;return[(0,a.Wm)(n,{class:"col-2",src:(null===(e=o.user)||void 0===e?void 0:e.photoURL)||"https://icon-library.com/images/anonymous-person-icon/anonymous-person-icon-18.jpg"},null,8,["src"]),(0,a._)("div",F,[(0,a.Uk)((0,s.toDisplayString)((null===(l=o.user)||void 0===l?void 0:l.email)||(null===(t=o.user)||void 0===t?void 0:t.displayName))+" ",1),R])]})),_:1})])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(u,{class:"q-mb-lg",label:"Address",modelValue:o.formData.address,"onUpdate:modelValue":l[0]||(l[0]=e=>o.formData.address=e),outlined:"","stack-label":"","lazy-rules":"",rules:[e=>e&&e.length>0||""]},null,8,["modelValue","rules"]),(0,a.Wm)(u,{class:"q-mb-lg",label:"Items",modelValue:o.formData.items,"onUpdate:modelValue":l[1]||(l[1]=e=>o.formData.items=e),outlined:"","stack-label":"",type:"textarea","lazy-rules":"",rules:[e=>e&&e.length>0||""]},null,8,["modelValue","rules"]),(0,a.Wm)(p,{color:"primary",type:"submit",label:"Submit","no-caps":""})])),_:1},8,["onSubmit"])])])),_:1})])),_:1},8,["onHide"])}var L=t(4493);const O={props:{shelterId:String},emits:[...W.Z.emits],setup(e){const l=(0,g.qj)({name:"",address:"",items:""}),t=(0,L.ad)(),o=(0,h.useFirebaseUser)(),r=(0,a.Fl)((()=>o.data.value));function s(){var o,a;(0,L.ET)((0,L.hJ)(t,"requests"),{uid:null===(o=r.value)||void 0===o?void 0:o.uid,name:null===(a=r.value)||void 0===a?void 0:a.displayName,address:l.address,items:l.items,shelter:e.shelterId||"",status:"pending"}),d()}const{dialogRef:i,onDialogHide:n,onDialogOK:d,onDialogCancel:c}=(0,W.Z)();return{user:r,dialogRef:i,onDialogHide:n,submitForm:s,formData:l,onOKClick(){d()},onCancelClick:c}}};var U=t(1639),j=t(2074),K=t(4458),M=t(8326),z=t(3190),P=t(335),B=t(6611),G=t(4455),Y=t(9984),A=t.n(Y);const E=(0,U.Z)(O,[["render",V],["__scopeId","data-v-34634fd0"]]),J=E;A()(O,"components",{QDialog:j.Z,QCard:K.Z,QForm:M.Z,QCardSection:z.Z,QImg:P.Z,QInput:B.Z,QBtn:G.Z});const N={props:{shelter:o.Shelter},emits:[...W.Z.emits],setup(e){const l=(0,T.Z)(),{dialogRef:t,onDialogHide:o,onDialogOK:a,onDialogCancel:r}=(0,W.Z)();return{dialogRef:t,onDialogHide:o,onOKClick(){l.dialog({component:J,componentProps:{shelterId:e.shelter.id}}),a()},onCancelClick:r}}};var X=t(136);const $=(0,U.Z)(N,[["render",x],["__scopeId","data-v-0e08787e"]]),ee=$;A()(N,"components",{QDialog:j.Z,QCard:K.Z,QImg:P.Z,QSpace:X.Z,QBtn:G.Z});const le=(0,a.aZ)({components:{GoogleMap:v.b6,Marker:v.Jx},setup(){const e=(0,g.iH)(""),l=(0,T.Z)(),t=((0,L.ad)(),(0,h.useFirebaseUser)(),{mapTypeControl:!1}),o=e=>{l.dialog({component:ee,componentProps:{shelter:e}}).onOk((()=>{}))},r=(0,g.iH)("");(0,a.YP)(r,(()=>{""!=e.value&&""!=r.value&&(e.value="")}));const s=(0,a.Fl)((()=>""==r.value?[]:n.value.filter((e=>{var l,t;return(null===(l=null===e||void 0===e?void 0:e.name)||void 0===l?void 0:l.toLowerCase().includes(r.value.toLowerCase()))||(null===(t=null===e||void 0===e?void 0:e.address)||void 0===t?void 0:t.toLowerCase().includes(r.value.toLowerCase()))})))),i=(0,h.useFirestoreCollection)("shelters"),n=(0,a.Fl)((()=>{var e;return[...[...(null===(e=i.data.value)||void 0===e?void 0:e.keys())||[]].map((e=>{var l;return Object.assign({id:e},null===(l=i.data.value)||void 0===l?void 0:l.get(e))}))||[]]})),d=(0,g.iH)({lat:43.65549,lng:-79.37428});navigator.geolocation&&navigator.geolocation.getCurrentPosition((e=>{d.value={lat:e.coords.latitude,lng:e.coords.longitude}}));const c=()=>{console.log("T")},u=l=>{d.value={lat:l.lat,lng:l.long},r.value="",e.value=l.id},p={center:d.value,radius:200,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,clickable:!0};return{search:r,searchResults:s,shelters:i,googleMapStyle:b,shelterLocations:n,location:d,cc:p,openDialog:o,log:c,options:t,updateLocation:u,selectedShelter:e}}});var te=t(2857);const oe=(0,U.Z)(le,[["render",f],["__scopeId","data-v-aefca330"]]),ae=oe;A()(le,"components",{QInput:B.Z,QIcon:te.Z,QImg:P.Z,QSpace:X.Z});const re=(0,a.aZ)({components:{GoogleMapsDonator:ae},setup(){return{}}});var se=t(9885);const ie=(0,U.Z)(re,[["render",r]]),ne=ie;A()(re,"components",{QPage:se.Z})}}]);