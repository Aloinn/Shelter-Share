(self["webpackChunkquasar"]=self["webpackChunkquasar"]||[]).push([[736],{7240:(e,t,n)=>{"use strict";n.d(t,{$:()=>Ut,A:()=>u,B:()=>d,G:()=>Le,H:()=>Ve,J:()=>tt,L:()=>fe,M:()=>ht,N:()=>mt,P:()=>Lr,Q:()=>gt,R:()=>Cr,T:()=>vt,U:()=>pt,V:()=>bt,W:()=>St,X:()=>Et,Y:()=>Lt,Z:()=>Mt,_:()=>Ft,a:()=>Ln,a0:()=>$t,a1:()=>zt,a2:()=>Ht,a3:()=>Wt,a4:()=>Kt,a5:()=>Gt,a6:()=>Yt,a7:()=>Zt,a8:()=>Qt,a9:()=>Jt,aA:()=>di,aB:()=>ui,aC:()=>Xr,aD:()=>Jr,aE:()=>Oe,aI:()=>qn,aL:()=>_t,aa:()=>en,ab:()=>tn,ac:()=>nn,af:()=>sn,ag:()=>on,ah:()=>an,ak:()=>Rt,al:()=>gn,an:()=>wn,ao:()=>En,ap:()=>Ie,aq:()=>T,ar:()=>Te,as:()=>be,at:()=>v,au:()=>$i,av:()=>gi,aw:()=>y,ax:()=>S,ay:()=>E,az:()=>pe,b:()=>On,c:()=>$r,d:()=>Hr,e:()=>zr,f:()=>ni,g:()=>oi,h:()=>ii,i:()=>or,j:()=>li,k:()=>Ki,l:()=>Pr,m:()=>Zi,n:()=>ns,o:()=>l,r:()=>Nr,s:()=>Rr,u:()=>Dr,y:()=>vn});var r=n(5505),i=n(8897);function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var o=n(9795),a=n(3513);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},u={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",["timeout"]:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function h(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d=c,f=h,p=new r.LL("auth","Firebase",h()),m=new o.Yd("@firebase/auth");function g(e,...t){m.logLevel<=o["in"].ERROR&&m.error(`Auth (${i.SDK_VERSION}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(e,...t){throw b(e,...t)}function y(e,...t){return b(e,...t)}function _(e,t,n){const i=Object.assign(Object.assign({},f()),{[t]:n}),s=new r.LL("auth","Firebase",i);return s.create(t,{appName:e.name})}function w(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&v(e,"argument-error"),_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function b(e,...t){if("string"!==typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return p.create(e,...t)}function S(e,t,...n){if(!e)throw b(t,...n)}function k(e){const t="INTERNAL ASSERTION FAILED: "+e;throw g(t),new Error(t)}function T(e,t){e||k(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I=new Map;function E(e){T(e instanceof Function,"Expected a class definition");let t=I.get(e);return t?(T(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,I.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(e,t){const n=(0,i._getProvider)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),i=n.getOptions();if((0,r.vZ)(i,null!==t&&void 0!==t?t:{}))return e;v(e,"already-initialized")}const s=n.initialize({options:t});return s}function x(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(E);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function R(){return"http:"===P()||"https:"===P()}function P(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(R()||(0,r.ru)()||"connection"in navigator))||navigator.onLine}function O(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e,t){this.shortDelay=e,this.longDelay=t,T(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e,t){T(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void k("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void k("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void k("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"internal-error",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error"},q=new D(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function V(e,t,n,i,s={}){return B(e,s,(async()=>{let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=(0,r.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),M.fetch()($(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))}async function B(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},F),t);try{const t=new z(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw H(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw H(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw H(e,"email-already-in-use",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw _(e,a,o);v(e,a)}}catch(s){if(s instanceof r.ZR)throw s;v(e,"network-request-failed")}}async function j(e,t,n,r,i={}){const s=await V(e,t,n,r,i);return"mfaPendingCredential"in s&&v(e,"multi-factor-auth-required",{_serverResponse:s}),s}function $(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?L(e.config,i):`${e.config.apiScheme}://${i}`}class z{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(y(this.auth,"network-request-failed"))),q.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function H(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=y(e,t,r);return i.customData._tokenResponse=n,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W(e,t){return V(e,"POST","/v1/accounts:delete",t)}async function K(e,t){return V(e,"POST","/v1/accounts:update",t)}async function G(e,t){return V(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z(e,t=!1){const n=(0,r.m9)(e),i=await n.getIdToken(t),s=J(i);S(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"===typeof s.firebase?s.firebase:void 0,a=null===o||void 0===o?void 0:o["sign_in_provider"];return{claims:s,token:i,authTime:Y(Q(s.auth_time)),issuedAtTime:Y(Q(s.iat)),expirationTime:Y(Q(s.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o["sign_in_second_factor"])||null}}function Q(e){return 1e3*Number(e)}function J(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return g("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.tV)(n);return e?JSON.parse(e):(g("Failed to decode base64 JWT payload"),null)}catch(s){return g("Caught error parsing JWT payload as JSON",s),null}}function X(e){const t=J(e);return S(t,"internal-error"),S("undefined"!==typeof t.exp,"internal-error"),S("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ee(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof r.ZR&&te(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function te({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Y(this.lastLoginAt),this.creationTime=Y(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ie(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ee(e,G(n,{idToken:r}));S(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ae(s.providerUserInfo):[],a=oe(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),c=!!l&&u,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new re(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function se(e){const t=(0,r.m9)(e);await ie(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oe(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}function ae(e){return e.map((e=>{var{providerId:t}=e,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function le(e,t){const n=await B(e,{},(async()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=$(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",M.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S("undefined"!==typeof e.idToken,"internal-error"),S("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):X(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return S(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await le(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ue;return n&&(S("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(S("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(S("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return k("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(e,t){S("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class he{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new re(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ee(this,this.stsTokenManager.getToken(this.auth,e));return S(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Z(this,e)}reload(){return se(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new he(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ie(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ee(this,W(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:_,isAnonymous:w,providerData:b,stsTokenManager:k}=t;S(y&&k,e,"internal-error");const T=ue.fromJSON(this.name,k);S("string"===typeof y,e,"internal-error"),ce(c,e.name),ce(h,e.name),S("boolean"===typeof _,e,"internal-error"),S("boolean"===typeof w,e,"internal-error"),ce(d,e.name),ce(f,e.name),ce(p,e.name),ce(m,e.name),ce(g,e.name),ce(v,e.name);const I=new he({uid:y,auth:e,email:h,emailVerified:_,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:v});return b&&Array.isArray(b)&&(I.providerData=b.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t,n=!1){const r=new ue;r.updateFromServerResponse(t);const i=new he({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ie(i),i}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}de.type="NONE";const fe=de;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e,t,n){return`firebase:${e}:${t}:${n}`}class me{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=pe(this.userKey,r.apiKey,i),this.fullPersistenceKey=pe("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?he._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new me(E(fe),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||E(fe);const s=pe(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=he._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new me(i,e,n)):new me(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(we(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ve(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Se(t))return"Blackberry";if(ke(t))return"Webos";if(ye(t))return"Safari";if((t.includes("chrome/")||_e(t))&&!t.includes("edge/"))return"Chrome";if(be(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ve(e=(0,r.z$)()){return/firefox\//i.test(e)}function ye(e=(0,r.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _e(e=(0,r.z$)()){return/crios\//i.test(e)}function we(e=(0,r.z$)()){return/iemobile/i.test(e)}function be(e=(0,r.z$)()){return/android/i.test(e)}function Se(e=(0,r.z$)()){return/blackberry/i.test(e)}function ke(e=(0,r.z$)()){return/webos/i.test(e)}function Te(e=(0,r.z$)()){return/iphone|ipad|ipod/i.test(e)}function Ie(e=(0,r.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function Ee(e=(0,r.z$)()){var t;return Te(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function Ce(){return(0,r.w1)()&&10===document.documentMode}function xe(e=(0,r.z$)()){return Te(e)||be(e)||ke(e)||Se(e)||/windows phone/i.test(e)||we(e)}function Ae(){try{return!(!window||window===window.top)}catch(e){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(e,t=[]){let n;switch(e){case"Browser":n=ge((0,r.z$)());break;case"Worker":n=`${ge((0,r.z$)())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.SDK_VERSION}/${s}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{const r=e(t);n(r)}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new De(this),this.idTokenSubscription=new De(this),this.beforeStateQueue=new Pe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=E(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await me.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ie(e)}catch(t){if("auth/network-request-failed"!==t.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,r.m9)(e):null;return t&&S(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&S(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(E(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&E(e)||this._popupRedirectResolver;S(t,this,"argument-error"),this.redirectPersistenceManager=await me.create(this,[E(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return S(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function Oe(e){return(0,r.m9)(e)}class De{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.ne)((e=>this.observer=e))}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Le(e,t,n){const r=Oe(e);S(r._canInitEmulator,r,"emulator-config-failed"),S(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Me(t),{host:o,port:a}=Fe(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Ue()}function Me(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Fe(e){const t=Me(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:qe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:qe(t)}}}function qe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Ue(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return k("not implemented")}_getIdTokenResponse(e){return k("not implemented")}_linkToIdToken(e,t){return k("not implemented")}_getReauthenticationResolver(e){return k("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Be(e,t){return V(e,"POST","/v1/accounts:resetPassword",U(e,t))}async function je(e,t){return V(e,"POST","/v1/accounts:update",t)}async function $e(e,t){return V(e,"POST","/v1/accounts:update",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ze(e,t){return j(e,"POST","/v1/accounts:signInWithPassword",U(e,t))}async function He(e,t){return V(e,"POST","/v1/accounts:sendOobCode",U(e,t))}async function We(e,t){return He(e,t)}async function Ke(e,t){return He(e,t)}async function Ge(e,t){return He(e,t)}async function Ye(e,t){return He(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ze(e,t){return j(e,"POST","/v1/accounts:signInWithEmailLink",U(e,t))}async function Qe(e,t){return j(e,"POST","/v1/accounts:signInWithEmailLink",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends Ve{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Je(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Je(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ze(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ze(e,{email:this._email,oobCode:this._password});default:v(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return je(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Qe(e,{idToken:t,email:this._email,oobCode:this._password});default:v(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xe(e,t){return j(e,"POST","/v1/accounts:signInWithIdp",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et="http://localhost";class tt extends Ve{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new tt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):v("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=s(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new tt(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Xe(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xe(e,t)}buildRequest(){const e={requestUri:et,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t["id_token"]=this.idToken),this.accessToken&&(t["access_token"]=this.accessToken),this.secret&&(t["oauth_token_secret"]=this.secret),t["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(t["nonce"]=this.nonce),e.postBody=(0,r.xO)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nt(e,t){return V(e,"POST","/v1/accounts:sendVerificationCode",U(e,t))}async function rt(e,t){return j(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,t))}async function it(e,t){const n=await j(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,t));if(n.temporaryProof)throw H(e,"account-exists-with-different-credential",n);return n}const st={["USER_NOT_FOUND"]:"user-not-found"};async function ot(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return j(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,n),st)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends Ve{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new at({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new at({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return rt(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return it(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return ot(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new at({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ut(e){const t=(0,r.zd)((0,r.pd)(e))["link"],n=t?(0,r.zd)((0,r.pd)(t))["deep_link_id"]:null,i=(0,r.zd)((0,r.pd)(e))["deep_link_id"],s=i?(0,r.zd)((0,r.pd)(i))["link"]:null;return s||i||n||t||e}class ct{constructor(e){var t,n,i,s,o,a;const l=(0,r.zd)((0,r.pd)(e)),u=null!==(t=l["apiKey"])&&void 0!==t?t:null,c=null!==(n=l["oobCode"])&&void 0!==n?n:null,h=lt(null!==(i=l["mode"])&&void 0!==i?i:null);S(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=null!==(s=l["continueUrl"])&&void 0!==s?s:null,this.languageCode=null!==(o=l["languageCode"])&&void 0!==o?o:null,this.tenantId=null!==(a=l["tenantId"])&&void 0!==a?a:null}static parseLink(e){const t=ut(e);try{return new ct(t)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ht{constructor(){this.providerId=ht.PROVIDER_ID}static credential(e,t){return Je._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ct.parseLink(t);return S(n,"argument-error"),Je._fromEmailAndCode(e,n.code,n.tenantId)}}ht.PROVIDER_ID="password",ht.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ht.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends dt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pt extends ft{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return S("providerId"in t&&"signInMethod"in t,"argument-error"),tt._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return S(e.idToken||e.accessToken,"argument-error"),tt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return pt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return pt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!n&&!r&&!t&&!i)return null;if(!o)return null;try{return new pt(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends ft{constructor(){super("facebook.com")}static credential(e){return tt._fromParams({providerId:mt.PROVIDER_ID,signInMethod:mt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mt.credentialFromTaggedObject(e)}static credentialFromError(e){return mt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return mt.credential(e.oauthAccessToken)}catch(t){return null}}}mt.FACEBOOK_SIGN_IN_METHOD="facebook.com",mt.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class gt extends ft{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tt._fromParams({providerId:gt.PROVIDER_ID,signInMethod:gt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gt.credentialFromTaggedObject(e)}static credentialFromError(e){return gt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return gt.credential(t,n)}catch(r){return null}}}gt.GOOGLE_SIGN_IN_METHOD="google.com",gt.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vt extends ft{constructor(){super("github.com")}static credential(e){return tt._fromParams({providerId:vt.PROVIDER_ID,signInMethod:vt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vt.credentialFromTaggedObject(e)}static credentialFromError(e){return vt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return vt.credential(e.oauthAccessToken)}catch(t){return null}}}vt.GITHUB_SIGN_IN_METHOD="github.com",vt.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const yt="http://localhost";class _t extends Ve{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Xe(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xe(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new _t(n,i):null}static _create(e,t){return new _t(e,t)}buildRequest(){return{requestUri:yt,returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="saml.";class bt extends dt{constructor(e){S(e.startsWith(wt),"argument-error"),super(e)}static credentialFromResult(e){return bt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return bt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=_t.fromJSON(e);return S(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return _t._create(n,t)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends ft{constructor(){super("twitter.com")}static credential(e,t){return tt._fromParams({providerId:St.PROVIDER_ID,signInMethod:St.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return St.credentialFromTaggedObject(e)}static credentialFromError(e){return St.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return St.credential(t,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function kt(e,t){return j(e,"POST","/v1/accounts:signUp",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */St.TWITTER_SIGN_IN_METHOD="twitter.com",St.PROVIDER_ID="twitter.com";class Tt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await he._fromIdTokenResponse(e,n,r),s=It(n),o=new Tt({user:i,providerId:s,_tokenResponse:n,operationType:t});return o}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=It(n);return new Tt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function It(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Et(e){var t;const n=Oe(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Tt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await kt(n,{returnSecureToken:!0}),i=await Tt._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends r.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ct.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ct(e,t,n,r)}}function xt(e,t,n,r){const i="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i.catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ct._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rt(e,t){const n=(0,r.m9)(e);await Nt(!0,n,t);const{providerUserInfo:i}=await K(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),s=At(i||[]);return n.providerData=n.providerData.filter((e=>s.has(e.providerId))),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Pt(e,t,n=!1){const r=await ee(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Tt._forOperation(e,"link",r)}async function Nt(e,t,n){await ie(t);const r=At(t.providerData),i=!1===e?"provider-already-linked":"no-such-provider";S(r.has(n)===e,t.auth,i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ot(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await ee(e,xt(r,i,t,e),n);S(s.idToken,r,"internal-error");const o=J(s.idToken);S(o,r,"internal-error");const{sub:a}=o;return S(e.uid===a,r,"user-mismatch"),Tt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&v(r,"user-mismatch"),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dt(e,t,n=!1){const r="signIn",i=await xt(e,r,t),s=await Tt._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Lt(e,t){return Dt(Oe(e),t)}async function Mt(e,t){const n=(0,r.m9)(e);return await Nt(!1,n,t.providerId),Pt(n,t)}async function Ft(e,t){return Ot((0,r.m9)(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qt(e,t){return j(e,"POST","/v1/accounts:signInWithCustomToken",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ut(e,t){const n=Oe(e),r=await qt(n,{token:t,returnSecureToken:!0}),i=await Tt._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Bt._fromServerResponse(e,t):v(e,"internal-error")}}class Bt extends Vt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Bt(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e,t,n){var r;S((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),S("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(S(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(S(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $t(e,t,n){const i=(0,r.m9)(e),s={requestType:"PASSWORD_RESET",email:t};n&&jt(i,s,n),await Ke(i,s)}async function zt(e,t,n){await Be((0,r.m9)(e),{oobCode:t,newPassword:n})}async function Ht(e,t){await $e((0,r.m9)(e),{oobCode:t})}async function Wt(e,t){const n=(0,r.m9)(e),i=await Be(n,{oobCode:t}),s=i.requestType;switch(S(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":S(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":S(i.mfaInfo,n,"internal-error");default:S(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=Vt._fromServerResponse(Oe(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function Kt(e,t){const{data:n}=await Wt((0,r.m9)(e),t);return n.email}async function Gt(e,t,n){const r=Oe(e),i=await kt(r,{returnSecureToken:!0,email:t,password:n}),s=await Tt._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function Yt(e,t,n){return Lt((0,r.m9)(e),ht.credential(t,n))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zt(e,t,n){const i=(0,r.m9)(e),s={requestType:"EMAIL_SIGNIN",email:t};S(n.handleCodeInApp,i,"argument-error"),n&&jt(i,s,n),await Ge(i,s)}function Qt(e,t){const n=ct.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function Jt(e,t,n){const i=(0,r.m9)(e),s=ht.credentialWithLink(t,n||A());return S(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Lt(i,s)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xt(e,t){return V(e,"POST","/v1/accounts:createAuthUri",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function en(e,t){const n=R()?A():"http://localhost",i={identifier:t,continueUri:n},{signinMethods:s}=await Xt((0,r.m9)(e),i);return s||[]}async function tn(e,t){const n=(0,r.m9)(e),i=await e.getIdToken(),s={requestType:"VERIFY_EMAIL",idToken:i};t&&jt(n.auth,s,t);const{email:o}=await We(n.auth,s);o!==e.email&&await e.reload()}async function nn(e,t,n){const i=(0,r.m9)(e),s=await e.getIdToken(),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:t};n&&jt(i.auth,o,n);const{email:a}=await Ye(i.auth,o);a!==e.email&&await e.reload()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rn(e,t){return V(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sn(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=(0,r.m9)(e),s=await i.getIdToken(),o={idToken:s,displayName:t,photoUrl:n,returnSecureToken:!0},a=await ee(i,rn(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const l=i.providerData.find((({providerId:e})=>"password"===e));l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function on(e,t){return ln((0,r.m9)(e),t,null)}function an(e,t){return ln((0,r.m9)(e),null,t)}async function ln(e,t,n){const{auth:r}=e,i=await e.getIdToken(),s={idToken:i,returnSecureToken:!0};t&&(s.email=t),n&&(s.password=n);const o=await ee(e,je(r,s));await e._updateTokensIfNecessary(o,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=J(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n["sign_in_provider"];if(r){const e="anonymous"!==r&&"custom"!==r?r:null;return new cn(s,e)}}if(!r)return null;switch(r){case"facebook.com":return new dn(s,i);case"github.com":return new fn(s,i);case"google.com":return new pn(s,i);case"twitter.com":return new mn(s,i,e.screenName||null);case"custom":case"anonymous":return new cn(s,null);default:return new cn(s,r,i)}}class cn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class hn extends cn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class dn extends cn{constructor(e,t){super(e,"facebook.com",t)}}class fn extends hn{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class pn extends cn{constructor(e,t){super(e,"google.com",t)}}class mn extends hn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function gn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:un(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(e){return(0,r.m9)(e).signOut()}class yn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new yn("enroll",e)}static _fromMfaPendingCredential(e){return new yn("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return yn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return yn._fromIdtoken(e.multiFactorSession.idToken)}return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Oe(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Vt._fromServerResponse(n,e)));S(r.mfaPendingCredential,n,"internal-error");const s=yn._fromMfaPendingCredential(r.mfaPendingCredential);return new _n(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Tt._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return S(t.user,n,"internal-error"),Tt._forOperation(t.user,t.operationType,o);default:v(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function wn(e,t){var n;const i=(0,r.m9)(e),s=t;return S(t.customData.operationType,i,"argument-error"),S(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),_n._fromError(i,s)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(e,t){return V(e,"POST","/v2/accounts/mfaEnrollment:start",U(e,t))}function Sn(e,t){return V(e,"POST","/v2/accounts/mfaEnrollment:finalize",U(e,t))}function kn(e,t){return V(e,"POST","/v2/accounts/mfaEnrollment:withdraw",U(e,t))}class Tn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Vt._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Tn(e)}async getSession(){return yn._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await ee(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken(),r=await ee(this.user,kn(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(i){if("auth/user-token-expired"!==i.code)throw i}}}const In=new WeakMap;function En(e){const t=(0,r.m9)(e);return In.has(t)||In.set(t,Tn._fromUser(t)),In.get(t)}const Cn="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cn,"1"),this.storage.removeItem(Cn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){const e=(0,r.z$)();return ye(e)||Te(e)}const Rn=1e3,Pn=10;class Nn extends xn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=An()&&Ae(),this.fallbackToPolling=xe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ce()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Pn):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),Rn)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nn.type="LOCAL";const On=Nn;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn extends xn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Dn.type="SESSION";const Ln=Dn;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(e){return Promise.all(e.map((async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Fn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await Mn(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qn(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.receivers=[];class Un{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=qn("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function Bn(e){Vn().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return"undefined"!==typeof Vn()["WorkerGlobalScope"]&&"function"===typeof Vn()["importScripts"]}async function $n(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}function zn(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function Hn(){return jn()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="firebaseLocalStorageDb",Kn=1,Gn="firebaseLocalStorage",Yn="fbase_key";class Zn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Qn(e,t){return e.transaction([Gn],t?"readwrite":"readonly").objectStore(Gn)}function Jn(){const e=indexedDB.deleteDatabase(Wn);return new Zn(e).toPromise()}function Xn(){const e=indexedDB.open(Wn,Kn);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Gn,{keyPath:Yn})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Gn)?t(n):(n.close(),await Jn(),t(await Xn()))}))}))}async function er(e,t,n){const r=Qn(e,!0).put({[Yn]:t,value:n});return new Zn(r).toPromise()}async function tr(e,t){const n=Qn(e,!1).get(t),r=await new Zn(n).toPromise();return void 0===r?null:r.value}function nr(e,t){const n=Qn(e,!0).delete(t);return new Zn(n).toPromise()}const rr=800,ir=3;class sr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Xn()),this.db}async _withRetries(e){let t=0;while(1)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>ir)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fn._getInstance(Hn()),this.receiver._subscribe("keyChanged",(async(e,t)=>{const n=await this._poll();return{keyProcessed:n.includes(t.key)}})),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await $n(),!this.activeServiceWorker)return;this.sender=new Un(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&zn()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xn();return await er(e,Cn,"1"),await nr(e,Cn),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>er(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>tr(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>nr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Qn(e,!1).getAll();return new Zn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),rr)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}sr.type="LOCAL";const or=sr;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(e,t){return V(e,"POST","/v2/accounts/mfaSignIn:start",U(e,t))}function lr(e,t){return V(e,"POST","/v2/accounts/mfaSignIn:finalize",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ur(e){return(await V(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}function hr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=y("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",cr().appendChild(r)}))}function dr(e){return`__${e}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=500,pr=6e4,mr=1e12;class gr{constructor(e){this.auth=e,this.counter=mr,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new vr(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||mr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||mr;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||mr;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class vr{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;S(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=yr(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),pr)}),fr))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function yr(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=dr("rcb"),wr=new D(3e4,6e4),br="https://www.google.com/recaptcha/api.js?";class Sr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Vn().grecaptcha}load(e,t=""){return S(kr(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Vn().grecaptcha):new Promise(((n,i)=>{const s=Vn().setTimeout((()=>{i(y(e,"network-request-failed"))}),wr.get());Vn()[_r]=()=>{Vn().clearTimeout(s),delete Vn()[_r];const r=Vn().grecaptcha;if(!r)return void i(y(e,"internal-error"));const o=r.render;r.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(r)};const o=`${br}?${(0,r.xO)({onload:_r,render:"explicit",hl:t})}`;hr(o).catch((()=>{clearTimeout(s),i(y(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Vn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function kr(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class Tr{async load(e){return new gr(e)}clearedOneInstance(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="recaptcha",Er={theme:"light",type:"image"};class Cr{constructor(e,t=Object.assign({},Er),n){this.parameters=t,this.type=Ir,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oe(n),this.isInvisible="invisible"===this.parameters.size,S("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;S(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Tr:new Sr,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){S(!this.parameters.sitekey,this.auth,"argument-error"),S(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),S("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Vn()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){S(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){S(R()&&!jn(),this.auth,"internal-error"),await xr(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await ur(this.auth);S(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return S(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function xr(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=at._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Rr(e,t,n){const i=Oe(e),s=await Or(i,t,(0,r.m9)(n));return new Ar(s,(e=>Lt(i,e)))}async function Pr(e,t,n){const i=(0,r.m9)(e);await Nt(!1,i,"phone");const s=await Or(i.auth,t,(0,r.m9)(n));return new Ar(s,(e=>Mt(i,e)))}async function Nr(e,t,n){const i=(0,r.m9)(e),s=await Or(i.auth,t,(0,r.m9)(n));return new Ar(s,(e=>Ft(i,e)))}async function Or(e,t,n){var r;const i=await n.verify();try{let s;if(S("string"===typeof i,e,"argument-error"),S(n.type===Ir,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){S("enroll"===t.type,e,"internal-error");const n=await bn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{S("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;S(n,e,"missing-multi-factor-info");const o=await ar(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await nt(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}async function Dr(e,t){await Pt((0,r.m9)(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.providerId=Lr.PROVIDER_ID,this.auth=Oe(e)}verifyPhoneNumber(e,t){return Or(this.auth,e,(0,r.m9)(t))}static credential(e,t){return at._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Lr.credentialFromTaggedObject(t)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?at._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Mr(e,t){return t?E(t):(S(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr.PROVIDER_ID="phone",Lr.PHONE_SIGN_IN_METHOD="phone";class Fr extends Ve{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qr(e){return Dt(e.auth,new Fr(e),e.bypassAuthState)}function Ur(e){const{auth:t,user:n}=e;return S(n,t,"internal-error"),Ot(n,new Fr(e),e.bypassAuthState)}async function Vr(e){const{auth:t,user:n}=e;return S(n,t,"internal-error"),Pt(n,new Fr(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qr;case"linkViaPopup":case"linkViaRedirect":return Vr;case"reauthViaPopup":case"reauthViaRedirect":return Ur;default:v(this.auth,"internal-error")}}resolve(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new D(2e3,1e4);async function $r(e,t,n){const r=Oe(e);w(e,t,dt);const i=Mr(r,n),s=new Wr(r,"signInViaPopup",t,i);return s.executeNotNull()}async function zr(e,t,n){const i=(0,r.m9)(e);w(i.auth,t,dt);const s=Mr(i.auth,n),o=new Wr(i.auth,"reauthViaPopup",t,s,i);return o.executeNotNull()}async function Hr(e,t,n){const i=(0,r.m9)(e);w(i.auth,t,dt);const s=Mr(i.auth,n),o=new Wr(i.auth,"linkViaPopup",t,s,i);return o.executeNotNull()}class Wr extends Br{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return S(e,this.auth,"internal-error"),e}async onExecution(){T(1===this.filter.length,"Popup operations only handle one event");const e=qn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(y(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(y(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(y(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,jr.get())};e()}}Wr.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Kr="pendingRedirect",Gr=new Map;class Yr extends Br{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Gr.get(this.auth._key());if(!e){try{const t=await Zr(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Gr.set(this.auth._key(),e)}return this.bypassAuthState||Gr.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Zr(e,t){const n=ti(t),r=ei(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}async function Qr(e,t){return ei(e)._set(ti(t),"true")}function Jr(){Gr.clear()}function Xr(e,t){Gr.set(e._key(),t)}function ei(e){return E(e._redirectPersistence)}function ti(e){return pe(Kr,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(e,t,n){return ri(e,t,n)}async function ri(e,t,n){const r=Oe(e);w(e,t,dt);const i=Mr(r,n);return await Qr(i,r),i._openRedirect(r,t,"signInViaRedirect")}function ii(e,t,n){return si(e,t,n)}async function si(e,t,n){const i=(0,r.m9)(e);w(i.auth,t,dt);const s=Mr(i.auth,n);await Qr(s,i.auth);const o=await ci(i);return s._openRedirect(i.auth,t,"reauthViaRedirect",o)}function oi(e,t,n){return ai(e,t,n)}async function ai(e,t,n){const i=(0,r.m9)(e);w(i.auth,t,dt);const s=Mr(i.auth,n);await Nt(!1,i,t.providerId),await Qr(s,i.auth);const o=await ci(i);return s._openRedirect(i.auth,t,"linkViaRedirect",o)}async function li(e,t){return await Oe(e)._initializationPromise,ui(e,t,!1)}async function ui(e,t,n=!1){const r=Oe(e),i=Mr(r,t),s=new Yr(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function ci(e){const t=qn(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=6e5;class di{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!mi(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!pi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(y(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hi&&this.cachedEventUids.clear(),this.cachedEventUids.has(fi(e))}saveEventToCache(e){this.cachedEventUids.add(fi(e)),this.lastProcessedEventTime=Date.now()}}function fi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function pi({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}function mi(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pi(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gi(e,t={}){return V(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yi=/^https?/;async function _i(e){if(e.config.emulator)return;const{authorizedDomains:t}=await gi(e);for(const r of t)try{if(wi(r))return}catch(n){}v(e,"unauthorized-domain")}function wi(e){const t=A(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!yi.test(n))return!1;if(vi.test(e))return r===e;const i=e.replace(/\./g,"\\."),s=new RegExp("^(.+\\."+i+"|"+i+")$","i");return s.test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new D(3e4,6e4);function Si(){const e=Vn().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ki(e){return new Promise(((t,n)=>{var r,i,s;function o(){Si(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Si(),n(y(e,"network-request-failed"))},timeout:bi.get()})}if(null===(i=null===(r=Vn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Vn().gapi)||void 0===s?void 0:s.load)){const t=dr("iframefcb");return Vn()[t]=()=>{gapi.load?o():n(y(e,"network-request-failed"))},hr(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw Ti=null,e}))}let Ti=null;function Ii(e){return Ti=Ti||ki(e),Ti}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new D(5e3,15e3),Ci="__/auth/iframe",xi="emulator/auth/iframe",Ai={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ri=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pi(e){const t=e.config;S(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?L(t,xi):`https://${e.config.authDomain}/${Ci}`,s={apiKey:t.apiKey,appName:e.name,v:i.SDK_VERSION},o=Ri.get(e.config.apiHost);o&&(s.eid=o);const a=e._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${(0,r.xO)(s).slice(1)}`}async function Ni(e){const t=await Ii(e),n=Vn().gapi;return S(n,e,"internal-error"),t.open({where:document.body,url:Pi(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ai,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=y(e,"network-request-failed"),s=Vn().setTimeout((()=>{r(i)}),Ei.get());function o(){Vn().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Di=500,Li=600,Mi="_blank",Fi="http://localhost";class qi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ui(e,t,n,i=Di,s=Li){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Oi),{width:i.toString(),height:s.toString(),top:o,left:a}),c=(0,r.z$)().toLowerCase();n&&(l=_e(c)?Mi:n),ve(c)&&(t=t||Fi,u.scrollbars="yes");const h=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(Ee(c)&&"_self"!==l)return Vi(t||"",l),new qi(null);const d=window.open(t||"",l,h);S(d,e,"popup-blocked");try{d.focus()}catch(f){}return new qi(d)}function Vi(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="__/auth/handler",ji="emulator/auth/handler";function $i(e,t,n,s,o,a){S(e.config.authDomain,e,"auth-domain-config-required"),S(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:i.SDK_VERSION,eventId:o};if(t instanceof dt){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,r.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof ft){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const u=l;for(const r of Object.keys(u))void 0===u[r]&&delete u[r];return`${zi(e)}?${(0,r.xO)(u).slice(1)}`}function zi({config:e}){return e.emulator?L(e,ji):`https://${e.authDomain}/${Bi}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="webStorageSupport";class Wi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ln,this._completeRedirectFn=ui,this._overrideRedirectResult=Xr}async _openPopup(e,t,n,r){var i;T(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");const s=$i(e,t,n,A(),r);return Ui(e,s,qn())}async _openRedirect(e,t,n,r){return await this._originValidation(e),Bn($i(e,t,n,A(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(T(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ni(e),n=new di(e);return t.register("authEvent",(t=>{S(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");const r=n.onEvent(t.authEvent);return{status:r?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){const n=this.iframes[e._key()];n.send(Hi,{type:Hi},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Hi];void 0!==i&&t(!!i),v(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_i(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xe()||ye()||Te()}}const Ki=Wi;class Gi{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return k("unexpected MultiFactorSessionType")}}}class Yi extends Gi{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Yi(e)}_finalizeEnroll(e,t,n){return Sn(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return lr(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Zi{constructor(){}static assertion(e){return Yi._fromCredential(e)}}Zi.FACTOR_ID="phone";var Qi="@firebase/auth",Ji="0.20.1";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function ts(e){(0,i._registerComponent)(new a.wA("auth",((t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((t,r)=>{S(s&&!s.includes(":"),"invalid-api-key",{appName:t.name}),S(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:t.name});const i={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Re(e)},a=new Ne(t,r,i);return x(a,n),a})(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{const r=e.getProvider("auth-internal");r.initialize()}))),(0,i._registerComponent)(new a.wA("auth-internal",(e=>{const t=Oe(e.getProvider("auth").getImmediate());return(e=>new Xi(e))(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.registerVersion)(Qi,Ji,es(e)),(0,i.registerVersion)(Qi,Ji,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e=(0,i.getApp)()){const t=(0,i._getProvider)(e,"auth");return t.isInitialized()?t.getImmediate():C(e,{popupRedirectResolver:Ki,persistence:[or,On,Ln]})}ts("Browser")},7574:(e,t,n)=>{"use strict";n.d(t,{u7:()=>tm,Jj:()=>Zf,IX:()=>Df,my:()=>kf,xU:()=>Ap,Lz:()=>Yf,WA:()=>ei,F8:()=>Jf,$q:()=>Rp,W:()=>Pp,EK:()=>gi,PU:()=>im,l7:()=>Mi,Ky:()=>Vi,Xb:()=>Ti,Cf:()=>yf,K9:()=>Qr,Me:()=>Ei,yq:()=>Kr,Wi:()=>pf,ET:()=>gm,Ab:()=>Em,vr:()=>Im,Fc:()=>jf,hJ:()=>Ef,B$:()=>Cf,at:()=>Sf,oe:()=>mm,AK:()=>km,TF:()=>Hf,JU:()=>xf,ST:()=>Uf,fH:()=>Vf,Ix:()=>zf,Wu:()=>Yp,Lx:()=>Gp,qY:()=>Ff,GL:()=>_m,QT:()=>om,kl:()=>lm,Xk:()=>um,PL:()=>cm,UQ:()=>hm,zN:()=>dm,ad:()=>Mf,nP:()=>Cm,b9:()=>jp,vh:()=>$p,Pb:()=>Wf,L$:()=>Kf,cf:()=>vm,sc:()=>ym,Xo:()=>Vp,IO:()=>Mp,iE:()=>Rf,Eo:()=>Af,i3:()=>Sm,Bt:()=>Tm,pl:()=>fm,Ub:()=>zr,qK:()=>Op,TQ:()=>Wp,e0:()=>Hp,r7:()=>pm,Mx:()=>$f,ar:()=>qp});var r,i=n(8897),s=n(3513),o=n(9795),a=n(5505),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},u={},c=c||{},h=l||self;function d(){}function f(e){var t=typeof e;return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++v)}var g="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:_,w.apply(null,arguments)}function b(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function S(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function k(){this.s=this.s,this.o=this.o}var T=0,I={};k.prototype.s=!1,k.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=T)){var e=m(this);delete I[e]}},k.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const E=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},C=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"===typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function x(e){e:{var t=Wn;const n=e.length,r="string"===typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}function A(e){return Array.prototype.concat.apply([],arguments)}function R(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function P(e){return/^[\s\xa0]*$/.test(e)}var N,O=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return-1!=e.indexOf(t)}function L(e,t){return e<t?-1:e>t?1:0}e:{var M=h.navigator;if(M){var F=M.userAgent;if(F){N=F;break e}}N=""}function q(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function U(e){const t={};for(const n in e)t[n]=e[n];return t}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<V.length;t++)n=V[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){return j[" "](e),e}function $(e){var t=ne;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}j[" "]=d;var z,H=D(N,"Opera"),W=D(N,"Trident")||D(N,"MSIE"),K=D(N,"Edge"),G=K||W,Y=D(N,"Gecko")&&!(D(N.toLowerCase(),"webkit")&&!D(N,"Edge"))&&!(D(N,"Trident")||D(N,"MSIE"))&&!D(N,"Edge"),Z=D(N.toLowerCase(),"webkit")&&!D(N,"Edge");function Q(){var e=h.document;return e?e.documentMode:void 0}e:{var J="",X=function(){var e=N;return Y?/rv:([^\);]+)(\)|;)/.exec(e):K?/Edge\/([\d\.]+)/.exec(e):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Z?/WebKit\/(\S+)/.exec(e):H?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(X&&(J=X?X[1]:""),W){var ee=Q();if(null!=ee&&ee>parseFloat(J)){z=String(ee);break e}}z=J}var te,ne={};function re(){return $((function(){let e=0;const t=O(String(z)).split("."),n=O("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=L(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||L(0==i[2].length,0==s[2].length)||L(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(h.document&&W){var ie=Q();te=ie||(parseInt(z,10)||void 0)}else te=void 0;var se=te,oe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",d,t),h.removeEventListener("test",d,t)}catch(n){}return e}();function ae(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function le(e,t){if(ae.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Y){e:{try{j(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ue[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&le.Z.h.call(this)}}ae.prototype.h=function(){this.defaultPrevented=!0},S(le,ae);var ue={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),he=0;function de(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++he,this.ca=this.fa=!1}function fe(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pe(e){this.src=e,this.g={},this.h=0}function me(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=E(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(fe(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ge(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}pe.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=ge(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new de(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};var ve="closure_lm_"+(1e6*Math.random()|0),ye={};function _e(e,t,n,r,i){if(r&&r.once)return Se(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)_e(e,t[s],n,r,i);return null}return n=Ae(n),e&&e[ce]?e.N(t,n,p(r)?!!r.capture:!!r,i):we(e,t,n,!1,r,i)}function we(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=p(i)?!!i.capture:!!i,a=Ce(e);if(a||(e[ve]=a=new pe(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=be(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)oe||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ie(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function be(){function e(n){return t.call(e.src,e.listener,n)}var t=Ee;return e}function Se(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Se(e,t[s],n,r,i);return null}return n=Ae(n),e&&e[ce]?e.O(t,n,p(r)?!!r.capture:!!r,i):we(e,t,n,!0,r,i)}function ke(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ke(e,t[s],n,r,i);else r=p(r)?!!r.capture:!!r,n=Ae(n),e&&e[ce]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=ge(s,n,r,i),-1<n&&(fe(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ge(t,n,r,i)),(n=-1<e?t[e]:null)&&Te(n))}function Te(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ce])me(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ie(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ce(t))?(me(n,e),0==n.h&&(n.src=null,t[ve]=null)):fe(e)}}}function Ie(e){return e in ye?ye[e]:ye[e]="on"+e}function Ee(e,t){if(e.ca)e=!0;else{t=new le(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Te(e),e=n.call(r,t)}return e}function Ce(e){return e=e[ve],e instanceof pe?e:null}var xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(e){return"function"===typeof e?e:(e[xe]||(e[xe]=function(t){return e.handleEvent(t)}),e[xe])}function Re(){k.call(this),this.i=new pe(this),this.P=this,this.I=null}function Pe(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ae(t,e);else if(t instanceof ae)t.target=t.target||e;else{var i=t;t=new ae(r,e),B(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ne(o,r,!0,t)&&i}if(o=t.g=e,i=Ne(o,r,!0,t)&&i,i=Ne(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Ne(o,r,!1,t)&&i}function Ne(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&me(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}S(Re,k),Re.prototype[ce]=!0,Re.prototype.removeEventListener=function(e,t,n,r){ke(this,e,t,n,r)},Re.prototype.M=function(){if(Re.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fe(n[r]);delete t.g[e],t.h--}}this.I=null},Re.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Re.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Oe=h.JSON.stringify;function De(){var e=$e;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Le{constructor(){this.h=this.g=null}add(e,t){const n=Fe.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var Me,Fe=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new qe),(e=>e.reset()));class qe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ue(e){h.setTimeout((()=>{throw e}),0)}function Ve(e,t){Me||Be(),je||(Me(),je=!0),$e.add(e,t)}function Be(){var e=h.Promise.resolve(void 0);Me=function(){e.then(ze)}}var je=!1,$e=new Le;function ze(){for(var e;e=De();){try{e.h.call(e.g)}catch(n){Ue(n)}var t=Fe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}je=!1}function He(e,t){Re.call(this),this.h=e||1,this.g=t||h,this.j=w(this.kb,this),this.l=Date.now()}function We(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ke(e,t,n){if("function"===typeof e)n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function Ge(e){e.g=Ke((()=>{e.g=null,e.i&&(e.i=!1,Ge(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}S(He,Re),r=He.prototype,r.da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pe(this,"tick"),this.da&&(We(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){He.Z.M.call(this),We(this),delete this.g};class Ye extends k{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ge(this)}M(){super.M(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(e){k.call(this),this.h=e,this.g={}}S(Ze,k);var Qe=[];function Je(e,t,n,r){Array.isArray(n)||(n&&(Qe[0]=n.toString()),n=Qe);for(var i=0;i<n.length;i++){var s=_e(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Xe(e){q(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Te(e)}),e),e.g={}}function et(){this.g=!0}function tt(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}function nt(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}function rt(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+st(e,n)+(r?" "+r:"")}))}function it(e,t){e.info((function(){return"TIMEOUT: "+t}))}function st(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Oe(n)}catch(a){return t}}Ze.prototype.M=function(){Ze.Z.M.call(this),Xe(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},et.prototype.Aa=function(){this.g=!1},et.prototype.info=function(){};var ot={},at=null;function lt(){return at=at||new Re}function ut(e){ae.call(this,ot.Ma,e)}function ct(e){const t=lt();Pe(t,new ut(t,e))}function ht(e,t){ae.call(this,ot.STAT_EVENT,e),this.stat=t}function dt(e){const t=lt();Pe(t,new ht(t,e))}function ft(e,t){ae.call(this,ot.Na,e),this.size=t}function pt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}ot.Ma="serverreachability",S(ut,ae),ot.STAT_EVENT="statevent",S(ht,ae),ot.Na="timingevent",S(ft,ae);var mt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vt(){}function yt(e){return e.h||(e.h=e.i())}function _t(){}vt.prototype.h=null;var wt,bt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function St(){ae.call(this,"d")}function kt(){ae.call(this,"c")}function Tt(){}function It(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ze(this),this.P=Ct,e=G?125:void 0,this.W=new He(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}S(St,ae),S(kt,ae),S(Tt,vt),Tt.prototype.g=function(){return new XMLHttpRequest},Tt.prototype.i=function(){return{}},wt=new Tt;var Ct=45e3,xt={},At={};function Rt(e,t,n){e.K=1,e.v=tn(Yt(t)),e.s=n,e.U=!0,Pt(e,null)}function Pt(e,t){e.F=Date.now(),Lt(e),e.A=Yt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),vn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Et,e.g=kr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ye(w(e.Ia,e,e.g),e.O)),Je(e.V,e.g,"readystatechange",e.gb),t=e.H?U(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ct(1),tt(e.j,e.u,e.A,e.m,e.X,e.s)}function Nt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ot(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Dt(e,n),r==At){4==t&&(e.o=4,dt(14),i=!1),rt(e.j,e.m,null,"[Incomplete Response]");break}if(r==xt){e.o=4,dt(15),rt(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}rt(e.j,e.m,r,null),Vt(e,r)}Nt(e)&&r!=At&&r!=xt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,dt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mr(t),t.L=!0,dt(11))):(rt(e.j,e.m,n,"[Invalid Chunked Response]"),Ut(e),qt(e))}function Dt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?At:(n=Number(t.substring(n,r)),isNaN(n)?xt:(r+=1,r+n>t.length?At:(t=t.substr(r,n),e.C=r+n,t)))}function Lt(e){e.Y=Date.now()+e.P,Mt(e,e.P)}function Mt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=pt(w(e.eb,e),t)}function Ft(e){e.B&&(h.clearTimeout(e.B),e.B=null)}function qt(e){0==e.l.G||e.I||yr(e.l,e)}function Ut(e){Ft(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,We(e.W),Xe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Vt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||In(n.i,e)))if(n.I=e.N,!e.J&&In(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vr(n),sr(n)}pr(n),dt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=pt(w(n.ab,n),6e3));if(1>=Tn(n.i)&&n.ka){try{n.ka()}catch(u){}n.ka=void 0}}else wr(n,11)}else if((e.J||n.g==e)&&vr(n),!P(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(D(e,"spdy")||D(e,"quic")||D(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(En(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,en(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=e;if(r.oa=Sr(r,r.H?r.la:null,r.W),o.J){Cn(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Ft(a),Lt(a)),r.g=o}else fr(r);0<n.l.length&&lr(n)}else"stop"!=u[0]&&"close"!=u[0]||wr(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?wr(n,7):ir(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}ct(4)}catch(u){}}function Bt(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function jt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"===typeof e)C(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(f(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=Bt(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function $t(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof $t)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function zt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ht(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],Ht(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r=It.prototype,r.setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;const t=this.L;t&&3==Jn(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{const c=Jn(this.g);var t=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||G||this.g&&(this.h.h||this.g.ga()||Xn(this.g)))){this.I||4!=c||7==t||ct(8==t||0>=d?3:2),Ft(this);var n=this.g.ba();this.N=n;t:if(Nt(this)){var r=Xn(this.g);e="";var i=r.length,s=4==Jn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ut(this),qt(this);var o="";break t}this.h.i=new h.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,nt(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,dt(12),Ut(this),qt(this);break e}rt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vt(this,n)}this.U?(Ot(this,c,o),G&&this.i&&3==c&&(Je(this.V,this.W,"tick",this.fb),this.W.start())):(rt(this.j,this.m,o,null),Vt(this,o)),4==c&&Ut(this),this.i&&!this.I&&(4==c?yr(this.l,this):(this.i=!1,Lt(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,dt(12)):(this.o=0,dt(13)),Ut(this),qt(this)}}}catch(c){}},r.fb=function(){if(this.g){var e=Jn(this.g),t=this.g.ga();this.C<t.length&&(Ft(this),Ot(this,e,t),this.i&&4!=e&&Lt(this))}},r.cancel=function(){this.I=!0,Ut(this)},r.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(it(this.j,this.A),2!=this.K&&(ct(3),dt(17)),Ut(this),this.o=2,qt(this)):Mt(this,this.Y-e)},r=$t.prototype,r.R=function(){zt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return zt(this),this.g.concat()},r.get=function(e,t){return Ht(this.h,e)?this.h[e]:t},r.set=function(e,t){Ht(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Wt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Gt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Gt){this.g=void 0!==t?t:e.g,Zt(this,e.j),this.s=e.s,Qt(this,e.i),Jt(this,e.m),this.l=e.l,t=e.h;var n=new fn;n.i=t.i,t.g&&(n.g=new $t(t.g),n.h=t.h),Xt(this,n),this.o=e.o}else e&&(n=String(e).match(Wt))?(this.g=!!t,Zt(this,n[1]||"",!0),this.s=sn(n[2]||""),Qt(this,n[3]||"",!0),Jt(this,n[4]),this.l=sn(n[5]||"",!0),Xt(this,n[6]||"",!0),this.o=sn(n[7]||"")):(this.g=!!t,this.h=new fn(null,this.g))}function Yt(e){return new Gt(e)}function Zt(e,t,n){e.j=n?sn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qt(e,t,n){e.i=n?sn(t,!0):t}function Jt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Xt(e,t,n){t instanceof fn?(e.h=t,_n(e.h,e.g)):(n||(t=on(t,hn)),e.h=new fn(t,e.g))}function en(e,t,n){e.h.set(t,n)}function tn(e){return en(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nn(e){return e instanceof Gt?Yt(e):new Gt(e,void 0)}function rn(e,t,n,r){var i=new Gt(null,void 0);return e&&Zt(i,e),t&&Qt(i,t),n&&Jt(i,n),r&&(i.l=r),i}function sn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function on(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,an),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function an(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}Gt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(on(t,ln,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(on(t,ln,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(on(n,"/"==n.charAt(0)?cn:un,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",on(n,dn)),e.join("")};var ln=/[#\/\?@]/g,un=/[#\?:]/g,cn=/[#\?]/g,hn=/[#\?@]/g,dn=/#/g;function fn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pn(e){e.g||(e.g=new $t,e.h=0,e.i&&Kt(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mn(e,t){pn(e),t=yn(e,t),Ht(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Ht(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&zt(e)))}function gn(e,t){return pn(e),t=yn(e,t),Ht(e.g.h,t)}function vn(e,t,n){mn(e,t),0<n.length&&(e.i=null,e.g.set(yn(e,t),R(n)),e.h+=n.length)}function yn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _n(e,t){t&&!e.j&&(pn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mn(this,t),vn(this,n,e))}),e)),e.j=t}r=fn.prototype,r.add=function(e,t){pn(this),this.i=null,e=yn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){pn(this),this.g.forEach((function(n,r){C(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.T=function(){pn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},r.R=function(e){pn(this);var t=[];if("string"===typeof e)gn(this,e)&&(t=A(t,this.g.get(yn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=A(t,e[n])}return t},r.set=function(e,t){return pn(this),this.i=null,e=yn(this,e),gn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var wn=class{constructor(e,t){this.h=e,this.g=t}};function bn(e){this.l=e||Sn,h.PerformanceNavigationTiming?(e=h.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(h.g&&h.g.Ea&&h.g.Ea()&&h.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sn=10;function kn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Tn(e){return e.h?1:e.g?e.g.size:0}function In(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function En(e,t){e.g?e.g.add(t):e.h=t}function Cn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function xn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return R(e.i)}function An(){}function Rn(){this.g=new An}function Pn(e,t,n){const r=n||"";try{jt(e,(function(e,n){let i=e;p(e)&&(i=Oe(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nn(e,t){const n=new et;if(h.Image){const r=new Image;r.onload=b(On,n,r,"TestLoadImage: loaded",!0,t),r.onerror=b(On,n,r,"TestLoadImage: error",!1,t),r.onabort=b(On,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=b(On,n,r,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function On(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Dn(e){this.l=e.$b||null,this.j=e.ib||!1}function Ln(e,t){Re.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Mn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bn.prototype.cancel=function(){if(this.i=xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},An.prototype.stringify=function(e){return h.JSON.stringify(e,void 0)},An.prototype.parse=function(e){return h.JSON.parse(e,void 0)},S(Dn,vt),Dn.prototype.g=function(){return new Ln(this.l,this.j)},Dn.prototype.i=function(e){return function(){return e}}({}),S(Ln,Re);var Mn=0;function Fn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function qn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Un(e)}function Un(e){e.onreadystatechange&&e.onreadystatechange.call(e)}r=Ln.prototype,r.open=function(e,t){if(this.readyState!=Mn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Un(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||h).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qn(this)),this.readyState=Mn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?qn(this):Un(this),3==this.readyState&&Fn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,qn(this))},r.Ta=function(e){this.g&&(this.response=e,qn(this))},r.ha=function(){this.g&&qn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ln.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Vn=h.JSON.parse;function Bn(e){Re.call(this),this.headers=new $t,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jn,this.K=this.L=!1}S(Bn,Re);var jn="",$n=/^https?$/i,zn=["POST","PUT"];function Hn(e){return W&&re()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function Wn(e){return"content-type"==e.toLowerCase()}function Kn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gn(e),Zn(e)}function Gn(e){e.D||(e.D=!0,Pe(e,"complete"),Pe(e,"error"))}function Yn(e){if(e.h&&"undefined"!=typeof c&&(!e.C[1]||4!=Jn(e)||2!=e.ba()))if(e.v&&4==Jn(e))Ke(e.Fa,0,e);else if(Pe(e,"readystatechange"),4==Jn(e)){e.h=!1;try{const l=e.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.H).match(Wt)[1]||null;if(!i&&h.self&&h.self.location){var s=h.self.location.protocol;i=s.substr(0,s.length-1)}r=!$n.test(i?i.toLowerCase():"")}n=r}if(n)Pe(e,"complete"),Pe(e,"success");else{e.m=6;try{var o=2<Jn(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Gn(e)}}finally{Zn(e)}}}function Zn(e,t){if(e.g){Qn(e);const r=e.g,i=e.C[0]?d:null;e.g=null,e.C=null,t||Pe(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Qn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(h.clearTimeout(e.A),e.A=null)}function Jn(e){return e.g?e.g.readyState:0}function Xn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case jn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function er(e){let t="";return q(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function tr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=er(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):en(e,t,n))}function nr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rr(e){this.za=0,this.l=[],this.h=new et,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nr("baseRetryDelayMs",5e3,e),this.$a=nr("retryDelaySeedMs",1e4,e),this.Ya=nr("forwardChannelMaxRetries",2,e),this.ra=nr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new bn(e&&e.concurrentRequestLimit),this.Ca=new Rn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ir(e){if(or(e),3==e.G){var t=e.V++,n=Yt(e.F);en(n,"SID",e.J),en(n,"RID",t),en(n,"TYPE","terminate"),hr(e,n),t=new It(e,e.h,t,void 0),t.K=2,t.v=tn(Yt(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(t.v.toString(),"")),!n&&h.Image&&((new Image).src=t.v,n=!0),n||(t.g=kr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Lt(t)}br(e)}function sr(e){e.g&&(mr(e),e.g.cancel(),e.g=null)}function or(e){sr(e),e.u&&(h.clearTimeout(e.u),e.u=null),vr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&h.clearTimeout(e.m),e.m=null)}function ar(e,t){e.l.push(new wn(e.Za++,t)),3==e.G&&lr(e)}function lr(e){kn(e.i)||e.m||(e.m=!0,Ve(e.Ha,e),e.C=0)}function ur(e,t){return!(Tn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=pt(w(e.Ha,e,t),_r(e,e.C)),e.C++,!0))}function cr(e,t){var n;n=t?t.m:e.V++;const r=Yt(e.F);en(r,"SID",e.J),en(r,"RID",n),en(r,"AID",e.U),hr(e,r),e.o&&e.s&&tr(r,e.o,e.s),n=new It(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=dr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),En(e.i,n),Rt(n,r,t)}function hr(e,t){e.j&&jt({},(function(e,n){en(t,n,e)}))}function dr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?w(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{Pn(a,e,"req"+n+"_")}catch(Xr){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function fr(e){e.g||e.u||(e.Y=1,Ve(e.Ga,e),e.A=0)}function pr(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=pt(w(e.Ga,e),_r(e,e.A)),e.A++,!0)}function mr(e){null!=e.B&&(h.clearTimeout(e.B),e.B=null)}function gr(e){e.g=new It(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Yt(e.oa);en(t,"RID","rpc"),en(t,"SID",e.J),en(t,"CI",e.N?"0":"1"),en(t,"AID",e.U),hr(e,t),en(t,"TYPE","xmlhttp"),e.o&&e.s&&tr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tn(Yt(t)),n.s=null,n.U=!0,Pt(n,e)}function vr(e){null!=e.v&&(h.clearTimeout(e.v),e.v=null)}function yr(e,t){var n=null;if(e.g==t){vr(e),mr(e),e.g=null;var r=2}else{if(!In(e.i,t))return;n=t.D,Cn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=lt(),Pe(r,new ft(r,n,t,i)),lr(e)}else fr(e);else if(i=t.o,3==i||0==i&&0<e.I||!(1==r&&ur(e,t)||2==r&&pr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:wr(e,5);break;case 4:wr(e,10);break;case 3:wr(e,6);break;default:wr(e,2)}}function _r(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function wr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=w(e.jb,e);n||(n=new Gt("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Zt(n,"https"),tn(n)),Nn(n.toString(),r)}else dt(2);e.G=0,e.j&&e.j.va(t),br(e),or(e)}function br(e){e.G=0,e.I=-1,e.j&&(0==xn(e.i).length&&0==e.l.length||(e.i.i.length=0,R(e.l),e.l.length=0),e.j.ua())}function Sr(e,t,n){let r=nn(n);if(""!=r.i)t&&Qt(r,t+"."+r.i),Jt(r,r.m);else{const e=h.location;r=rn(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&q(e.aa,(function(e,t){en(r,t,e)})),t=e.D,n=e.sa,t&&n&&en(r,t,n),en(r,"VER",e.ma),hr(e,r),r}function kr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Bn(new Dn({ib:!0})):new Bn(e.qa),t.L=e.H,t}function Tr(){}function Ir(){if(W&&!(10<=Number(se)))throw Error("Environmental error: no available transport.")}function Er(e,t){Re.call(this),this.g=new rr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!P(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!P(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ar(this)}function Cr(e){St.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function xr(){kt.call(this),this.status=1}function Ar(e){this.g=e}r=Bn.prototype,r.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wt.g(),this.C=this.u?yt(this.u):yt(wt),this.g.onreadystatechange=w(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Kn(this,s)}e=n||"";const i=new $t(this.headers);r&&jt(r,(function(e,t){i.set(t,e)})),r=x(i.T()),n=h.FormData&&e instanceof h.FormData,!(0<=E(zn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qn(this),0<this.B&&((this.K=Hn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.pa,this)):this.A=Ke(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kn(this,s)}},r.pa=function(){"undefined"!=typeof c&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pe(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Pe(this,"complete"),Pe(this,"abort"),Zn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zn(this,!0)),Bn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Yn(this):this.cb())},r.cb=function(){Yn(this)},r.ba=function(){try{return 2<Jn(this)?this.g.status:-1}catch(e){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vn(t)}},r.Da=function(){return this.m},r.La=function(){return"string"===typeof this.j?this.j:String(this.j)},r=rr.prototype,r.ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new It(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=U(s),B(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(r="__data__"in r.g&&(r=r.g.__data__,"string"===typeof r)?r.length:void 0,void 0===r)break;if(t+=r,4096<t){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=dr(this,i,t),n=Yt(this.F),en(n,"RID",e),en(n,"CVER",22),this.D&&en(n,"X-HTTP-Session-Id",this.D),hr(this,n),this.o&&s&&tr(n,this.o,s),En(this.i,i),this.Ra&&en(n,"TYPE","init"),this.ja?(en(n,"$req",t),en(n,"SID","null"),i.$=!0,Rt(i,n,null)):Rt(i,n,t),this.G=2}}else 3==this.G&&(e?cr(this,e):0==this.l.length||kn(this.i)||cr(this))},r.Ga=function(){if(this.u=null,gr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=pt(w(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,dt(10),sr(this),gr(this))},r.ab=function(){null!=this.v&&(this.v=null,sr(this),pr(this),dt(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),dt(2)):(this.h.info("Failed to ping google.com"),dt(1))},r=Tr.prototype,r.xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},Ir.prototype.g=function(e,t){return new Er(e,t)},S(Er,Re),Er.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ve(w(e.hb,e,t))),dt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Sr(e,null,e.W),lr(e)},Er.prototype.close=function(){ir(this.g)},Er.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ar(this.g,t)}else this.v?(t={},t.__data__=Oe(e),ar(this.g,t)):ar(this.g,e)},Er.prototype.M=function(){this.g.j=null,delete this.j,ir(this.g),delete this.g,Er.Z.M.call(this)},S(Cr,St),S(xr,kt),S(Ar,Tr),Ar.prototype.xa=function(){Pe(this.g,"a")},Ar.prototype.wa=function(e){Pe(this.g,new Cr(e))},Ar.prototype.va=function(e){Pe(this.g,new xr(e))},Ar.prototype.ua=function(){Pe(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,Er.prototype.send=Er.prototype.u,Er.prototype.open=Er.prototype.m,Er.prototype.close=Er.prototype.close,mt.NO_ERROR=0,mt.TIMEOUT=8,mt.HTTP_ERROR=6,gt.COMPLETE="complete",_t.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",Re.prototype.listen=Re.prototype.N,Bn.prototype.listenOnce=Bn.prototype.O,Bn.prototype.getLastError=Bn.prototype.La,Bn.prototype.getLastErrorCode=Bn.prototype.Da,Bn.prototype.getStatus=Bn.prototype.ba,Bn.prototype.getResponseJson=Bn.prototype.Qa,Bn.prototype.getResponseText=Bn.prototype.ga,Bn.prototype.send=Bn.prototype.ea;var Rr=u.createWebChannelTransport=function(){return new Ir},Pr=u.getStatEventTarget=function(){return lt()},Nr=u.ErrorCode=mt,Or=u.EventType=gt,Dr=u.Event=ot,Lr=u.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Mr=u.FetchXmlHttpFactory=Dn,Fr=u.WebChannel=_t,qr=u.XhrIo=Bn;const Ur="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Br="9.8.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new o.Yd("@firebase/firestore");function $r(){return jr.logLevel}function zr(e){jr.setLogLevel(e)}function Hr(e,...t){if(jr.logLevel<=o["in"].DEBUG){const n=t.map(Gr);jr.debug(`Firestore (${Br}): ${e}`,...n)}}function Wr(e,...t){if(jr.logLevel<=o["in"].ERROR){const n=t.map(Gr);jr.error(`Firestore (${Br}): ${e}`,...n)}}function Kr(e,...t){if(jr.logLevel<=o["in"].WARN){const n=t.map(Gr);jr.warn(`Firestore (${Br}): ${e}`,...n)}}function Gr(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(e="Unexpected state"){const t=`FIRESTORE (${Br}) INTERNAL ASSERTION FAILED: `+e;throw Wr(t),new Error(t)}function Zr(e,t){e||Yr()}function Qr(e,t){e||Yr()}function Jr(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ei extends a.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ri{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Vr.UNAUTHENTICATED)))}shutdown(){}}class ii{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class si{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ti,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Hr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Hr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ti)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Hr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Zr("string"==typeof t.accessToken),new ni(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zr(null===e||"string"==typeof e),new Vr(e)}}class oi{constructor(e,t,n){this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class ai{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new oi(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class li{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ui{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&Hr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,Hr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Hr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):Hr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Zr("string"==typeof e.token),this.p=e.token,new li(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ci{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci.A=-1;class di{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=hi(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function fi(e,t){return e<t?-1:e>t?1:0}function pi(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function mi(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ei(Xr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ei(Xr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ei(Xr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ei(Xr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gi.fromMillis(Date.now())}static fromDate(e){return gi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new gi(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fi(this.nanoseconds,e.nanoseconds):fi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vi(e)}static min(){return new vi(new gi(0,0))}static max(){return new vi(new gi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _i(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,t,n){void 0===t?t=0:t>e.length&&Yr(),void 0===n?n=e.length-t:n>e.length-t&&Yr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===bi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Si extends bi{construct(e,t,n){return new Si(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ei(Xr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Si(t)}static emptyPath(){return new Si([])}}const ki=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends bi{construct(e,t,n){return new Ti(e,t,n)}static isValidIdentifier(e){return ki.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ti(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ei(Xr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ei(Xr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ei(Xr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ei(Xr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ti(t)}static emptyPath(){return new Ti([])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.fields=e,e.sort(Ti.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pi(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ci(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const xi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(e){if(Zr(!!e),"string"==typeof e){let t=0;const n=xi.exec(e);if(Zr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ri(e.seconds),nanos:Ri(e.nanos)}}function Ri(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pi(e){return"string"==typeof e?Ci.fromBase64String(e):Ci.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Oi(e){const t=e.mapValue.fields.__previous_value__;return Ni(t)?Oi(t):t}function Di(e){const t=Ai(e.mapValue.fields.__local_write_time__.timestampValue);return new gi(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Mi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mi&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(e){return null==e}function qi(e){return 0===e&&1/e==-1/0}function Ui(e){return"number"==typeof e&&Number.isInteger(e)&&!qi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.path=e}static fromPath(e){return new Vi(Si.fromString(e))}static fromName(e){return new Vi(Si.fromString(e).popFirst(5))}static empty(){return new Vi(Si.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Si.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Si.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vi(new Si(e.slice()))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ji={nullValue:"NULL_VALUE"};function $i(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ni(e)?4:rs(e)?9007199254740991:10:Yr()}function zi(e,t){if(e===t)return!0;const n=$i(e);if(n!==$i(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Di(e).isEqual(Di(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ai(e.timestampValue),r=Ai(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pi(e.bytesValue).isEqual(Pi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ri(e.geoPointValue.latitude)===Ri(t.geoPointValue.latitude)&&Ri(e.geoPointValue.longitude)===Ri(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ri(e.integerValue)===Ri(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ri(e.doubleValue),r=Ri(t.doubleValue);return n===r?qi(n)===qi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return pi(e.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yi(n)!==yi(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zi(n[i],r[i])))return!1;return!0}(e,t);default:return Yr()}}function Hi(e,t){return void 0!==(e.values||[]).find((e=>zi(e,t)))}function Wi(e,t){if(e===t)return 0;const n=$i(e),r=$i(t);if(n!==r)return fi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ri(e.integerValue||e.doubleValue),r=Ri(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ki(e.timestampValue,t.timestampValue);case 4:return Ki(Di(e),Di(t));case 5:return fi(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Pi(e),r=Pi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=fi(n[i],r[i]);if(0!==e)return e}return fi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=fi(Ri(e.latitude),Ri(t.latitude));return 0!==n?n:fi(Ri(e.longitude),Ri(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Wi(n[i],r[i]);if(e)return e}return fi(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Bi.mapValue&&t===Bi.mapValue)return 0;if(e===Bi.mapValue)return 1;if(t===Bi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=fi(r[o],s[o]);if(0!==e)return e;const t=Wi(n[r[o]],i[s[o]]);if(0!==t)return t}return fi(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Yr()}}function Ki(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return fi(e,t);const n=Ai(e),r=Ai(t),i=fi(n.seconds,r.seconds);return 0!==i?i:fi(n.nanos,r.nanos)}function Gi(e){return Yi(e)}function Yi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ai(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Pi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Vi.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Yi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Yi(e.fields[i])}`;return n+"}"}(e.mapValue):Yr();var t,n}function Zi(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Qi(e){return!!e&&"integerValue"in e}function Ji(e){return!!e&&"arrayValue"in e}function Xi(e){return!!e&&"nullValue"in e}function es(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ts(e){return!!e&&"mapValue"in e}function ns(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _i(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ns(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ns(e.arrayValue.values[n]);return t}return Object.assign({},e)}function rs(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function is(e){return"nullValue"in e?ji:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Zi(Mi.empty(),Vi.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Yr()}function ss(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Zi(Mi.empty(),Vi.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Bi:Yr()}function os(e,t){const n=Wi(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function as(e,t){const n=Wi(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.value=e}static empty(){return new ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ts(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ns(t)}setAll(e){let t=Ti.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ns(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ts(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ts(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){_i(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new ls(ns(this.value))}}function us(e){const t=[];return _i(e.fields,((e,n)=>{const r=new Ti([e]);if(ts(n)){const e=us(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ii(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class cs{constructor(e,t,n,r,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new cs(e,0,vi.min(),vi.min(),ls.empty(),0)}static newFoundDocument(e,t,n){return new cs(e,1,t,vi.min(),n,0)}static newNoDocument(e,t){return new cs(e,2,t,vi.min(),ls.empty(),0)}static newUnknownDocument(e,t){return new cs(e,3,t,vi.min(),ls.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cs(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hs{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function ds(e){return e.fields.find((e=>2===e.kind))}function fs(e){return e.fields.filter((e=>2!==e.kind))}hs.UNKNOWN_ID=-1;class ps{constructor(e,t){this.fieldPath=e,this.kind=t}}class ms{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ms(0,ys.min())}}function gs(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=vi.fromTimestamp(1e9===r?new gi(n+1,0):new gi(n,r));return new ys(i,Vi.empty(),t)}function vs(e){return new ys(e.readTime,e.key,-1)}class ys{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ys(vi.min(),Vi.empty(),-1)}static max(){return new ys(vi.max(),Vi.empty(),-1)}}function _s(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Vi.comparator(e.documentKey,t.documentKey),0!==n?n:fi(e.largestBatchId,t.largestBatchId))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t){this.comparator=e,this.root=t||Ss.EMPTY}insert(e,t){return new ws(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ss.BLACK,null,null))}remove(e){return new ws(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ss.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bs(this.root,e,this.comparator,!1)}getReverseIterator(){return new bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bs(this.root,e,this.comparator,!0)}}class bs{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ss{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ss.RED,this.left=null!=r?r:Ss.EMPTY,this.right=null!=i?i:Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ss(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ss.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Yr();if(this.right.isRed())throw Yr();const e=this.left.check();if(e!==this.right.check())throw Yr();return e+(this.isRed()?0:1)}}Ss.EMPTY=null,Ss.RED=!0,Ss.BLACK=!1,Ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Yr()}get value(){throw Yr()}get color(){throw Yr()}get left(){throw Yr()}get right(){throw Yr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ss(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ks{constructor(e){this.comparator=e,this.data=new ws(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ts(this.data.getIterator())}getIteratorFrom(e){return new Ts(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ks))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ks(this.comparator);return t.data=e,t}}class Ts{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Is(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.P=null}}function Cs(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Es(e,t,n,r,i,s,o)}function xs(e){const t=Jr(e);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+Gi(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Fi(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Gi(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Gi(e))).join(",")),t.P=e}return t.P}function As(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Gi(t.value)}`;var t})).join(", ")}]`),Fi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Gi(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Gi(e))).join(",")),`Target(${t})`}function Rs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Ws(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!zi(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gs(e.startAt,t.startAt)&&Gs(e.endAt,t.endAt)}function Ps(e){return Vi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ns(e,t){return e.filters.filter((e=>e instanceof Ls&&e.field.isEqual(t)))}function Os(e,t,n){let r=ji,i=!0;for(const s of Ns(e,t)){let e=ji,t=!0;switch(s.op){case"<":case"<=":e=is(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=ji}os({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];os({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Ds(e,t,n){let r=Bi,i=!0;for(const s of Ns(e,t)){let e=Bi,t=!0;switch(s.op){case">=":case">":e=ss(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Bi}as({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];as({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Ls extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,n):new Ms(e,t,n):"array-contains"===t?new Vs(e,n):"in"===t?new Bs(e,n):"not-in"===t?new js(e,n):"array-contains-any"===t?new $s(e,n):new Ls(e,t,n)}static V(e,t,n){return"in"===t?new Fs(e,n):new qs(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Wi(t,this.value)):null!==t&&$i(this.value)===$i(t)&&this.v(Wi(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yr()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ms extends Ls{constructor(e,t,n){super(e,t,n),this.key=Vi.fromName(n.referenceValue)}matches(e){const t=Vi.comparator(e.key,this.key);return this.v(t)}}class Fs extends Ls{constructor(e,t){super(e,"in",t),this.keys=Us("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class qs extends Ls{constructor(e,t){super(e,"not-in",t),this.keys=Us("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Us(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Vi.fromName(e.referenceValue)))}class Vs extends Ls{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ji(t)&&Hi(t.arrayValue,this.value)}}class Bs extends Ls{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hi(this.value.arrayValue,t)}}class js extends Ls{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hi(this.value.arrayValue,t)}}class $s extends Ls{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ji(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Hi(this.value.arrayValue,e)))}}class zs{constructor(e,t){this.position=e,this.inclusive=t}}class Hs{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ws(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ks(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Vi.comparator(Vi.fromName(o.referenceValue),n.key):Wi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Gs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zi(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.D=null,this.C=null,this.startAt,this.endAt}}function Zs(e,t,n,r,i,s,o,a){return new Ys(e,t,n,r,i,s,o,a)}function Qs(e){return new Ys(e)}function Js(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Xs(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function eo(e){for(const t of e.filters)if(t.S())return t.field;return null}function to(e){return null!==e.collectionGroup}function no(e){const t=Jr(e);if(null===t.D){t.D=[];const e=eo(t),n=Xs(t);if(null!==e&&null===n)e.isKeyField()||t.D.push(new Hs(e)),t.D.push(new Hs(Ti.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.D.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Hs(Ti.keyField(),e))}}}return t.D}function ro(e){const t=Jr(e);if(!t.C)if("F"===t.limitType)t.C=Cs(t.path,t.collectionGroup,no(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of no(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Hs(i.field,t))}const n=t.endAt?new zs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zs(t.startAt.position,t.startAt.inclusive):null;t.C=Cs(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.C}function io(e,t,n){return new Ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function so(e,t){return Rs(ro(e),ro(t))&&e.limitType===t.limitType}function oo(e){return`${xs(ro(e))}|lt:${e.limitType}`}function ao(e){return`Query(target=${As(ro(e))}; limitType=${e.limitType})`}function lo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ks(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,no(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ks(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,no(e),t))}(e,t)}function uo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function co(e){return(t,n)=>{let r=!1;for(const i of no(e)){const e=ho(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ho(e,t,n){const r=e.field.isKeyField()?Vi.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wi(r,i):Yr()}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Yr()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qi(t)?"-0":t}}function po(e){return{integerValue:""+e}}function mo(e,t){return Ui(t)?po(t):fo(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this._=void 0}}function vo(e,t,n){return e instanceof wo?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof bo?So(e,t):e instanceof ko?To(e,t):function(e,t){const n=_o(e,t),r=Eo(n)+Eo(e.k);return Qi(n)&&Qi(e.k)?po(r):fo(e.M,r)}(e,t)}function yo(e,t,n){return e instanceof bo?So(e,t):e instanceof ko?To(e,t):n}function _o(e,t){return e instanceof Io?Qi(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class wo extends go{}class bo extends go{constructor(e){super(),this.elements=e}}function So(e,t){const n=Co(t);for(const r of e.elements)n.some((e=>zi(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ko extends go{constructor(e){super(),this.elements=e}}function To(e,t){let n=Co(t);for(const r of e.elements)n=n.filter((e=>!zi(e,r)));return{arrayValue:{values:n}}}class Io extends go{constructor(e,t){super(),this.M=e,this.k=t}}function Eo(e){return Ri(e.integerValue||e.doubleValue)}function Co(e){return Ji(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,t){this.field=e,this.transform=t}}function Ao(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof bo&&t instanceof bo||e instanceof ko&&t instanceof ko?pi(e.elements,t.elements,zi):e instanceof Io&&t instanceof Io?zi(e.k,t.k):e instanceof wo&&t instanceof wo}(e.transform,t.transform)}class Ro{constructor(e,t){this.version=e,this.transformResults=t}}class Po{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Po}static exists(e){return new Po(void 0,e)}static updateTime(e){return new Po(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Oo{}function Do(e,t,n){e instanceof Uo?function(e,t,n){const r=e.value.clone(),i=jo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Vo?function(e,t,n){if(!No(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=jo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Bo(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Lo(e,t,n){e instanceof Uo?function(e,t,n){if(!No(e.precondition,t))return;const r=e.value.clone(),i=$o(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(qo(t),r).setHasLocalMutations()}(e,t,n):e instanceof Vo?function(e,t,n){if(!No(e.precondition,t))return;const r=$o(e.fieldTransforms,n,t),i=t.data;i.setAll(Bo(e)),i.setAll(r),t.convertToFoundDocument(qo(t),i).setHasLocalMutations()}(e,t,n):function(e,t){No(e.precondition,t)&&t.convertToNoDocument(vi.min())}(e,t)}function Mo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=_o(r.transform,e||null);null!=i&&(null==n&&(n=ls.empty()),n.set(r.field,i))}return n||null}function Fo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pi(e,t,((e,t)=>Ao(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function qo(e){return e.isFoundDocument()?e.version:vi.min()}class Uo extends Oo{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Vo extends Oo{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Bo(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function jo(e,t,n){const r=new Map;Zr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,yo(o,a,n[i]))}return r}function $o(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,vo(e,s,t))}return r}class zo extends Oo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Ho extends Oo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.count=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ko,Go;function Yo(e){switch(e){default:return Yr();case Xr.CANCELLED:case Xr.UNKNOWN:case Xr.DEADLINE_EXCEEDED:case Xr.RESOURCE_EXHAUSTED:case Xr.INTERNAL:case Xr.UNAVAILABLE:case Xr.UNAUTHENTICATED:return!1;case Xr.INVALID_ARGUMENT:case Xr.NOT_FOUND:case Xr.ALREADY_EXISTS:case Xr.PERMISSION_DENIED:case Xr.FAILED_PRECONDITION:case Xr.ABORTED:case Xr.OUT_OF_RANGE:case Xr.UNIMPLEMENTED:case Xr.DATA_LOSS:return!0}}function Zo(e){if(void 0===e)return Wr("GRPC error has no .code"),Xr.UNKNOWN;switch(e){case Ko.OK:return Xr.OK;case Ko.CANCELLED:return Xr.CANCELLED;case Ko.UNKNOWN:return Xr.UNKNOWN;case Ko.DEADLINE_EXCEEDED:return Xr.DEADLINE_EXCEEDED;case Ko.RESOURCE_EXHAUSTED:return Xr.RESOURCE_EXHAUSTED;case Ko.INTERNAL:return Xr.INTERNAL;case Ko.UNAVAILABLE:return Xr.UNAVAILABLE;case Ko.UNAUTHENTICATED:return Xr.UNAUTHENTICATED;case Ko.INVALID_ARGUMENT:return Xr.INVALID_ARGUMENT;case Ko.NOT_FOUND:return Xr.NOT_FOUND;case Ko.ALREADY_EXISTS:return Xr.ALREADY_EXISTS;case Ko.PERMISSION_DENIED:return Xr.PERMISSION_DENIED;case Ko.FAILED_PRECONDITION:return Xr.FAILED_PRECONDITION;case Ko.ABORTED:return Xr.ABORTED;case Ko.OUT_OF_RANGE:return Xr.OUT_OF_RANGE;case Ko.UNIMPLEMENTED:return Xr.UNIMPLEMENTED;case Ko.DATA_LOSS:return Xr.DATA_LOSS;default:return Yr()}}(Go=Ko||(Ko={}))[Go.OK=0]="OK",Go[Go.CANCELLED=1]="CANCELLED",Go[Go.UNKNOWN=2]="UNKNOWN",Go[Go.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Go[Go.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Go[Go.NOT_FOUND=5]="NOT_FOUND",Go[Go.ALREADY_EXISTS=6]="ALREADY_EXISTS",Go[Go.PERMISSION_DENIED=7]="PERMISSION_DENIED",Go[Go.UNAUTHENTICATED=16]="UNAUTHENTICATED",Go[Go.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Go[Go.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Go[Go.ABORTED=10]="ABORTED",Go[Go.OUT_OF_RANGE=11]="OUT_OF_RANGE",Go[Go.UNIMPLEMENTED=12]="UNIMPLEMENTED",Go[Go.INTERNAL=13]="INTERNAL",Go[Go.UNAVAILABLE=14]="UNAVAILABLE",Go[Go.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return wi(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new ws(Vi.comparator);function Xo(){return Jo}const ea=new ws(Vi.comparator);function ta(...e){let t=ea;for(const n of e)t=t.insert(n.key,n);return t}function na(){return new Qo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ra=new ws(Vi.comparator),ia=new ks(Vi.comparator);function sa(...e){let t=ia;for(const n of e)t=t.add(n);return t}const oa=new ks(fi);function aa(){return oa}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,t)),new la(vi.min(),n,aa(),Xo(),sa())}}class ua{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ua(Ci.EMPTY_BYTE_STRING,t,sa(),sa(),sa())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t,n,r){this.O=e,this.removedTargetIds=t,this.key=n,this.F=r}}class ha{constructor(e,t){this.targetId=e,this.$=t}}class da{constructor(e,t,n=Ci.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fa{constructor(){this.B=0,this.L=ga(),this.U=Ci.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=sa(),t=sa(),n=sa();return this.L.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Yr()}})),new ua(this.U,this.q,e,t,n)}J(){this.K=!1,this.L=ga()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class pa{constructor(e){this.nt=e,this.st=new Map,this.it=Xo(),this.rt=ma(),this.ot=new ks(fi)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,(t=>{const n=this.lt(t);switch(e.state){case 0:this.ft(t)&&n.W(e.resumeToken);break;case 1:n.tt(),n.G||n.J(),n.W(e.resumeToken);break;case 2:n.tt(),n.G||this.removeTarget(t);break;case 3:this.ft(t)&&(n.et(),n.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),n.W(e.resumeToken));break;default:Yr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach(((e,n)=>{this.ft(n)&&t(n)}))}_t(e){const t=e.targetId,n=e.$.count,r=this.wt(t);if(r){const e=r.target;if(Ps(e))if(0===n){const n=new Vi(e.path);this.ct(t,n,cs.newNoDocument(n,vi.min()))}else Zr(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Ps(i.target)){const t=new Vi(i.target.path);null!==this.it.get(t)||this.It(r,t)||this.ct(r,t,cs.newNoDocument(t,e))}n.j&&(t.set(r,n.H()),n.J())}}));let n=sa();this.rt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.it.forEach(((t,n)=>n.setReadTime(e)));const r=new la(e,t,this.ot,this.it,n);return this.it=Xo(),this.rt=ma(),this.ot=new ks(fi),r}at(e,t){if(!this.ft(e))return;const n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new fa,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new ks(fi),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Hr("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new fa),this.nt.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function ma(){return new ws(Vi.comparator)}function ga(){return new ws(Vi.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=(()=>{const e={asc:"ASCENDING",desc:"DESCENDING"};return e})(),ya=(()=>{const e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e})();class _a{constructor(e,t){this.databaseId=e,this.N=t}}function wa(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ba(e,t){return e.N?t.toBase64():t.toUint8Array()}function Sa(e,t){return wa(e,t.toTimestamp())}function ka(e){return Zr(!!e),vi.fromTimestamp(function(e){const t=Ai(e);return new gi(t.seconds,t.nanos)}(e))}function Ta(e,t){return function(e){return new Si(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ia(e){const t=Si.fromString(e);return Zr(Qa(t)),t}function Ea(e,t){return Ta(e.databaseId,t.path)}function Ca(e,t){const n=Ia(t);if(n.get(1)!==e.databaseId.projectId)throw new ei(Xr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ei(Xr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vi(Pa(n))}function xa(e,t){return Ta(e.databaseId,t)}function Aa(e){const t=Ia(e);return 4===t.length?Si.emptyPath():Pa(t)}function Ra(e){return new Si(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pa(e){return Zr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Na(e,t,n){return{name:Ea(e,t),fields:n.value.mapValue.fields}}function Oa(e,t,n){const r=Ca(e,t.name),i=ka(t.updateTime),s=new ls({mapValue:{fields:t.fields}}),o=cs.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Da(e,t){return"found"in t?function(e,t){Zr(!!t.found),t.found.name,t.found.updateTime;const n=Ca(e,t.found.name),r=ka(t.found.updateTime),i=new ls({mapValue:{fields:t.found.fields}});return cs.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Zr(!!t.missing),Zr(!!t.readTime);const n=Ca(e,t.missing),r=ka(t.readTime);return cs.newNoDocument(n,r)}(e,t):Yr()}function La(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Yr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.N?(Zr(void 0===t||"string"==typeof t),Ci.fromBase64String(t||"")):(Zr(void 0===t||t instanceof Uint8Array),Ci.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Xr.UNKNOWN:Zo(e.code);return new ei(t,e.message||"")}(o);n=new da(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ca(e,r.document.name),s=ka(r.document.updateTime),o=new ls({mapValue:{fields:r.document.fields}}),a=cs.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new ca(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ca(e,r.document),s=r.readTime?ka(r.readTime):vi.min(),o=cs.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ca([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ca(e,r.document),s=r.removedTargetIds||[];n=new ca([],s,i,null)}else{if(!("filter"in t))return Yr();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new Wo(r),s=e.targetId;n=new ha(s,i)}}return n}function Ma(e,t){let n;if(t instanceof Uo)n={update:Na(e,t.key,t.value)};else if(t instanceof zo)n={delete:Ea(e,t.key)};else if(t instanceof Vo)n={update:Na(e,t.key,t.data),updateMask:Za(t.fieldMask)};else{if(!(t instanceof Ho))return Yr();n={verify:Ea(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof wo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ko)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Io)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Yr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sa(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Yr()}(e,t.precondition)),n}function Fa(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Po.updateTime(ka(e.updateTime)):void 0!==e.exists?Po.exists(e.exists):Po.none()}(t.currentDocument):Po.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Zr("REQUEST_TIME"===t.setToServerValue),n=new wo;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new bo(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new ko(e)}else"increment"in t?n=new Io(e,t.increment):Yr();const r=Ti.fromServerFormat(t.fieldPath);return new xo(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Ca(e,t.update.name),s=new ls({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ii(t.map((e=>Ti.fromServerFormat(e))))}(t.updateMask);return new Vo(i,s,e,n,r)}return new Uo(i,s,n,r)}if(t.delete){const r=Ca(e,t.delete);return new zo(r,n)}if(t.verify){const r=Ca(e,t.verify);return new Ho(r,n)}return Yr()}function qa(e,t){return e&&e.length>0?(Zr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ka(e.updateTime):ka(t);return n.isEqual(vi.min())&&(n=ka(t)),new Ro(n,e.transformResults||[])}(e,t)))):[]}function Ua(e,t){return{documents:[xa(e,t.path)]}}function Va(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=xa(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=xa(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(es(e.value))return{unaryFilter:{field:Wa(e.field),op:"IS_NAN"}};if(Xi(e.value))return{unaryFilter:{field:Wa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(es(e.value))return{unaryFilter:{field:Wa(e.field),op:"IS_NOT_NAN"}};if(Xi(e.value))return{unaryFilter:{field:Wa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(e.field),op:Ha(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Wa(e.field),direction:za(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.N||Fi(t)?t:{value:t}}(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ba(e){let t=Aa(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Zr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=$a(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Hs(Ka(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Fi(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new zs(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new zs(n,t)}(n.endAt)),Zs(t,i,o,s,a,"F",l,u)}function ja(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}function $a(e){return e?void 0!==e.unaryFilter?[Ya(e)]:void 0!==e.fieldFilter?[Ga(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>$a(e))).reduce(((e,t)=>e.concat(t))):Yr():[]}function za(e){return va[e]}function Ha(e){return ya[e]}function Wa(e){return{fieldPath:e.canonicalString()}}function Ka(e){return Ti.fromServerFormat(e.fieldPath)}function Ga(e){return Ls.create(Ka(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yr()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ya(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ka(e.unaryFilter.field);return Ls.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ka(e.unaryFilter.field);return Ls.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ka(e.unaryFilter.field);return Ls.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ka(e.unaryFilter.field);return Ls.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Yr()}}function Za(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Qa(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=el(t)),t=Xa(e.get(n),t);return el(t)}function Xa(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function el(e){return e+""}function tl(e){const t=e.length;if(Zr(t>=2),2===t)return Zr(""===e.charAt(0)&&""===e.charAt(1)),Si.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&Yr(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:Yr()}s=t+2}return new Si(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(e,t){return[e,Ja(t)]}function il(e,t,n){return[e,Ja(t),n]}const sl={},ol=["prefixPath","collectionGroup","readTime","documentId"],al=["prefixPath","collectionGroup","documentId"],ll=["collectionGroup","readTime","prefixPath","documentId"],ul=["canonicalId","targetId"],cl=["targetId","path"],hl=["path","targetId"],dl=["collectionId","parent"],fl=["indexId","uid"],pl=["uid","sequenceNumber"],ml=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gl=["indexId","uid","orderedDocumentKey"],vl=["userId","collectionPath","documentId"],yl=["userId","collectionPath","largestBatchId"],_l=["userId","collectionGroup","largestBatchId"],wl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bl=[...wl,"documentOverlays"],Sl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kl=[...Sl,"indexConfiguration","indexState","indexEntries"],Tl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Yr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new El(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof El?t:El.resolve(t)}catch(e){return El.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):El.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):El.reject(t)}static resolve(e){return new El(((t,n)=>{t(e)}))}static reject(e){return new El(((t,n)=>{n(e)}))}static waitFor(e){return new El(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=El.resolve(!1);for(const n of e)t=t.next((e=>e?El.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ti,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Rl(e,t.error)):this.At.resolve()},this.transaction.onerror=t=>{const n=Ll(t.target.error);this.At.reject(new Rl(e,n))}}static open(e,t,n,r){try{return new Cl(t,e.transaction(r,n))}catch(e){throw new Rl(t,e)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Hr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Nl(t)}}class xl{constructor(e,t,n){this.name=e,this.version=t,this.Pt=n,12.2===xl.Vt((0,a.z$)())&&Wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Hr("SimpleDb","Removing database:",e),Ol(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,a.hl)())return!1;if(xl.St())return!0;const e=(0,a.z$)(),t=xl.Vt(e),n=0<t&&t<10,r=xl.Dt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Nt(e){return this.db||(Hr("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Rl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new ei(Xr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new ei(Xr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Rl(e,r))},r.onupgradeneeded=e=>{Hr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Pt.kt(t,r.transaction,e.oldVersion,this.version).next((()=>{Hr("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.Mt&&(this.db.onversionchange=e=>this.Mt(e)),this.db}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Nt(e);const t=Cl.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.bt(),e))).catch((e=>(t.abort(e),El.reject(e)))).toPromise();return s.catch((()=>{})),await t.Rt,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(Hr("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Al{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Ol(this.Ft.delete())}}class Rl extends ei{constructor(e,t){super(Xr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Pl(e){return"IndexedDbTransactionError"===e.name}class Nl{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Hr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Hr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ol(n)}add(e){return Hr("SimpleDb","ADD",this.store.name,e,e),Ol(this.store.add(e))}get(e){return Ol(this.store.get(e)).next((t=>(void 0===t&&(t=null),Hr("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Hr("SimpleDb","DELETE",this.store.name,e),Ol(this.store.delete(e))}count(){return Hr("SimpleDb","COUNT",this.store.name),Ol(this.store.count())}qt(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.Kt(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new El(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}Gt(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new El(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}Qt(e,t){Hr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.jt=!1;const r=this.cursor(n);return this.Kt(r,((e,t,n)=>n.delete()))}Wt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new El(((n,r)=>{t.onerror=e=>{const t=Ll(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Kt(e,t){const n=[];return new El(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Al(i),o=t(i.primaryKey,i.value,s);if(o instanceof El){const e=o.catch((e=>(s.done(),El.reject(e))));n.push(e)}s.isDone?r():null===s.Lt?i.continue():i.continue(s.Lt)}})).next((()=>El.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ol(e){return new El(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ll(e.target.error);n(t)}}))}let Dl=!1;function Ll(e){const t=xl.Vt((0,a.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ei("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Dl||(Dl=!0,setTimeout((()=>{throw e}),0)),e}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Il{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Fl(e,t){const n=Jr(e);return xl.xt(n.Ht,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Do(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Lo(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Lo(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(vi.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),sa())}isEqual(e){return this.batchId===e.batchId&&pi(this.mutations,e.mutations,((e,t)=>Fo(e,t)))&&pi(this.baseMutations,e.baseMutations,((e,t)=>Fo(e,t)))}}class Ul{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Zr(e.mutations.length===n.length);let r=ra;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Ul(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t,n,r,i=vi.min(),s=vi.min(),o=Ci.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Bl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Bl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Bl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.Jt=e}}function $l(e,t){let n;if(t.document)n=Oa(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Vi.fromSegments(t.noDocument.path),r=Kl(t.noDocument.readTime);n=cs.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Yr();{const e=Vi.fromSegments(t.unknownDocument.path),r=Kl(t.unknownDocument.version);n=cs.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new gi(e[0],e[1]);return vi.fromTimestamp(t)}(t.readTime)),n}function zl(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Hl(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ea(e,t.key),fields:t.data.value.mapValue.fields,updateTime:wa(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Wl(t.version)};else{if(!t.isUnknownDocument())return Yr();r.unknownDocument={path:n.path.toArray(),version:Wl(t.version)}}return r}function Hl(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Wl(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Kl(e){const t=new gi(e.seconds,e.nanoseconds);return vi.fromTimestamp(t)}function Gl(e,t){const n=(t.baseMutations||[]).map((t=>Fa(e.Jt,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Fa(e.Jt,t))),i=gi.fromMillis(t.localWriteTimeMs);return new ql(t.batchId,i,n,r)}function Yl(e){const t=Kl(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Kl(e.lastLimboFreeSnapshotVersion):vi.min();let r;var i;return void 0!==e.query.documents?(Zr(1===(i=e.query).documents.length),r=ro(Qs(Aa(i.documents[0])))):r=function(e){return ro(Ba(e))}(e.query),new Bl(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Ci.fromBase64String(e.resumeToken))}function Zl(e,t){const n=Wl(t.snapshotVersion),r=Wl(t.lastLimboFreeSnapshotVersion);let i;i=Ps(t.target)?Ua(e.Jt,t.target):Va(e.Jt,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xs(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ql(e){const t=Ba({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?io(t,t.limit,"L"):t}function Jl(e,t){return new Vl(t.largestBatchId,Fa(e.Jt,t.overlayMutation))}function Xl(e,t){const n=t.path.lastSegment();return[e,Ja(t.path.popLast()),n]}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{getBundleMetadata(e,t){return tu(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Kl(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return tu(e).put({bundleId:(n=t).id,createTime:Wl(ka(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return nu(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Ql(t.bundledQuery),readTime:Kl(t.readTime)};var t}))}saveNamedQuery(e,t){return nu(e).put(function(e){return{name:e.name,readTime:Wl(ka(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function tu(e){return Fl(e,"bundles")}function nu(e){return Fl(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){const n=t.uid||"";return new ru(e,n)}getOverlay(e,t){return iu(e).get(Xl(this.userId,t)).next((e=>e?Jl(this.M,e):null))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Vl(t,i);r.push(this.Xt(e,s))})),El.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Ja(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(iu(e).Qt("collectionPathOverlayIndex",r))})),El.waitFor(i)}getOverlaysForCollection(e,t,n){const r=na(),i=Ja(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return iu(e).qt("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Jl(this.M,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=na();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return iu(e).Wt({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Jl(this.M,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}Xt(e,t){return iu(e).put(function(e,t,n){const[r,i,s]=Xl(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ma(e.Jt,n.mutation)}}(this.M,this.userId,t))}}function iu(e){return Fl(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Ri(e.integerValue));else if("doubleValue"in e){const n=Ri(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),qi(n)?t.se(0):t.se(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ne(t,20),"string"==typeof n?t.ie(n):(t.ie(`${n.seconds||""}`),t.se(n.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Pi(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ne(t,45),t.se(n.latitude||0),t.se(n.longitude||0)}else"mapValue"in e?rs(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Yr()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const n=e.fields||{};this.ne(t,55);for(const r of Object.keys(n))this.re(r,t),this.te(n[r],t)}he(e,t){const n=e.values||[];this.ne(t,50);for(const r of n)this.te(r,t)}ae(e,t){this.ne(t,37),Vi.fromName(e).path.forEach((e=>{this.ne(t,60),this.le(e,t)}))}ne(e,t){e.se(t)}oe(e){e.se(2)}}function ou(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function au(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=ou(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}su.fe=new su;class lu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this._e(n.value),n=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.ge(n.value),n=t.next();this.ye()}pe(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this._e(e);else if(e<2048)this._e(960|e>>>6),this._e(128|63&e);else if(t<"\ud800"||"\udbff"<t)this._e(480|e>>>12),this._e(128|63&e>>>6),this._e(128|63&e);else{const e=t.codePointAt(0);this._e(240|e>>>18),this._e(128|63&e>>>12),this._e(128|63&e>>>6),this._e(128|63&e)}}this.we()}Ie(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.ge(e);else if(e<2048)this.ge(960|e>>>6),this.ge(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.ge(480|e>>>12),this.ge(128|63&e>>>6),this.ge(128|63&e);else{const e=t.codePointAt(0);this.ge(240|e>>>18),this.ge(128|63&e>>>12),this.ge(128|63&e>>>6),this.ge(128|63&e)}}this.ye()}Te(e){const t=this.Ee(e),n=au(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),n=au(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class uu{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class cu{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class hu{constructor(){this.De=new lu,this.Ce=new uu(this.De),this.xe=new cu(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new du(this.indexId,this.documentKey,this.arrayValue,n)}}function fu(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=pu(e.arrayValue,t.arrayValue),0!==n?n:(n=pu(e.directionalValue,t.directionalValue),0!==n?n:Vi.comparator(e.documentKey,t.documentKey)))}function pu(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const e=t;e.S()?this.Fe=e:this.Oe.push(e)}}$e(e){const t=ds(e);if(void 0!==t&&!this.Be(t))return!1;const n=fs(e);let r=0,i=0;for(;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){const e=n[r];if(!this.Le(this.Fe,e)||!this.Ue(this.Me[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],e))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.qe=new vu}addToCollectionParentIndex(e,t){return this.qe.add(t),El.resolve()}getCollectionParents(e,t){return El.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return El.resolve()}deleteFieldIndex(e,t){return El.resolve()}getDocumentsMatchingTarget(e,t){return El.resolve(null)}getIndexType(e,t){return El.resolve(0)}getFieldIndexes(e,t){return El.resolve([])}getNextCollectionGroupToUpdate(e){return El.resolve(null)}getMinOffset(e,t){return El.resolve(ys.min())}updateCollectionGroup(e,t,n){return El.resolve()}updateIndexEntries(e,t){return El.resolve()}}class vu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ks(Si.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ks(Si.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Uint8Array(0);class _u{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new vu,this.Ge=new Qo((e=>xs(e)),((e,t)=>Rs(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Ke.add(t)}));const i={collectionId:n,parent:Ja(r)};return wu(e).put(i)}return El.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[mi(t),""],!1,!0);return wu(e).qt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(tl(r.parent))}return n}))}addFieldIndex(e,t){const n=Su(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);return delete r.indexId,n.add(r).next()}deleteFieldIndex(e,t){const n=Su(e),r=ku(e),i=bu(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=bu(e);let r=!0;const i=new Map;return El.forEach(this.Qe(t),(t=>this.je(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=sa();const r=[];return El.forEach(i,((i,s)=>{var o;Hr("IndexedDbIndexManager",`Using index ${o=i,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${xs(t)}`);const a=function(e,t){const n=ds(t);if(void 0===n)return null;for(const r of Ns(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),l=function(e,t){const n=new Map;for(const r of fs(t))for(const t of Ns(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of fs(t)){const t=0===i.kind?Os(e,i.fieldPath,e.startAt):Ds(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new zs(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of fs(t)){const t=0===i.kind?Ds(e,i.fieldPath,e.endAt):Os(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new zs(n,r)}(s,i),h=this.We(i,s,u),d=this.We(i,s,c),f=this.ze(i,s,l),p=this.He(i.indexId,a,h,u.inclusive,d,c.inclusive,f);return El.forEach(p,(i=>n.Gt(i,t.limit).next((t=>{t.forEach((t=>{const n=Vi.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return El.resolve(null)}))}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.Je(t[c/l]):yu,h=this.Ye(e,a,n[c%l],r),d=this.Xe(e,a,i[c%l],s),f=o.map((t=>this.Ye(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}Ye(e,t,n,r){const i=new du(e,Vi.empty(),t,n);return r?i:i.ke()}Xe(e,t,n,r){const i=new du(e,Vi.empty(),t,n);return r?i.ke():i}je(e,t){const n=new mu(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.$e(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;return El.forEach(this.Qe(t),(t=>this.je(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new ks(Ti.comparator),n=!1;for(const r of e.filters){const e=r;e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field))}for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>n))}Ze(e,t){const n=new hu;for(const r of fs(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ne(r.kind);su.fe.Zt(e,i)}return n.Se()}Je(e){const t=new hu;return su.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const n=new hu;return su.fe.Zt(Zi(this.databaseId,t),n.Ne(function(e){const t=fs(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}ze(e,t,n){if(null===n)return[];let r=[];r.push(new hu);let i=0;for(const s of fs(e)){const e=n[i++];for(const n of r)if(this.en(t,s.fieldPath)&&Ji(e))r=this.nn(r,s,e);else{const t=n.Ne(s.kind);su.fe.Zt(e,t)}}return this.sn(r)}We(e,t,n){return this.ze(e,t,n.position)}sn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Se();return t}nn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new hu;n.seed(e.Se()),su.fe.Zt(s,n.Ne(t.kind)),i.push(n)}return i}en(e,t){return!!e.filters.find((e=>e instanceof Ls&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Su(e),r=ku(e);return(t?n.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.qt()).next((e=>{const t=[];return El.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new ms(t.sequenceNumber,new ys(Kl(t.readTime),new Vi(tl(t.documentKey)),t.largestBatchId)):ms.empty(),r=e.fields.map((([e,t])=>new ps(Ti.fromServerFormat(e),t)));return new hs(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:fi(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Su(e),i=ku(e);return this.rn(e).next((e=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>El.forEach(t,(t=>i.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Wl(r.readTime),documentKey:Ja(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return El.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?El.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),El.forEach(i,(n=>this.on(e,t,n).next((t=>{const i=this.un(r,n);return t.isEqual(i)?El.resolve():this.an(e,r,n,t,i)})))))))}))}cn(e,t,n,r){return bu(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}hn(e,t,n,r){return bu(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}on(e,t,n){const r=bu(e);let i=new ks(fu);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},((e,r)=>{i=i.add(new du(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}un(e,t){let n=new ks(fu);const r=this.Ze(t,e);if(null==r)return n;const i=ds(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Ji(s))for(const i of s.arrayValue.values||[])n=n.add(new du(t.indexId,e.key,this.Je(i),r))}else n=n.add(new du(t.indexId,e.key,yu,r));return n}an(e,t,n,r,i){Hr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=Is(s),l=Is(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Is(o)):t?(i(a),a=Is(s)):(a=Is(s),l=Is(o))}}(r,i,fu,(r=>{s.push(this.cn(e,t,n,r))}),(r=>{s.push(this.hn(e,t,n,r))})),El.waitFor(s)}rn(e){let t=1;return ku(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>fu(e,t))).filter(((e,t,n)=>!t||0!==fu(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=fu(s,e),i=fu(s,t);if(0===n)r[0]=e.ke();else if(n>0&&i<0)r.push(s),r.push(s.ke());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2)i.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,yu,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,yu,[]]));return i}getMinOffset(e,t){let n;return El.forEach(this.Qe(t),(t=>this.je(e,t).next((e=>{e?(!n||_s(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=ys.min()})))).next((()=>n))}}function wu(e){return Fl(e,"collectionParents")}function bu(e){return Fl(e,"indexEntries")}function Su(e){return Fl(e,"indexConfiguration")}function ku(e){return Fl(e,"indexState")}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Iu{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Iu(e,Iu.DEFAULT_COLLECTION_PERCENTILE,Iu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Wt({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Zr(1===a)})));const u=[];for(const c of n.mutations){const e=il(t,c.key.path,n.batchId);s.push(i.delete(e)),u.push(c.key)}return El.waitFor(s).next((()=>u))}function Cu(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Yr();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Iu.DEFAULT_COLLECTION_PERCENTILE=10,Iu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Iu.DEFAULT=new Iu(41943040,Iu.DEFAULT_COLLECTION_PERCENTILE,Iu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Iu.DISABLED=new Iu(-1,0,0);class xu{constructor(e,t,n,r){this.userId=e,this.M=t,this.indexManager=n,this.referenceDelegate=r,this.ln={}}static Yt(e,t,n,r){Zr(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new xu(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).Wt({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Pu(e),s=Ru(e);return s.add({}).next((o=>{Zr("number"==typeof o);const a=new ql(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Ma(e.Jt,t))),i=n.mutations.map((t=>Ma(e.Jt,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.M,this.userId,a),u=[];let c=new ks(((e,t)=>fi(e.canonicalString(),t.canonicalString())));for(const e of r){const t=il(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,sl))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.ln[o]=a.keys()})),El.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return Ru(e).get(t).next((e=>e?(Zr(e.userId===this.userId),Gl(this.M,e)):null))}fn(e,t){return this.ln[t]?El.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.ln[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Ru(e).Wt({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Zr(t.batchId>=n),i=Gl(this.M,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Ru(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).qt("userMutationsIndex",t).next((e=>e.map((e=>Gl(this.M,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=rl(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Pu(e).Wt({range:r},((n,r,s)=>{const[o,a,l]=n,u=tl(a);if(o===this.userId&&t.path.isEqual(u))return Ru(e).get(l).next((e=>{if(!e)throw Yr();Zr(e.userId===this.userId),i.push(Gl(this.M,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ks(fi);const r=[];return t.forEach((t=>{const i=rl(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Pu(e).Wt({range:s},((e,r,i)=>{const[s,o,a]=e,l=tl(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),El.waitFor(r).next((()=>this.dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=rl(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new ks(fi);return Pu(e).Wt({range:s},((e,t,i)=>{const[s,a,l]=e,u=tl(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.dn(e,o)))}dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Ru(e).get(t).next((e=>{if(null===e)throw Yr();Zr(e.userId===this.userId),n.push(Gl(this.M,e))})))})),El.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Eu(e.Ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this._n(t.batchId)})),El.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return El.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return Pu(e).Wt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=tl(e[1]);r.push(t)}else n.done()})).next((()=>{Zr(0===r.length)}))}))}containsKey(e,t){return Au(e,this.userId,t)}wn(e){return Nu(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Au(e,t,n){const r=rl(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Pu(e).Wt({range:s,jt:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Ru(e){return Fl(e,"mutations")}function Pu(e){return Fl(e,"documentMutations")}function Nu(e){return Fl(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Ou(0)}static yn(){return new Ou(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next((t=>{const n=new Ou(t.highestTargetId);return t.highestTargetId=n.next(),this.In(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.pn(e).next((e=>vi.fromTimestamp(new gi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.pn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.pn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r))))}addTargetData(e,t){return this.Tn(e,t).next((()=>this.pn(e).next((n=>(n.targetCount+=1,this.En(t,n),this.In(e,n))))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Lu(e).delete(t.targetId))).next((()=>this.pn(e))).next((t=>(Zr(t.targetCount>0),t.targetCount-=1,this.In(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Lu(e).Wt(((s,o)=>{const a=Yl(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>El.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Lu(e).Wt(((e,n)=>{const r=Yl(n);t(r)}))}pn(e){return Mu(e).get("targetGlobalKey").next((e=>(Zr(null!==e),e)))}In(e,t){return Mu(e).put("targetGlobalKey",t)}Tn(e,t){return Lu(e).put(Zl(this.M,t))}En(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.pn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=xs(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Lu(e).Wt({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Yl(n);Rs(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Fu(e);return t.forEach((t=>{const s=Ja(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),El.waitFor(r)}removeMatchingKeys(e,t,n){const r=Fu(e);return El.forEach(t,(t=>{const i=Ja(t.path);return El.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Fu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Fu(e);let i=sa();return r.Wt({range:n,jt:!0},((e,t,n)=>{const r=tl(e[1]),s=new Vi(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Ja(t.path),r=IDBKeyRange.bound([n],[mi(n)],!1,!0);let i=0;return Fu(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}Et(e,t){return Lu(e).get(t).next((e=>e?Yl(e):null))}}function Lu(e){return Fl(e,"targets")}function Mu(e){return Fl(e,"targetGlobal")}function Fu(e){return Fl(e,"targetDocuments")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(e){if(e.code!==Xr.FAILED_PRECONDITION||e.message!==Tl)throw e;Hr("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu([e,t],[n,r]){const i=fi(e,n);return 0===i?fi(t,r):i}class Vu{constructor(e){this.An=e,this.buffer=new ks(Uu),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Uu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Bu{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){const t=this.Vn?3e5:6e4;Hr("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.vn=null,this.Vn=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){Pl(e)?Hr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await qu(e)}await this.Sn(e)}))}}class ju{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return El.resolve(ci.A);const n=new Vu(t);return this.Dn.forEachTarget(e,(e=>n.Pn(e.sequenceNumber))).next((()=>this.Dn.xn(e,(e=>n.Pn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Dn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Hr("LruGarbageCollector","Garbage collection skipped; disabled"),El.resolve(Tu)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Hr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tu):this.Nn(e,t)))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let n,r,i,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Hr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),$r()<=o["in"].DEBUG&&Hr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(l-a)+"ms\n"+`\tRemoved ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),El.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new ju(e,t)}(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}kn(e){let t=0;return this.xn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,((e,n)=>t(n)))}addReference(e,t,n){return zu(e,n)}removeReference(e,t,n){return zu(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return zu(e,t)}On(e,t){return function(e,t){let n=!1;return Nu(e).zt((r=>Au(e,r,t).next((e=>(e&&(n=!0),El.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Mn(e,((s,o)=>{if(o<=t){const t=this.On(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,vi.min()),Fu(e).delete([0,Ja(s.path)]))))}));r.push(t)}})).next((()=>El.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return zu(e,t)}Mn(e,t){const n=Fu(e);let r,i=ci.A;return n.Wt({index:"documentTargetsIndex"},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==ci.A&&t(new Vi(tl(r)),i),i=o,r=s):i=ci.A})).next((()=>{i!==ci.A&&t(new Vi(tl(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zu(e,t){return Fu(e).put(function(e,t){return{targetId:0,path:Ja(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.changes=new Qo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?El.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Yu(e).put(n)}removeEntry(e,t,n){return Yu(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Hl(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Fn(e,n))))}getEntry(e,t){let n=cs.newInvalidDocument(t);return Yu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Zu(t))},((e,r)=>{n=this.$n(t,r)})).next((()=>n))}Bn(e,t){let n={size:0,document:cs.newInvalidDocument(t)};return Yu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Zu(t))},((e,r)=>{n={document:this.$n(t,r),size:Cu(r)}})).next((()=>n))}getEntries(e,t){let n=Xo();return this.Ln(e,t,((e,t)=>{const r=this.$n(e,t);n=n.insert(e,r)})).next((()=>n))}Un(e,t){let n=Xo(),r=new ws(Vi.comparator);return this.Ln(e,t,((e,t)=>{const i=this.$n(e,t);n=n.insert(e,i),r=r.insert(e,Cu(t))})).next((()=>({documents:n,qn:r})))}Ln(e,t,n){if(t.isEmpty())return El.resolve();let r=new ks(Ju);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Zu(r.first()),Zu(r.last())),s=r.getIterator();let o=s.getNext();return Yu(e).Wt({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Vi.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Ju(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.Ut(Zu(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getAllFromCollection(e,t,n){const r=[t.popLast().toArray(),t.lastSegment(),Hl(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],i=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yu(e).qt(IDBKeyRange.bound(r,i,!0)).next((e=>{let t=Xo();for(const n of e){const e=this.$n(Vi.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t}))}getAllFromCollectionGroup(e,t,n,r){let i=Xo();const s=Qu(t,n),o=Qu(t,ys.max());return Yu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.$n(Vi.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Ku(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Gu(e).get("remoteDocumentGlobalKey").next((e=>(Zr(!!e),e)))}Fn(e,t){return Gu(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const e=$l(this.M,t);if(!e.isNoDocument()||!e.version.isEqual(vi.min()))return e}return cs.newInvalidDocument(e)}}class Ku extends Hu{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Qo((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new ks(((e,t)=>fi(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.Gn.get(i);if(t.push(this.Kn.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=zl(this.Kn.M,s);r=r.add(i.path.popLast());const l=Cu(a);n+=l-o.size,t.push(this.Kn.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=zl(this.Kn.M,s.convertToNoDocument(vi.min()));t.push(this.Kn.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Kn.updateMetadata(e,n)),El.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next((e=>(this.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Kn.Un(e,t).next((({documents:e,qn:t})=>(t.forEach(((t,n)=>{this.Gn.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function Gu(e){return Fl(e,"remoteDocumentGlobal")}function Yu(e){return Fl(e,"remoteDocumentsV14")}function Zu(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Qu(e,t){const n=t.documentKey.path.toArray();return[e,Hl(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ju(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=fi(n[s],r[s]),i)return i;return i=fi(n.length,r.length),i||(i=fi(n[n.length-2],r[r.length-2]),i||fi(n[n.length-1],r[r.length-1]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.M=e}kt(e,t,n,r){const i=new Cl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nl,{unique:!0}),e.createObjectStore("documentMutations")}(e),ec(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=El.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ec(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vi.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").qt().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nl,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return El.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Qn(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.jn(i))))),n<7&&r>=7&&(s=s.next((()=>this.Wn(i)))),n<8&&r>=8&&(s=s.next((()=>this.zn(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.Hn(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:vl});t.createIndex("collectionPathOverlayIndex",yl,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",_l,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:ol});t.createIndex("documentKeyIndex",al),t.createIndex("collectionGroupIndex",ll)}(e))).next((()=>this.Jn(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>{!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:fl}).createIndex("sequenceNumberIndex",pl,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ml}).createIndex("documentKeyIndex",gl,{unique:!1})}(e)}))),s}jn(e){let t=0;return e.store("remoteDocuments").Wt(((e,n)=>{t+=Cu(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Qn(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.qt().next((t=>El.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.qt("userMutationsIndex",r).next((n=>El.forEach(n,(n=>{Zr(n.userId===t.userId);const r=Gl(this.M,n);return Eu(e,t.userId,r).next((()=>{}))}))))}))))}Wn(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Wt(((n,i)=>{const s=new Si(n),o=function(e){return[0,Ja(e)]}(s);r.push(t.get(o).next((n=>n?El.resolve():(n=>t.put({targetId:0,path:Ja(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>El.waitFor(r)))}))}zn(e,t){e.createObjectStore("collectionParents",{keyPath:dl});const n=t.store("collectionParents"),r=new vu,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Ja(r)})}};return t.store("remoteDocuments").Wt({jt:!0},((e,t)=>{const n=new Si(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Wt({jt:!0},(([e,t,n],r)=>{const s=tl(t);return i(s.popLast())}))))}Hn(e){const t=e.store("targets");return t.Wt(((e,n)=>{const r=Yl(n),i=Zl(this.M,r);return t.put(i)}))}Jn(e,t){const n=t.store("remoteDocuments"),r=[];return n.Wt(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=(o=n,o.document?new Vi(Si.fromString(o.document.name).popFirst(5)):o.noDocument?Vi.fromSegments(o.noDocument.path):o.unknownDocument?Vi.fromSegments(o.unknownDocument.path):Yr()).path.toArray();var o;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>El.waitFor(r)))}}function ec(e){e.createObjectStore("targetDocuments",{keyPath:cl}).createIndex("documentTargetsIndex",hl,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ul,{unique:!0}),e.createObjectStore("targetGlobal")}const tc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nc{constructor(e,t,n,r,i,s,o,a,l,u,c=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Yn=i,this.window=s,this.document=o,this.Xn=l,this.Zn=u,this.ts=c,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=e=>Promise.resolve(),!nc.vt())throw new ei(Xr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $u(this,r),this.hs=t+"main",this.M=new jl(a),this.ls=new xl(this.hs,this.ts,new Xu(this.M)),this.fs=new Du(this.referenceDelegate,this.M),this.ds=function(e){return new Wu(e)}(this.M),this._s=new eu,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===u&&Wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ei(Xr.FAILED_PRECONDITION,tc);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.fs.getHighestSequenceNumber(e)))})).then((e=>{this.es=new ci(e,this.Xn)})).then((()=>{this.ns=!0})).catch((e=>(this.ls&&this.ls.close(),Promise.reject(e))))}Ts(e){return this.cs=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((async()=>{this.started&&await this.gs()})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>ic(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Es(e).next((e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable((()=>this.cs(!1))))}))})).next((()=>this.As(e))).next((t=>this.isPrimary&&!t?this.Rs(e).next((()=>!1)):!!t&&this.bs(e).next((()=>!0)))))).catch((e=>{if(Pl(e))return Hr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Hr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable((()=>this.cs(e))),this.isPrimary=e}))}Es(e){return rc(e).get("owner").next((e=>El.resolve(this.Ps(e))))}Vs(e){return ic(e).delete(this.clientId)}async vs(){if(this.isPrimary&&!this.Ss(this.us,18e5)){this.us=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Fl(e,"clientMetadata");return t.qt().next((e=>{const n=this.Ds(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return El.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.ws)for(const t of e)this.ws.removeItem(this.Cs(t.clientId))}}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.gs().then((()=>this.vs())).then((()=>this.Is()))))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?El.resolve(!0):rc(e).get("owner").next((t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new ei(Xr.FAILED_PRECONDITION,tc);return!1}}return!(!this.networkEnabled||!this.inForeground)||ic(e).qt().next((e=>void 0===this.Ds(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Hr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),await this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Ml(e,ci.A);return this.Rs(t).next((()=>this.Vs(t)))})),this.ls.close(),this.Os()}Ds(e,t){return e.filter((e=>this.Ss(e.updateTimeMs,t)&&!this.xs(e.clientId)))}Fs(){return this.runTransaction("getActiveClients","readonly",(e=>ic(e).qt().next((e=>this.Ds(e,18e5).map((e=>e.clientId))))))}get started(){return this.ns}getMutationQueue(e,t){return xu.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new _u(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return ru.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,n){Hr("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=14===(s=this.ts)?kl:13===s?Sl:12===s?bl:11===s?wl:void Yr();var s;let o;return this.ls.runTransaction(e,r,i,(r=>(o=new Ml(r,this.es?this.es.next():ci.A),"readwrite-primary"===t?this.Es(o).next((e=>!!e||this.As(o))).next((t=>{if(!t)throw Wr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable((()=>this.cs(!1))),new ei(Xr.FAILED_PRECONDITION,Tl);return n(o)})).next((e=>this.bs(o).next((()=>e)))):this.$s(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}$s(e){return rc(e).get("owner").next((e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.Ps(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ei(Xr.FAILED_PRECONDITION,tc)}))}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rc(e).put("owner",t)}static vt(){return xl.vt()}Rs(e){const t=rc(e);return t.get("owner").next((e=>this.Ps(e)?(Hr("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):El.resolve()))}Ss(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Wr(`Detected an update time that is in the future: ${e} > ${n}`),!1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.gs())))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,a.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Hr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Wr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(S){Wr("Failed to set zombie client id.",S)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(S){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rc(e){return Fl(e,"owner")}function ic(e){return Fl(e,"clientMetadata")}function sc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class oc{constructor(e,t,n){this.ds=e,this.Bs=t,this.indexManager=n}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Us(e,t,n)))}Us(e,t,n){return this.ds.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}qs(e,t){e.forEach(((e,n)=>{for(const r of t)r.applyToLocalView(n)}))}Ks(e,t){return this.ds.getEntries(e,t).next((t=>this.Gs(e,t).next((()=>t))))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.qs(t,e)))}Qs(e,t,n){return function(e){return Vi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):to(t)?this.Ws(e,t,n):this.zs(e,t,n)}js(e,t){return this.Ls(e,new Vi(t)).next((e=>{let t=ta();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Ws(e,t,n){const r=t.collectionGroup;let i=ta();return this.indexManager.getCollectionParents(e,r).next((s=>El.forEach(s,(s=>{const o=function(e,t){return new Ys(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.zs(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}zs(e,t,n){let r;return this.ds.getAllFromCollection(e,t.path,n).next((n=>(r=n,this.Bs.getAllMutationBatchesAffectingQuery(e,t)))).next((e=>{for(const t of e)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=cs.newInvalidDocument(n),r=r.insert(n,i)),Lo(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}})).next((()=>(r.forEach(((e,n)=>{lo(t,n)||(r=r.remove(e))})),r)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hs=n,this.Js=r}static Ys(e,t){let n=sa(),r=sa();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ac(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,n,r){return this.ti(e,t).next((i=>i||this.ei(e,t,r,n))).next((n=>n||this.ni(e,t)))}ti(e,t){return El.resolve(null)}ei(e,t,n,r){return Js(t)||r.isEqual(vi.min())?this.ni(e,t):this.Zs.Ks(e,n).next((i=>{const s=this.si(t,i);return this.ii(t,s,n,r)?this.ni(e,t):($r()<=o["in"].DEBUG&&Hr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ao(t)),this.ri(e,s,t,gs(r,-1)))}))}si(e,t){let n=new ks(co(e));return t.forEach(((t,r)=>{lo(e,r)&&(n=n.add(r))})),n}ii(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ni(e,t){return $r()<=o["in"].DEBUG&&Hr("QueryEngine","Using full collection scan to execute query:",ao(t)),this.Zs.Qs(e,t,ys.min())}ri(e,t,n,r){return this.Zs.Qs(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t,n,r){this.persistence=e,this.oi=t,this.M=r,this.ui=new ws(fi),this.ai=new Qo((e=>xs(e)),Rs),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(n)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new oc(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ui)))}}function cc(e,t,n,r){return new uc(e,t,n,r)}async function hc(e,t){const n=Jr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.Bs.getAllMutationBatches(e).next((i=>(r=i,n.li(t),n.Bs.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=sa();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.fi.Ks(e,o).next((e=>({di:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function dc(e,t){const n=Jr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=El.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Zr(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.Bs.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.Bs.performConsistencyCheck(e))).next((()=>n.fi.Ks(e,r)))}))}function fc(e){const t=Jr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.fs.getLastRemoteSnapshotVersion(e)))}function pc(e,t){const n=Jr(e),r=t.snapshotVersion;let i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.fs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.fs.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?u=u.withResumeToken(Ci.EMPTY_BYTE_STRING,vi.min()).withLastLimboFreeSnapshotVersion(vi.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,s)&&o.push(n.fs.updateTargetData(e,u))}));let a=Xo();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(mc(e,s,t.documentUpdates).next((e=>{a=e}))),!r.isEqual(vi.min())){const t=n.fs.getLastRemoteSnapshotVersion(e).next((t=>n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return El.waitFor(o).next((()=>s.apply(e))).next((()=>n.fi.Gs(e,a))).next((()=>a))})).then((e=>(n.ui=i,e)))}function mc(e,t,n){let r=sa();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Xo();return n.forEach(((n,i)=>{const s=e.get(n);i.isNoDocument()&&i.version.isEqual(vi.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Hr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),r}))}function gc(e,t){const n=Jr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t))))}function vc(e,t){const n=Jr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.fs.getTargetData(e,t).next((i=>i?(r=i,El.resolve(r)):n.fs.allocateTargetId(e).next((i=>(r=new Bl(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}async function yc(e,t,n){const r=Jr(e),i=r.ui.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Pl(e))throw e;Hr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.ui=r.ui.remove(t),r.ai.delete(i.target)}function _c(e,t,n){const r=Jr(e);let i=vi.min(),s=sa();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Jr(e),i=r.ai.get(n);return void 0!==i?El.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,ro(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.oi.Qs(e,t,n?i:vi.min(),n?s:sa()))).next((e=>(Sc(r,uo(t),e),{documents:e,_i:s})))))}function wc(e,t){const n=Jr(e),r=Jr(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Et(e,t).next((e=>e?e.target:null))))}function bc(e,t){const n=Jr(e),r=n.ci.get(t)||vi.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.hi.getAllFromCollectionGroup(e,t,gs(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Sc(n,t,e),e)))}function Sc(e,t,n){let r=vi.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}async function kc(e,t,n,r){const i=Jr(e);let s=sa(),o=Xo();for(const u of n){const e=t.wi(u.metadata.name);u.document&&(s=s.add(e));const n=t.mi(u);n.setReadTime(t.gi(u.metadata.readTime)),o=o.insert(e,n)}const a=i.hi.newChangeBuffer({trackRemovals:!0}),l=await vc(i,function(e){return ro(Qs(Si.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>mc(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.fs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.fs.addMatchingKeys(e,s,l.targetId))).next((()=>i.fi.Gs(e,t))).next((()=>t))))))}async function Tc(e,t,n=sa()){const r=await vc(e,ro(Ql(t.bundledQuery))),i=Jr(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=ka(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i._s.saveNamedQuery(e,t);const o=r.withResumeToken(Ci.EMPTY_BYTE_STRING,s);return i.ui=i.ui.insert(o.targetId,o),i.fs.updateTargetData(e,o).next((()=>i.fs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.fs.addMatchingKeys(e,n,r.targetId))).next((()=>i._s.saveNamedQuery(e,t)))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return El.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:ka(n.createTime)}),El.resolve()}getNamedQuery(e,t){return El.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:Ql(e.bundledQuery),readTime:ka(e.readTime)}}(t)),El.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.overlays=new ws(Vi.comparator),this.Ii=new Map}getOverlay(e,t){return El.resolve(this.overlays.get(t))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Xt(e,t,r)})),El.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ii.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ii.delete(n)),El.resolve()}getOverlaysForCollection(e,t,n){const r=na(),i=t.length+1,s=new Vi(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return El.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ws(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=na(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=na(),a=i.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach(((e,t)=>o.set(e,t))),o.size()>=r)break;return El.resolve(o)}Xt(e,t,n){if(null===n)return;const r=this.overlays.get(n.key);if(null!==r){const e=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Vl(t,n));let i=this.Ii.get(t);void 0===i&&(i=sa(),this.Ii.set(t,i)),this.Ii.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.Ti=new ks(xc.Ei),this.Ai=new ks(xc.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const n=new xc(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}bi(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Pi(new xc(e,t))}Vi(e,t){e.forEach((e=>this.removeReference(e,t)))}vi(e){const t=new Vi(new Si([])),n=new xc(t,e),r=new xc(t,e+1),i=[];return this.Ai.forEachInRange([n,r],(e=>{this.Pi(e),i.push(e.key)})),i}Si(){this.Ti.forEach((e=>this.Pi(e)))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Vi(new Si([])),n=new xc(t,e),r=new xc(t,e+1);let i=sa();return this.Ai.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new xc(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class xc{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Vi.comparator(e.key,t.key)||fi(e.Ci,t.Ci)}static Ri(e,t){return fi(e.Ci,t.Ci)||Vi.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new ks(xc.Ei)}checkEmpty(e){return El.resolve(0===this.Bs.length)}addMutationBatch(e,t,n,r){const i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const s=new ql(i,t,n,r);this.Bs.push(s);for(const o of r)this.Ni=this.Ni.add(new xc(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return El.resolve(s)}lookupMutationBatch(e,t){return El.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Mi(n),i=r<0?0:r;return El.resolve(this.Bs.length>i?this.Bs[i]:null)}getHighestUnacknowledgedBatchId(){return El.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return El.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new xc(t,0),r=new xc(t,Number.POSITIVE_INFINITY),i=[];return this.Ni.forEachInRange([n,r],(e=>{const t=this.ki(e.Ci);i.push(t)})),El.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ks(fi);return t.forEach((e=>{const t=new xc(e,0),r=new xc(e,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([t,r],(e=>{n=n.add(e.Ci)}))})),El.resolve(this.Oi(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Vi.isDocumentKey(i)||(i=i.child(""));const s=new xc(new Vi(i),0);let o=new ks(fi);return this.Ni.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),s),El.resolve(this.Oi(o))}Oi(e){const t=[];return e.forEach((e=>{const n=this.ki(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Zr(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let n=this.Ni;return El.forEach(t.mutations,(r=>{const i=new xc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Ni=n}))}_n(e){}containsKey(e,t){const n=new xc(t,0),r=this.Ni.firstAfterOrEqual(n);return El.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.Bs.length,El.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this.$i=e,this.docs=new ws(Vi.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return El.resolve(n?n.document.mutableCopy():cs.newInvalidDocument(t))}getEntries(e,t){let n=Xo();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():cs.newInvalidDocument(e))})),El.resolve(n)}getAllFromCollection(e,t,n){let r=Xo();const i=new Vi(t.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||_s(vs(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return El.resolve(r)}getAllFromCollectionGroup(e,t,n,r){Yr()}Bi(e,t){return El.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Pc(this)}getSize(e){return El.resolve(this.size)}}class Pc extends Hu{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(n)})),El.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.persistence=e,this.Li=new Qo((e=>xs(e)),Rs),this.lastRemoteSnapshotVersion=vi.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Cc,this.targetCount=0,this.Ki=Ou.gn()}forEachTarget(e,t){return this.Li.forEach(((e,n)=>t(n))),El.resolve()}getLastRemoteSnapshotVersion(e){return El.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return El.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),El.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),El.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Ou(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,El.resolve()}updateTargetData(e,t){return this.Tn(t),El.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,El.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Li.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Li.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),El.waitFor(i).next((()=>r))}getTargetCount(e){return El.resolve(this.targetCount)}getTargetData(e,t){const n=this.Li.get(t)||null;return El.resolve(n)}addMatchingKeys(e,t,n){return this.qi.bi(t,n),El.resolve()}removeMatchingKeys(e,t,n){this.qi.Vi(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),El.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),El.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qi.Di(t);return El.resolve(n)}containsKey(e,t){return El.resolve(this.qi.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.Gi={},this.overlays={},this.es=new ci(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Nc(this),this.indexManager=new gu,this.ds=function(e){return new Rc(e)}((e=>this.referenceDelegate.Qi(e))),this.M=new jl(t),this._s=new Ic(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ec,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Gi[e.toKey()];return n||(n=new Ac(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,n){Hr("MemoryPersistence","Starting transaction:",e);const r=new Dc(this.es.next());return this.referenceDelegate.ji(),n(r).next((e=>this.referenceDelegate.Wi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}zi(e,t){return El.or(Object.values(this.Gi).map((n=>()=>n.containsKey(e,t))))}}class Dc extends Il{constructor(e){super(),this.currentSequenceNumber=e}}class Lc{constructor(e){this.persistence=e,this.Hi=new Cc,this.Ji=null}static Yi(e){return new Lc(e)}get Xi(){if(this.Ji)return this.Ji;throw Yr()}addReference(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),El.resolve()}removeReference(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),El.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),El.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach((e=>this.Xi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return El.forEach(this.Xi,(n=>{const r=Vi.fromPath(n);return this.Zi(e,r).next((e=>{e||t.removeEntry(r,vi.min())}))})).next((()=>(this.Ji=null,t.apply(e))))}updateLimboDocument(e,t){return this.Zi(e,t).next((e=>{e?this.Xi.delete(t.toString()):this.Xi.add(t.toString())}))}Qi(e){return 0}Zi(e,t){return El.or([()=>El.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(e,t){return`firestore_clients_${e}_${t}`}function Fc(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function qc(e,t){return`firestore_targets_${e}_${t}`}class Uc{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static tr(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ei(r.error.code,r.error.message))),s?new Uc(e,t,r.state,i):(Wr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vc{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static tr(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ei(n.error.code,n.error.message))),i?new Vc(e,n.state,r):(Wr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=aa();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Ui(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Bc(e,i):(Wr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class jc{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new jc(t.clientId,t.onlineState):(Wr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $c{constructor(){this.activeTargetIds=aa()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zc{constructor(e,t,n,r,i){this.window=e,this.Yn=t,this.persistenceKey=n,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new ws(fi),this.started=!1,this.cr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.hr=Mc(this.persistenceKey,this.ir),this.lr=function(e){return`firestore_sequence_number_${e}`}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.ar=this.ar.insert(this.ir,new $c),this.dr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.mr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.gr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Fs();for(const n of e){if(n===this.ir)continue;const e=this.getItem(Mc(this.persistenceKey,n));if(e){const t=Bc.tr(n,e);t&&(this.ar=this.ar.insert(t.clientId,t))}}this.yr();const t=this.storage.getItem(this.mr);if(t){const e=this.pr(t);e&&this.Ir(e)}for(const n of this.cr)this.ur(n);this.cr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,n){this.Er(e,t,n),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(qc(this.persistenceKey,e));if(n){const r=Vc.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qc(this.persistenceKey,e))}updateQueryState(e,t,n){this.br(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ar(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Hr("SharedClientState","READ",e,t),t}setItem(e,t){Hr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Hr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){const t=e;if(t.storageArea===this.storage){if(Hr("SharedClientState","EVENT",t.key,t.newValue),t.key===this.hr)return void Wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.dr.test(t.key)){if(null==t.newValue){const e=this.vr(t.key);return this.Sr(e,null)}{const e=this.Dr(t.key,t.newValue);if(e)return this.Sr(e.clientId,e)}}else if(this._r.test(t.key)){if(null!==t.newValue){const e=this.Cr(t.key,t.newValue);if(e)return this.Nr(e)}}else if(this.wr.test(t.key)){if(null!==t.newValue){const e=this.kr(t.key,t.newValue);if(e)return this.Mr(e)}}else if(t.key===this.mr){if(null!==t.newValue){const e=this.pr(t.newValue);if(e)return this.Ir(e)}}else if(t.key===this.lr){const e=function(e){let t=ci.A;if(null!=e)try{const n=JSON.parse(e);Zr("number"==typeof n),t=n}catch(e){Wr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ci.A&&this.sequenceNumberHandler(e)}else if(t.key===this.gr){const e=this.Or(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Fr(e))))}}else this.cr.push(t)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,n){const r=new Uc(this.currentUser,e,t,n),i=Fc(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}Ar(e){const t=Fc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){const t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}br(e,t,n){const r=qc(this.persistenceKey,e),i=new Vc(e,t,n);this.setItem(r,i.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const n=this.vr(e);return Bc.tr(n,t)}Cr(e,t){const n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Uc.tr(new Vr(i),r,t)}kr(e,t){const n=this.wr.exec(e),r=Number(n[1]);return Vc.tr(r,t)}pr(e){return jc.tr(e)}Or(e){return JSON.parse(e)}async Nr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.$r(e.batchId,e.state,e.error);Hr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const n=t?this.ar.insert(e,t):this.ar.remove(e),r=this.Tr(this.ar),i=this.Tr(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Lr(s,o).then((()=>{this.ar=n}))}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=aa();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Hc{constructor(){this.Ur=new $c,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,n){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new $c,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{Kr(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Hr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Hr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.uo=t+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,n,r,i){const s=this.ho(e,t);Hr("RestConnection","Sending: ",s,n);const o={};return this.lo(o,r,i),this.fo(e,s,o,n).then((e=>(Hr("RestConnection","Received: ",e),e)),(t=>{throw Kr("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}_o(e,t,n,r,i){return this.co(e,t,n,r,i)}lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Br,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}ho(e,t){const n=Gc[e];return`${this.uo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,n,r){return new Promise(((i,s)=>{const o=new qr;o.listenOnce(Or.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Nr.NO_ERROR:const t=o.getResponseJson();Hr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Nr.TIMEOUT:Hr("Connection",'RPC "'+e+'" timed out'),s(new ei(Xr.DEADLINE_EXCEEDED,"Request time out"));break;case Nr.HTTP_ERROR:const n=o.getStatus();if(Hr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xr).indexOf(t)>=0?t:Xr.UNKNOWN}(e.status);s(new ei(t,e.message))}else s(new ei(Xr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ei(Xr.UNAVAILABLE,"Connection failed."));break;default:Yr()}}finally{Hr("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);o.send(t,"POST",a,n,15)}))}wo(e,t,n){const r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Rr(),s=Pr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Mr({})),this.lo(o.initMessageHeaders,t,n),(0,a.uI)()||(0,a.b$)()||(0,a.d)()||(0,a.w1)()||(0,a.Mn)()||(0,a.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const l=r.join("");Hr("Connection","Creating WebChannel: "+l,o);const u=i.createWebChannel(l,o);let c=!1,h=!1;const d=new Yc({Jr:e=>{h?Hr("Connection","Not sending because WebChannel is closed:",e):(c||(Hr("Connection","Opening WebChannel transport."),u.open(),c=!0),Hr("Connection","WebChannel sending:",e),u.send(e))},Yr:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,Fr.EventType.OPEN,(()=>{h||Hr("Connection","WebChannel transport opened.")})),f(u,Fr.EventType.CLOSE,(()=>{h||(h=!0,Hr("Connection","WebChannel transport closed"),d.ro())})),f(u,Fr.EventType.ERROR,(e=>{h||(h=!0,Kr("Connection","WebChannel transport errored:",e),d.ro(new ei(Xr.UNAVAILABLE,"The operation could not be completed")))})),f(u,Fr.EventType.MESSAGE,(e=>{var t;if(!h){const n=e.data[0];Zr(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Hr("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Ko[e];if(void 0!==t)return Zo(t)}(e),n=i.message;void 0===t&&(t=Xr.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),h=!0,d.ro(new ei(t,n)),u.close()}else Hr("Connection","WebChannel received:",n),d.oo(n)}})),f(s,Dr.STAT_EVENT,(e=>{e.stat===Lr.PROXY?Hr("Connection","Detected buffering proxy"):e.stat===Lr.NOPROXY&&Hr("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.io()}),0),d}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(){return"undefined"!=typeof window?window:null}function Jc(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(e){return new _a(e,!0)}class eh{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Yn=e,this.timerId=t,this.mo=n,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-n);r>0&&Hr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,(()=>(this.Eo=Date.now(),e()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t,n,r,i,s,o,a){this.Yn=e,this.Vo=n,this.vo=r,this.So=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new eh(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.ko()&&await this.close(0)}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(()=>this.Bo())))}Lo(e){this.Uo(),this.stream.send(e)}async Bo(){if(this.Mo())return this.close(0)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}async close(e,t){this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==e?this.No.reset():t&&t.code===Xr.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):t&&t.code===Xr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=e,await this.listener.eo(t)}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Do===t&&this.Qo(e,n)}),(t=>{e((()=>{const e=new ei(Xr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.jo(e)}))}))}Qo(e,t){const n=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((()=>{n((()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,(()=>(this.Mo()&&(this.state=3),Promise.resolve()))),this.listener.Xr())))})),this.stream.eo((e=>{n((()=>this.jo(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Oo(){this.state=5,this.No.Ro((async()=>{this.state=0,this.start()}))}jo(e){return Hr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget((()=>this.Do===e?t():(Hr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nh extends th{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.M=i}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=La(this.M,e),n=function(e){if(!("targetChange"in e))return vi.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?vi.min():t.readTime?ka(t.readTime):vi.min()}(e);return this.listener.zo(t,n)}Ho(e){const t={};t.database=Ra(this.M),t.addTarget=function(e,t){let n;const r=t.target;return n=Ps(r)?{documents:Ua(e,r)}:{query:Va(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ba(e,t.resumeToken):t.snapshotVersion.compareTo(vi.min())>0&&(n.readTime=wa(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);const n=ja(this.M,e);n&&(t.labels=n),this.Lo(t)}Jo(e){const t={};t.database=Ra(this.M),t.removeTarget=e,this.Lo(t)}}class rh extends th{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.M=i,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Zr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=qa(e.writeResults,e.commitTime),n=ka(e.commitTime);return this.listener.tu(n,t)}return Zr(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Ra(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ma(this.M,e)))};this.Lo(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=n,this.M=r,this.su=!1}iu(){if(this.su)throw new ei(Xr.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,n){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.So.co(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Xr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ei(Xr.UNKNOWN,e.toString())}))}_o(e,t,n){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.So._o(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Xr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ei(Xr.UNKNOWN,e.toString())}))}terminate(){this.su=!0}}class sh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Wr(t),this.uu=!1):Hr("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=i,this.gu.Kr((e=>{n.enqueueAndForget((async()=>{mh(this)&&(Hr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Jr(e);t.wu.add(4),await lh(t),t.yu.set("Unknown"),t.wu.delete(4),await ah(t)}(this))}))})),this.yu=new sh(n,r)}}async function ah(e){if(mh(e))for(const t of e.mu)await t(!0)}async function lh(e){for(const t of e.mu)await t(!1)}function uh(e,t){const n=Jr(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),ph(n)?fh(n):Oh(n).Mo()&&hh(n,t))}function ch(e,t){const n=Jr(e),r=Oh(n);n._u.delete(t),r.Mo()&&dh(n,t),0===n._u.size&&(r.Mo()?r.$o():mh(n)&&n.yu.set("Unknown"))}function hh(e,t){e.pu.Z(t.targetId),Oh(e).Ho(t)}function dh(e,t){e.pu.Z(t),Oh(e).Jo(t)}function fh(e){e.pu=new pa({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e._u.get(t)||null}),Oh(e).start(),e.yu.au()}function ph(e){return mh(e)&&!Oh(e).ko()&&e._u.size>0}function mh(e){return 0===Jr(e).wu.size}function gh(e){e.pu=void 0}async function vh(e){e._u.forEach(((t,n)=>{hh(e,t)}))}async function yh(e,t){gh(e),ph(e)?(e.yu.lu(t),fh(e)):e.yu.set("Unknown")}async function _h(e,t,n){if(e.yu.set("Online"),t instanceof da&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e._u.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e._u.delete(r),e.pu.removeTarget(r))}(e,t)}catch(n){Hr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await wh(e,n)}else if(t instanceof ca?e.pu.ut(t):t instanceof ha?e.pu._t(t):e.pu.ht(t),!n.isEqual(vi.min()))try{const t=await fc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.pu.yt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e._u.get(t);if(!n)return;e._u.set(t,n.withResumeToken(Ci.EMPTY_BYTE_STRING,n.snapshotVersion)),dh(e,t);const r=new Bl(n.target,t,1,n.sequenceNumber);hh(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Hr("RemoteStore","Failed to raise snapshot:",t),await wh(e,t)}}async function wh(e,t,n){if(!Pl(t))throw t;e.wu.add(1),await lh(e),e.yu.set("Offline"),n||(n=()=>fc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Hr("RemoteStore","Retrying IndexedDB access"),await n(),e.wu.delete(1),await ah(e)}))}function bh(e,t){return t().catch((n=>wh(e,n,t)))}async function Sh(e){const t=Jr(e),n=Dh(t);let r=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;kh(t);)try{const e=await gc(t.localStore,r);if(null===e){0===t.du.length&&n.$o();break}r=e.batchId,Th(t,e)}catch(e){await wh(t,e)}Ih(t)&&Eh(t)}function kh(e){return mh(e)&&e.du.length<10}function Th(e,t){e.du.push(t);const n=Dh(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function Ih(e){return mh(e)&&!Dh(e).ko()&&e.du.length>0}function Eh(e){Dh(e).start()}async function Ch(e){Dh(e).nu()}async function xh(e){const t=Dh(e);for(const n of e.du)t.Zo(n.mutations)}async function Ah(e,t,n){const r=e.du.shift(),i=Ul.from(r,t,n);await bh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Sh(e)}async function Rh(e,t){t&&Dh(e).Xo&&await async function(e,t){if(n=t.code,Yo(n)&&n!==Xr.ABORTED){const n=e.du.shift();Dh(e).Fo(),await bh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Sh(e)}var n}(e,t),Ih(e)&&Eh(e)}async function Ph(e,t){const n=Jr(e);n.asyncQueue.verifyOperationInProgress(),Hr("RemoteStore","RemoteStore received new credentials");const r=mh(n);n.wu.add(3),await lh(n),r&&n.yu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.wu.delete(3),await ah(n)}async function Nh(e,t){const n=Jr(e);t?(n.wu.delete(2),await ah(n)):t||(n.wu.add(2),await lh(n),n.yu.set("Unknown"))}function Oh(e){return e.Iu||(e.Iu=function(e,t,n){const r=Jr(e);return r.iu(),new nh(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Xr:vh.bind(null,e),eo:yh.bind(null,e),zo:_h.bind(null,e)}),e.mu.push((async t=>{t?(e.Iu.Fo(),ph(e)?fh(e):e.yu.set("Unknown")):(await e.Iu.stop(),gh(e))}))),e.Iu}function Dh(e){return e.Tu||(e.Tu=function(e,t,n){const r=Jr(e);return r.iu(),new rh(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:Ch.bind(null,e),eo:Rh.bind(null,e),eu:xh.bind(null,e),tu:Ah.bind(null,e)}),e.mu.push((async t=>{t?(e.Tu.Fo(),await Sh(e)):(await e.Tu.stop(),e.du.length>0&&(Hr("RemoteStore",`Stopping write stream with ${e.du.length} pending writes`),e.du=[]))}))),e.Tu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Lh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Lh(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ei(Xr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mh(e,t){if(Wr("AsyncQueue",`${t}: ${e}`),Pl(e))return new ei(Xr.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Vi.comparator(t.key,n.key):(e,t)=>Vi.comparator(e.key,t.key),this.keyedMap=ta(),this.sortedSet=new ws(this.comparator)}static emptySet(e){return new Fh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Fh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.Eu=new ws(Vi.comparator)}track(e){const t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Yr():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Uh{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Uh(e,t,Fh.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&so(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this.Ru=void 0,this.listeners=[]}}class Bh{constructor(){this.queries=new Qo((e=>oo(e)),so),this.onlineState="Unknown",this.bu=new Set}}async function jh(e,t){const n=Jr(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Vh),i)try{s.Ru=await n.onListen(r)}catch(e){const n=Mh(e,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Pu(n.onlineState),s.Ru&&t.Vu(s.Ru)&&Wh(n)}async function $h(e,t){const n=Jr(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function zh(e,t){const n=Jr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.Vu(i)&&(r=!0);t.Ru=i}}r&&Wh(n)}function Hh(e,t,n){const r=Jr(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Wh(e){e.bu.forEach((e=>{e.next()}))}class Kh{constructor(e,t,n){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=n||{}}Vu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Uh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}Cu(e){if(e.docChanges.length>0)return!0;const t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Nu(e){e=Uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.M=e}wi(e){return Ca(this.M,e)}mi(e){return e.metadata.exists?Oa(this.M,e.document,!1):cs.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return ka(e)}}class Zh{constructor(e,t,n){this.Ou=e,this.localStore=t,this.M=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Qh(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const n=Si.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,n=new Yh(this.M);for(const r of e)if(r.metadata.queries){const e=n.wi(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||sa()).add(e);t.set(n,r)}}return t}async complete(){const e=await kc(this.localStore,new Yh(this.M),this.documents,this.Ou.id),t=this.$u(this.documents);for(const n of this.queries)await Tc(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function Qh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.key=e}}class Xh{constructor(e){this.key=e}}class ed{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=sa(),this.mutatedKeys=sa(),this.Gu=co(e),this.Qu=new Fh(this.Gu)}get ju(){return this.Uu}Wu(e,t){const n=t?t.zu:new qh,r=t?t.Qu:this.Qu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=lo(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Hu(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Gu(c,a)>0||l&&this.Gu(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Qu:s,zu:n,ii:o,mutatedKeys:i}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const i=e.zu.Au();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yr()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||this.Gu(e.doc,t.doc))),this.Ju(n);const s=t?this.Yu():[],o=0===this.Ku.size&&this.current?1:0,a=o!==this.qu;return this.qu=o,0!==i.length||a?{snapshot:new Uh(this.query,e.Qu,r,i,e.mutatedKeys,0===o,a,!1),Xu:s}:{Xu:s}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new qh,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach((e=>this.Uu=this.Uu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Uu=this.Uu.delete(e))),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=sa(),this.Qu.forEach((e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))}));const t=[];return e.forEach((e=>{this.Ku.has(e)||t.push(new Xh(e))})),this.Ku.forEach((n=>{e.has(n)||t.push(new Jh(n))})),t}ta(e){this.Uu=e._i,this.Ku=sa();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Uh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class td{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class nd{constructor(e){this.key=e,this.na=!1}}class rd{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.sa={},this.ia=new Qo((e=>oo(e)),so),this.ra=new Map,this.oa=new Set,this.ua=new ws(Vi.comparator),this.aa=new Map,this.ca=new Cc,this.ha={},this.la=new Map,this.fa=Ou.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}async function id(e,t){const n=Od(e);let r,i;const s=n.ia.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const e=await vc(n.localStore,ro(t));n.isPrimaryClient&&uh(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await sd(n,t,r,"current"===s)}return i}async function sd(e,t,n,r){e._a=(t,n,r)=>async function(e,t,n,r){let i=t.view.Wu(n);i.ii&&(i=await _c(e.localStore,t.query,!1).then((({documents:e})=>t.view.Wu(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return yd(e,t.targetId,o.Xu),o.snapshot}(e,t,n,r);const i=await _c(e.localStore,t,!0),s=new ed(t,i._i),o=s.Wu(i.documents),a=ua.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);yd(e,n,l.Xu);const u=new td(t,n,s);return e.ia.set(t,u),e.ra.has(n)?e.ra.get(n).push(t):e.ra.set(n,[t]),l.snapshot}async function od(e,t){const n=Jr(e),r=n.ia.get(t),i=n.ra.get(r.targetId);if(i.length>1)return n.ra.set(r.targetId,i.filter((e=>!so(e,t)))),void n.ia.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await yc(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),ch(n.remoteStore,r.targetId),gd(n,r.targetId)})).catch(qu)):(gd(n,r.targetId),await yc(n.localStore,r.targetId,!0))}async function ad(e,t,n){const r=Dd(e);try{const e=await function(e,t){const n=Jr(e),r=gi.now(),i=t.reduce(((e,t)=>e.add(t.key)),sa());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.fi.Ks(e,i).next((i=>{s=i;const o=[];for(const e of t){const t=Mo(e,s.get(e.key));null!=t&&o.push(new Vo(e.key,t,us(t.value.mapValue),Po.exists(!0)))}return n.Bs.addMutationBatch(e,r,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.ha[e.currentUser.toKey()];r||(r=new ws(fi)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(r,e.batchId,n),await bd(r,e.changes),await Sh(r.remoteStore)}catch(e){const t=Mh(e,"Failed to persist write");n.reject(t)}}async function ld(e,t){const n=Jr(e);try{const e=await pc(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.aa.get(t);r&&(Zr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.na=!0:e.modifiedDocuments.size>0?Zr(r.na):e.removedDocuments.size>0&&(Zr(r.na),r.na=!1))})),await bd(n,e,t)}catch(e){await qu(e)}}function ud(e,t,n){const r=Jr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ia.forEach(((n,r)=>{const i=r.view.Pu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Jr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Pu(t)&&(r=!0)})),r&&Wh(n)}(r.eventManager,t),e.length&&r.sa.zo(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function cd(e,t,n){const r=Jr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.aa.get(t),s=i&&i.key;if(s){let e=new ws(Vi.comparator);e=e.insert(s,cs.newNoDocument(s,vi.min()));const n=sa().add(s),i=new la(vi.min(),new Map,new ks(fi),e,n);await ld(r,i),r.ua=r.ua.remove(s),r.aa.delete(t),wd(r)}else await yc(r.localStore,t,!1).then((()=>gd(r,t,n))).catch(qu)}async function hd(e,t){const n=Jr(e),r=t.batch.batchId;try{const e=await dc(n.localStore,t);md(n,r,null),pd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bd(n,e)}catch(e){await qu(e)}}async function dd(e,t,n){const r=Jr(e);try{const e=await function(e,t){const n=Jr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.Bs.lookupMutationBatch(e,t).next((t=>(Zr(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)))).next((()=>n.Bs.performConsistencyCheck(e))).next((()=>n.fi.Ks(e,r)))}))}(r.localStore,t);md(r,t,n),pd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await bd(r,e)}catch(n){await qu(n)}}async function fd(e,t){const n=Jr(e);mh(n.remoteStore)||Hr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Jr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.Bs.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.la.get(e)||[];r.push(t),n.la.set(e,r)}catch(e){const n=Mh(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}function pd(e,t){(e.la.get(t)||[]).forEach((e=>{e.resolve()})),e.la.delete(t)}function md(e,t,n){const r=Jr(e);let i=r.ha[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function gd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ra.get(t))e.ia.delete(r),n&&e.sa.wa(r,n);e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((t=>{e.ca.containsKey(t)||vd(e,t)}))}function vd(e,t){e.oa.delete(t.path.canonicalString());const n=e.ua.get(t);null!==n&&(ch(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),wd(e))}function yd(e,t,n){for(const r of n)r instanceof Jh?(e.ca.addReference(r.key,t),_d(e,r)):r instanceof Xh?(Hr("SyncEngine","Document no longer in limbo: "+r.key),e.ca.removeReference(r.key,t),e.ca.containsKey(r.key)||vd(e,r.key)):Yr()}function _d(e,t){const n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(Hr("SyncEngine","New document in limbo: "+n),e.oa.add(r),wd(e))}function wd(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){const t=e.oa.values().next().value;e.oa.delete(t);const n=new Vi(Si.fromString(t)),r=e.fa.next();e.aa.set(r,new nd(n)),e.ua=e.ua.insert(n,r),uh(e.remoteStore,new Bl(ro(Qs(n.path)),r,2,ci.A))}}async function bd(e,t,n){const r=Jr(e),i=[],s=[],o=[];r.ia.isEmpty()||(r.ia.forEach(((e,a)=>{o.push(r._a(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=ac.Ys(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.sa.zo(i),await async function(e,t){const n=Jr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>El.forEach(t,(t=>El.forEach(t.Hs,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>El.forEach(t.Js,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Pl(e))throw e;Hr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ui.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ui=n.ui.insert(e,i)}}}(r.localStore,s))}async function Sd(e,t){const n=Jr(e);if(!n.currentUser.isEqual(t)){Hr("SyncEngine","User change. New user:",t.toKey());const e=await hc(n.localStore,t);n.currentUser=t,function(e,t){e.la.forEach((e=>{e.forEach((e=>{e.reject(new ei(Xr.CANCELLED,t))}))})),e.la.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await bd(n,e.di)}}function kd(e,t){const n=Jr(e),r=n.aa.get(t);if(r&&r.na)return sa().add(r.key);{let e=sa();const r=n.ra.get(t);if(!r)return e;for(const t of r){const r=n.ia.get(t);e=e.unionWith(r.view.ju)}return e}}async function Td(e,t){const n=Jr(e),r=await _c(n.localStore,t.query,!0),i=t.view.ta(r);return n.isPrimaryClient&&yd(n,t.targetId,i.Xu),i}async function Id(e,t){const n=Jr(e);return bc(n.localStore,t).then((e=>bd(n,e)))}async function Ed(e,t,n,r){const i=Jr(e),s=await function(e,t){const n=Jr(e),r=Jr(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.fn(e,t).next((t=>t?n.fi.Ks(e,t):El.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Sh(i.remoteStore):"acknowledged"===n||"rejected"===n?(md(i,t,r||null),pd(i,t),function(e,t){Jr(Jr(e).Bs)._n(t)}(i.localStore,t)):Yr(),await bd(i,s)):Hr("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Cd(e,t){const n=Jr(e);if(Od(n),Dd(n),!0===t&&!0!==n.da){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await xd(n,e.toArray());n.da=!0,await Nh(n.remoteStore,!0);for(const r of t)uh(n.remoteStore,r)}else if(!1===t&&!1!==n.da){const e=[];let t=Promise.resolve();n.ra.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(gd(n,i),yc(n.localStore,i,!0)))),ch(n.remoteStore,i)})),await t,await xd(n,e),function(e){const t=Jr(e);t.aa.forEach(((e,n)=>{ch(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new ws(Vi.comparator)}(n),n.da=!1,await Nh(n.remoteStore,!1)}}async function xd(e,t,n){const r=Jr(e),i=[],s=[];for(const o of t){let e;const t=r.ra.get(o);if(t&&0!==t.length){e=await vc(r.localStore,ro(t[0]));for(const e of t){const t=r.ia.get(e),n=await Td(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await wc(r.localStore,o);e=await vc(r.localStore,t),await sd(r,Ad(t),o,!1)}i.push(e)}return r.sa.zo(s),i}function Ad(e){return Zs(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Rd(e){const t=Jr(e);return Jr(Jr(t.localStore).persistence).Fs()}async function Pd(e,t,n,r){const i=Jr(e);if(i.da)return void Hr("SyncEngine","Ignoring unexpected query state notification.");const s=i.ra.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await bc(i.localStore,uo(s[0])),r=la.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await bd(i,e,r);break}case"rejected":await yc(i.localStore,t,!0),gd(i,t,r);break;default:Yr()}}async function Nd(e,t,n){const r=Od(e);if(r.da){for(const e of t){if(r.ra.has(e)){Hr("SyncEngine","Adding an already active target "+e);continue}const t=await wc(r.localStore,e),n=await vc(r.localStore,t);await sd(r,Ad(t),n.targetId,!1),uh(r.remoteStore,n)}for(const e of n)r.ra.has(e)&&await yc(r.localStore,e,!1).then((()=>{ch(r.remoteStore,e),gd(r,e)})).catch(qu)}}function Od(e){const t=Jr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ld.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cd.bind(null,t),t.sa.zo=zh.bind(null,t.eventManager),t.sa.wa=Hh.bind(null,t.eventManager),t}function Dd(e){const t=Jr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dd.bind(null,t),t}function Ld(e,t,n){const r=Jr(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Jr(e),r=ka(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n._s.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Qh(r));const i=new Zh(r,e.localStore,t.M);let s=await t.ma();for(;s;){const e=await i.Fu(s);e&&n._updateProgress(e),s=await t.ma()}const o=await i.complete();return await bd(e,o.Lu,void 0),await function(e,t){const n=Jr(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n._s.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.Bu)}catch(e){return Kr("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}class Md{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=Xc(e.databaseInfo.databaseId),this.sharedClientState=this.ga(e),this.persistence=this.ya(e),await this.persistence.start(),this.gcScheduler=this.pa(e),this.localStore=this.Ia(e)}pa(e){return null}Ia(e){return cc(this.persistence,new lc,e.initialUser,this.M)}ya(e){return new Oc(Lc.Yi,this.M)}ga(e){return new Hc}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Fd extends Md{constructor(e,t,n){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ta.initialize(this,e),await Dd(this.Ta.syncEngine),await Sh(this.Ta.remoteStore),await this.persistence.Ts((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Ia(e){return cc(this.persistence,new lc,e.initialUser,this.M)}pa(e){const t=this.persistence.referenceDelegate.garbageCollector;return new Bu(t,e.asyncQueue)}ya(e){const t=sc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Iu.withCacheSize(this.cacheSizeBytes):Iu.DEFAULT;return new nc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Qc(),Jc(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Hc}}class qd extends Fd{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ta.syncEngine;this.sharedClientState instanceof zc&&(this.sharedClientState.syncEngine={$r:Ed.bind(null,t),Br:Pd.bind(null,t),Lr:Nd.bind(null,t),Fs:Rd.bind(null,t),Fr:Id.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ts((async e=>{await Cd(this.Ta.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}ga(e){const t=Qc();if(!zc.vt(t))throw new ei(Xr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=sc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zc(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Ud{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ud(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sd.bind(null,this.syncEngine),await Nh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Bh}createDatastore(e){const t=Xc(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Zc(r));var r;return function(e,t,n,r){return new ih(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>ud(this.syncEngine,e,0),s=Kc.vt()?new Kc:new Wc,new oh(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new rd(e,t,n,r,i,s);return o&&(a.da=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Jr(e);Hr("RemoteStore","RemoteStore shutting down."),t.wu.add(5),await lh(t),t.gu.shutdown(),t.yu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new ti,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((e=>{e&&e.Mu()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Ra.cancel()}async getMetadata(){return this.metadata.promise}async ma(){return await this.getMetadata(),this.Pa()}async Pa(){const e=await this.Va();if(null===e)return null;const t=this.ba.decode(e),n=Number(t);isNaN(n)&&this.va(`length string (${t}) is not valid number`);const r=await this.Sa(n);return new Gh(JSON.parse(r),e.length+n)}Da(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Va(){for(;this.Da()<0;)if(await this.Ca())break;if(0===this.buffer.length)return null;const e=this.Da();e<0&&this.va("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Sa(e){for(;this.buffer.length<e;)await this.Ca()&&this.va("Reached the end of bundle when more is expected.");const t=this.ba.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ca(){const e=await this.Ra.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ei(Xr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Jr(e),r=Ra(n.M)+"/documents",i={documents:t.map((e=>Ea(n.M,e)))},s=await n._o("BatchGetDocuments",r,i),o=new Map;s.forEach((e=>{const t=Da(n.M,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Zr(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new zo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Vi.fromPath(t);this.mutations.push(new Ho(n,this.precondition(n)))})),await async function(e,t){const n=Jr(e),r=Ra(n.M)+"/documents",i={writes:t.map((e=>Ma(n.M,e)))};await n.co("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Yr();t=vi.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ei(Xr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Po.updateTime(t):Po.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vi.min()))throw new ei(Xr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Po.updateTime(t)}return Po.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.xa=n.maxAttempts,this.No=new eh(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){this.No.Ro((async()=>{const e=new $d(this.datastore),t=this.ka(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ma(e)}))))})).catch((e=>{this.Ma(e)}))}))}ka(e){try{const t=this.updateFunction(e);return!Fi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Na(),Promise.resolve())))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Yo(t)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Vr.UNAUTHENTICATED,this.clientId=di.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Hr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Hr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ei(Xr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Mh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Wd(e,t){e.asyncQueue.verifyOperationInProgress(),Hr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await hc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function Kd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Gd(e);Hr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Ph(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Ph(t.remoteStore,n))),e.onlineComponents=t}async function Gd(e){return e.offlineComponents||(Hr("FirestoreClient","Using default OfflineComponentProvider"),await Wd(e,new Md)),e.offlineComponents}async function Yd(e){return e.onlineComponents||(Hr("FirestoreClient","Using default OnlineComponentProvider"),await Kd(e,new Ud)),e.onlineComponents}function Zd(e){return Gd(e).then((e=>e.persistence))}function Qd(e){return Gd(e).then((e=>e.localStore))}function Jd(e){return Yd(e).then((e=>e.remoteStore))}function Xd(e){return Yd(e).then((e=>e.syncEngine))}async function ef(e){const t=await Yd(e),n=t.eventManager;return n.onListen=id.bind(null,t.syncEngine),n.onUnlisten=od.bind(null,t.syncEngine),n}function tf(e){return e.asyncQueue.enqueue((async()=>{const t=await Zd(e),n=await Jd(e);return t.setNetworkEnabled(!0),function(e){const t=Jr(e);return t.wu.delete(0),ah(t)}(n)}))}function nf(e){return e.asyncQueue.enqueue((async()=>{const t=await Zd(e),n=await Jd(e);return t.setNetworkEnabled(!1),async function(e){const t=Jr(e);t.wu.add(0),await lh(t),t.yu.set("Offline")}(n)}))}function rf(e,t){const n=new ti;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Jr(e);return n.persistence.runTransaction("read document","readonly",(e=>n.fi.Ls(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ei(Xr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Mh(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Qd(e),t,n))),n.promise}function sf(e,t,n={}){const r=new ti;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Bd({next:s=>{t.enqueueAndForget((()=>$h(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new ei(Xr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ei(Xr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Kh(Qs(n.path),s,{includeMetadataChanges:!0,ku:!0});return jh(e,o)}(await ef(e),e.asyncQueue,t,n,r))),r.promise}function of(e,t){const n=new ti;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await _c(e,t,!0),i=new ed(t,r._i),s=i.Wu(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Mh(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Qd(e),t,n))),n.promise}function af(e,t,n={}){const r=new ti;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Bd({next:n=>{t.enqueueAndForget((()=>$h(e,o))),n.fromCache&&"server"===r.source?i.reject(new ei(Xr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Kh(n,s,{includeMetadataChanges:!0,ku:!0});return jh(e,o)}(await ef(e),e.asyncQueue,t,n,r))),r.promise}function lf(e,t){const n=new Bd(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Jr(e).bu.add(t),t.next()}(await ef(e),n))),()=>{n.Aa(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Jr(e).bu.delete(t)}(await ef(e),n)))}}function uf(e,t,n){const r=new ti;return e.asyncQueue.enqueueAndForget((async()=>{const i=await function(e){return Yd(e).then((e=>e.datastore))}(e);new zd(e.asyncQueue,i,n,t,r).run()})),r.promise}function cf(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new jd(e,t)}(function(e,t){if(e instanceof Uint8Array)return Vd(e,t);if(e instanceof ArrayBuffer)return Vd(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,Xc(t));e.asyncQueue.enqueueAndForget((async()=>{Ld(await Xd(e),i,r)}))}function hf(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Jr(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n._s.getNamedQuery(e,t)))}(await Qd(e),t)))}const df=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(e,t,n){if(!n)throw new ei(Xr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function pf(e,t,n,r){if(!0===t&&!0===r)throw new ei(Xr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function mf(e){if(!Vi.isDocumentKey(e))throw new ei(Xr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function gf(e){if(Vi.isDocumentKey(e))throw new ei(Xr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function vf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Yr()}function yf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ei(Xr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vf(e);throw new ei(Xr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function _f(e,t){if(t<=0)throw new ei(Xr.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ei(Xr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ei(Xr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wf({}),this._settingsFrozen=!1,e instanceof Mi?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ei(Xr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mi(e.options.projectId)}(e))}get app(){if(!this._app)throw new ei(Xr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ei(Xr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ri;switch(e.type){case"gapi":const t=e.client;return Zr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ai(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ei(Xr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=df.get(e);t&&(Hr("ComponentProvider","Removing Datastore"),df.delete(e),t.terminate())}(this),Promise.resolve()}}function Sf(e,t,n,r={}){var i;const s=(e=yf(e,bf))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Kr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Vr.MOCK_USER;else{t=(0,a.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ei(Xr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Vr(s)}e._authCredentials=new ii(new ni(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new If(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kf(this.firestore,e,this._key)}}class Tf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Tf(this.firestore,e,this._query)}}class If extends Tf{constructor(e,t,n){super(e,t,Qs(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kf(this.firestore,null,new Vi(e))}withConverter(e){return new If(this.firestore,e,this._path)}}function Ef(e,t,...n){if(e=(0,a.m9)(e),ff("collection","path",t),e instanceof bf){const r=Si.fromString(t,...n);return gf(r),new If(e,null,r)}{if(!(e instanceof kf||e instanceof If))throw new ei(Xr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Si.fromString(t,...n));return gf(r),new If(e.firestore,null,r)}}function Cf(e,t){if(e=yf(e,bf),ff("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ei(Xr.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Tf(e,null,function(e){return new Ys(Si.emptyPath(),e)}(t))}function xf(e,t,...n){if(e=(0,a.m9)(e),1===arguments.length&&(t=di.R()),ff("doc","path",t),e instanceof bf){const r=Si.fromString(t,...n);return mf(r),new kf(e,null,new Vi(r))}{if(!(e instanceof kf||e instanceof If))throw new ei(Xr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Si.fromString(t,...n));return mf(r),new kf(e.firestore,e instanceof If?e.converter:null,new Vi(r))}}function Af(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),(e instanceof kf||e instanceof If)&&(t instanceof kf||t instanceof If)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Rf(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),e instanceof Tf&&t instanceof Tf&&e.firestore===t.firestore&&so(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Pf{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new eh(this,"async_queue_retry"),this.Qa=()=>{const e=Jc();e&&Hr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const e=Jc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Jc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise((()=>{}));const t=new ti;return this.Wa((()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.$a.push(e),this.za())))}async za(){if(0!==this.$a.length){try{await this.$a[0](),this.$a.shift(),this.No.reset()}catch(S){if(!Pl(S))throw S;Hr("AsyncQueue","Operation failed with retryable error: "+S)}this.$a.length>0&&this.No.Ro((()=>this.za()))}}Wa(e){const t=this.Fa.then((()=>(this.qa=!0,e().catch((e=>{this.Ua=e,this.qa=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);throw Wr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.qa=!1,e))))));return this.Fa=t,t}enqueueAfterDelay(e,t,n){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const r=Lh.createAndSchedule(this,e,t,n,(e=>this.Ha(e)));return this.La.push(r),r}ja(){this.Ua&&Yr()}verifyOperationInProgress(){}async Ja(){let e;do{e=this.Fa,await e}while(e!==this.Fa)}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then((()=>{this.La.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()}))}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function Nf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}class Of{constructor(){this._progressObserver={},this._taskCompletionResolver=new ti,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=-1;class Lf extends bf{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Pf,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||qf(this),this._firestoreClient.terminate()}}function Mf(e=(0,i.getApp)()){return(0,i._getProvider)(e,"firestore").getImmediate()}function Ff(e){return e._firestoreClient||qf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qf(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Li(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Hd(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Uf(e,t){Gf(e=yf(e,Lf));const n=Ff(e),r=e._freezeSettings(),i=new Ud;return Bf(n,i,new Fd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function Vf(e){Gf(e=yf(e,Lf));const t=Ff(e),n=e._freezeSettings(),r=new Ud;return Bf(t,r,new qd(r,n.cacheSizeBytes))}function Bf(e,t,n){const r=new ti;return e.asyncQueue.enqueue((async()=>{try{await Wd(e,n),await Kd(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Xr.FAILED_PRECONDITION||e.code===Xr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))}function jf(e){if(e._initialized&&!e._terminated)throw new ei(Xr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ti;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!xl.vt())return Promise.resolve();const t=e+"main";await xl.delete(t)}(sc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function $f(e){return function(e){const t=new ti;return e.asyncQueue.enqueueAndForget((async()=>fd(await Xd(e),t))),t.promise}(Ff(e=yf(e,Lf)))}function zf(e){return tf(Ff(e=yf(e,Lf)))}function Hf(e){return nf(Ff(e=yf(e,Lf)))}function Wf(e,t){const n=Ff(e=yf(e,Lf)),r=new Of;return cf(n,e._databaseId,t,r),r}function Kf(e,t){return hf(Ff(e=yf(e,Lf)),t).then((t=>t?new Tf(e,null,t.query):null))}function Gf(e){if(e._initialized||e._terminated)throw new ei(Xr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ei(Xr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Zf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zf(Ci.fromBase64String(e))}catch(e){throw new ei(Xr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Zf(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ei(Xr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ei(Xr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fi(this._lat,e._lat)||fi(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=/^__.*__$/;class ep{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Vo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uo(e,this.data,t,this.fieldTransforms)}}class tp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Vo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function np(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yr()}}class rp{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.M=n,this.ignoreUndefinedProperties=r,void 0===i&&this.tc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}oc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return kp(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(np(this.ec)&&Xf.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class ip{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=n||Xc(e)}lc(e,t,n,r=!1){return new rp({ec:e,methodName:t,hc:n,path:Ti.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function sp(e){const t=e._freezeSettings(),n=Xc(e._databaseId);return new ip(e._databaseId,!!t.ignoreUndefinedProperties,n)}function op(e,t,n,r,i,s={}){const o=e.lc(s.merge||s.mergeFields?2:0,t,n,i);_p("Data must be an object, but it was:",o,r);const a=vp(r,o);let l,u;if(s.merge)l=new Ii(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=wp(t,r,n);if(!o.contains(i))throw new ei(Xr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Tp(e,i)||e.push(i)}l=new Ii(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new ep(new ls(a),l,u)}class ap extends Qf{_toFieldTransform(e){if(2!==e.ec)throw 1===e.ec?e.ac(`${this._methodName}() can only appear at the top level of your update data`):e.ac(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ap}}function lp(e,t,n){return new rp({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}class up extends Qf{_toFieldTransform(e){return new xo(e.path,new wo)}isEqual(e){return e instanceof up}}class cp extends Qf{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=lp(this,e,!0),n=this.fc.map((e=>gp(e,t))),r=new bo(n);return new xo(e.path,r)}isEqual(e){return this===e}}class hp extends Qf{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=lp(this,e,!0),n=this.fc.map((e=>gp(e,t))),r=new ko(n);return new xo(e.path,r)}isEqual(e){return this===e}}class dp extends Qf{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Io(e.M,mo(e.M,this.dc));return new xo(e.path,t)}isEqual(e){return this===e}}function fp(e,t,n,r){const i=e.lc(1,t,n);_p("Data must be an object, but it was:",i,r);const s=[],o=ls.empty();_i(r,((e,r)=>{const l=Sp(t,e,n);r=(0,a.m9)(r);const u=i.oc(l);if(r instanceof ap)s.push(l);else{const e=gp(r,u);null!=e&&(s.push(l),o.set(l,e))}}));const l=new Ii(s);return new tp(o,l,i.fieldTransforms)}function pp(e,t,n,r,i,s){const o=e.lc(1,t,n),l=[wp(t,r,n)],u=[i];if(s.length%2!=0)throw new ei(Xr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<s.length;a+=2)l.push(wp(t,s[a])),u.push(s[a+1]);const c=[],h=ls.empty();for(let f=l.length-1;f>=0;--f)if(!Tp(c,l[f])){const e=l[f];let t=u[f];t=(0,a.m9)(t);const n=o.oc(e);if(t instanceof ap)c.push(e);else{const r=gp(t,n);null!=r&&(c.push(e),h.set(e,r))}}const d=new Ii(c);return new tp(h,d,o.fieldTransforms)}function mp(e,t,n,r=!1){return gp(n,e.lc(r?4:3,t))}function gp(e,t){if(yp(e=(0,a.m9)(e)))return _p("Unsupported field value:",t,e),vp(e,t);if(e instanceof Qf)return function(e,t){if(!np(t.ec))throw t.ac(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.ac(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=gp(i,t.uc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return mo(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=gi.fromDate(e);return{timestampValue:wa(t.M,n)}}if(e instanceof gi){const n=new gi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wa(t.M,n)}}if(e instanceof Jf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Zf)return{bytesValue:ba(t.M,e._byteString)};if(e instanceof kf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ac(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ta(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac(`Unsupported field value: ${vf(e)}`)}(e,t)}function vp(e,t){const n={};return wi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_i(e,((e,r)=>{const i=gp(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gi||e instanceof Jf||e instanceof Zf||e instanceof kf||e instanceof Qf)}function _p(e,t,n){if(!yp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=vf(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function wp(e,t,n){if((t=(0,a.m9)(t))instanceof Yf)return t._internalPath;if("string"==typeof t)return Sp(e,t);throw kp("Field path arguments must be of type string or ",e,!1,void 0,n)}const bp=new RegExp("[~\\*/\\[\\]]");function Sp(e,t,n){if(t.search(bp)>=0)throw kp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Yf(...t.split("."))._internalPath}catch(r){throw kp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function kp(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ei(Xr.INVALID_ARGUMENT,a+e+l)}function Tp(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ep(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ep extends Ip{data(){return super.data()}}function Cp(e,t){return"string"==typeof t?Sp(e,t):t instanceof Yf?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ap extends Ip{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Cp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Rp extends Ap{data(e={}){return super.data(e)}}class Pp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Rp(this._firestore,this._userDataWriter,n.key,n,new xp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ei(Xr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Rp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new xp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Rp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Np(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Np(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yr()}}function Op(e,t){return e instanceof Ap&&t instanceof Ap?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Pp&&t instanceof Pp&&e._firestore===t._firestore&&Rf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ei(Xr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lp{}function Mp(e,...t){for(const n of t)e=n._apply(e);return e}class Fp extends Lp{constructor(e,t,n){super(),this._c=e,this.wc=t,this.mc=n,this.type="where"}_apply(e){const t=sp(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ei(Xr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Jp(o,s);const t=[];for(const n of o)t.push(Qp(r,e,n));a={arrayValue:{values:t}}}else a=Qp(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Jp(o,s),a=mp(n,t,o,"in"===s||"not-in"===s);const l=Ls.create(i,s,a);return function(e,t){if(t.S()){const n=eo(e);if(null!==n&&!n.isEqual(t.field))throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Xs(e);null!==r&&Xp(e,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ei(Xr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ei(Xr.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,"where",t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Tf(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function qp(e,t,n){const r=t,i=Cp("where",e);return new Fp(i,r,n)}class Up extends Lp{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ei(Xr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ei(Xr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Hs(t,n);return function(e,t){if(null===Xs(e)){const n=eo(e);null!==n&&Xp(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new Tf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ys(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Vp(e,t="asc"){const n=t,r=Cp("orderBy",e);return new Up(r,n)}class Bp extends Lp{constructor(e,t,n){super(),this.type=e,this.yc=t,this.Ic=n}_apply(e){return new Tf(e.firestore,e.converter,io(e._query,this.yc,this.Ic))}}function jp(e){return _f("limit",e),new Bp("limit",e,"F")}function $p(e){return _f("limitToLast",e),new Bp("limitToLast",e,"L")}class zp extends Lp{constructor(e,t,n){super(),this.type=e,this.Tc=t,this.Ec=n}_apply(e){const t=Zp(e,this.type,this.Tc,this.Ec);return new Tf(e.firestore,e.converter,function(e,t){return new Ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Hp(...e){return new zp("startAt",e,!0)}function Wp(...e){return new zp("startAfter",e,!1)}class Kp extends Lp{constructor(e,t,n){super(),this.type=e,this.Tc=t,this.Ec=n}_apply(e){const t=Zp(e,this.type,this.Tc,this.Ec);return new Tf(e.firestore,e.converter,function(e,t){return new Ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Gp(...e){return new Kp("endBefore",e,!1)}function Yp(...e){return new Kp("endAt",e,!0)}function Zp(e,t,n,r){if(n[0]=(0,a.m9)(n[0]),n[0]instanceof Ip)return function(e,t,n,r,i){if(!r)throw new ei(Xr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of no(e))if(o.field.isKeyField())s.push(Zi(t,r.key));else{const e=r.data.field(o.field);if(Ni(e))throw new ei(Xr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new zs(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=sp(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new ei(Xr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!to(e)&&-1!==s.indexOf("/"))throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(Si.fromString(s));if(!Vi.isDocumentKey(n))throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Vi(n);a.push(Zi(t,i))}else{const e=mp(n,r,s);a.push(e)}}return new zs(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Qp(e,t,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new ei(Xr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!to(t)&&-1!==n.indexOf("/"))throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Si.fromString(n));if(!Vi.isDocumentKey(r))throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zi(e,new Vi(r))}if(n instanceof kf)return Zi(e,n._key);throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(n)}.`)}function Jp(e,t){if(!Array.isArray(e)||0===e.length)throw new ei(Xr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new ei(Xr.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Xp(e,t,n){if(!n.isEqual(t))throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{convertValue(e,t="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Yr()}}convertObject(e,t){const n={};return _i(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Jf(Ri(e.latitude),Ri(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Oi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Di(e));default:return null}}convertTimestamp(e){const t=Ai(e);return new gi(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Si.fromString(e);Zr(Qa(n));const r=new Mi(n.get(1),n.get(3)),i=new Vi(n.popFirst(5));return r.isEqual(t)||Wr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class rm extends tm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kf(this.firestore,null,t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sp(e)}set(e,t,n){this._verifyNotCommitted();const r=sm(e,this._firestore),i=nm(r.converter,t,n),s=op(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Po.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=sm(e,this._firestore);let s;return s="string"==typeof(t=(0,a.m9)(t))||t instanceof Yf?pp(this._dataReader,"WriteBatch.update",i._key,t,n,r):fp(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,Po.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sm(e,this._firestore);return this._mutations=this._mutations.concat(new zo(t._key,Po.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ei(Xr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sm(e,t){if((e=(0,a.m9)(e)).firestore!==t)throw new ei(Xr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(e){e=yf(e,kf);const t=yf(e.firestore,Lf);return sf(Ff(t),e._key).then((n=>wm(t,e,n)))}class am extends tm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kf(this.firestore,null,t)}}function lm(e){e=yf(e,kf);const t=yf(e.firestore,Lf),n=Ff(t),r=new am(t);return rf(n,e._key).then((n=>new Ap(t,r,e._key,n,new xp(null!==n&&n.hasLocalMutations,!0),e.converter)))}function um(e){e=yf(e,kf);const t=yf(e.firestore,Lf);return sf(Ff(t),e._key,{source:"server"}).then((n=>wm(t,e,n)))}function cm(e){e=yf(e,Tf);const t=yf(e.firestore,Lf),n=Ff(t),r=new am(t);return Dp(e._query),af(n,e._query).then((n=>new Pp(t,r,e,n)))}function hm(e){e=yf(e,Tf);const t=yf(e.firestore,Lf),n=Ff(t),r=new am(t);return of(n,e._query).then((n=>new Pp(t,r,e,n)))}function dm(e){e=yf(e,Tf);const t=yf(e.firestore,Lf),n=Ff(t),r=new am(t);return af(n,e._query,{source:"server"}).then((n=>new Pp(t,r,e,n)))}function fm(e,t,n){e=yf(e,kf);const r=yf(e.firestore,Lf),i=nm(e.converter,t,n);return _m(r,[op(sp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Po.none())])}function pm(e,t,n,...r){e=yf(e,kf);const i=yf(e.firestore,Lf),s=sp(i);let o;return o="string"==typeof(t=(0,a.m9)(t))||t instanceof Yf?pp(s,"updateDoc",e._key,t,n,r):fp(s,"updateDoc",e._key,t),_m(i,[o.toMutation(e._key,Po.exists(!0))])}function mm(e){return _m(yf(e.firestore,Lf),[new zo(e._key,Po.none())])}function gm(e,t){const n=yf(e.firestore,Lf),r=xf(e),i=nm(e.converter,t);return _m(n,[op(sp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Po.exists(!1))]).then((()=>r))}function vm(e,...t){var n,r,i;e=(0,a.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Nf(t[o])||(s=t[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges};if(Nf(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,h;if(e instanceof kf)c=yf(e.firestore,Lf),h=Qs(e._key.path),u={next:n=>{t[o]&&t[o](wm(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=yf(e,Tf);c=yf(n.firestore,Lf),h=n._query;const r=new am(c);u={next:e=>{t[o]&&t[o](new Pp(c,r,n,e))},error:t[o+1],complete:t[o+2]},Dp(e._query)}return function(e,t,n,r){const i=new Bd(r),s=new Kh(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>jh(await ef(e),s))),()=>{i.Aa(),e.asyncQueue.enqueueAndForget((async()=>$h(await ef(e),s)))}}(Ff(c),h,l,u)}function ym(e,t){return lf(Ff(e=yf(e,Lf)),Nf(t)?t:{next:t})}function _m(e,t){return function(e,t){const n=new ti;return e.asyncQueue.enqueueAndForget((async()=>ad(await Xd(e),t,n))),n.promise}(Ff(e),t)}function wm(e,t,n){const r=n.docs.get(t._key),i=new am(e);return new Ap(e,i,t._key,r,new xp(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=sp(e)}get(e){const t=sm(e,this._firestore),n=new rm(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Yr();const r=e[0];if(r.isFoundDocument())return new Ip(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Ip(this._firestore,n,t._key,null,t.converter);throw Yr()}))}set(e,t,n){const r=sm(e,this._firestore),i=nm(r.converter,t,n),s=op(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=sm(e,this._firestore);let s;return s="string"==typeof(t=(0,a.m9)(t))||t instanceof Yf?pp(this._dataReader,"Transaction.update",i._key,t,n,r):fp(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=sm(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sm(e,this._firestore),n=new am(this._firestore);return super.get(e).then((e=>new Ap(this._firestore,n,t._key,e._document,new xp(!1,!1),t.converter)))}}function Sm(e,t,n){e=yf(e,Lf);const r=Object.assign(Object.assign({},em),n);return function(e){if(e.maxAttempts<1)throw new ei(Xr.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),uf(Ff(e),(n=>t(new bm(e,n))),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){return new ap("deleteField")}function Tm(){return new up("serverTimestamp")}function Im(...e){return new cp("arrayUnion",e)}function Em(...e){return new hp("arrayRemove",e)}function Cm(e){return new dp("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e,t=!0){!function(e){Br=e}(i.SDK_VERSION),(0,i._registerComponent)(new s.wA("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new Lf(r,new si(e.getProvider("auth-internal")),new ui(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),(0,i.registerVersion)(Ur,"3.4.9",e),(0,i.registerVersion)(Ur,"3.4.9","esm2017")}()},5505:(e,t,n)=>{"use strict";n.d(t,{BH:()=>m,DV:()=>B,Dv:()=>ee,G6:()=>C,GJ:()=>U,L:()=>c,LL:()=>N,Mn:()=>I,Pz:()=>M,Sg:()=>g,UG:()=>_,UI:()=>$,US:()=>l,Wj:()=>ne,Yr:()=>E,ZB:()=>f,ZR:()=>P,b$:()=>S,cI:()=>L,d:()=>k,dS:()=>ie,eu:()=>A,g5:()=>s,gK:()=>te,gQ:()=>Y,h$:()=>u,hl:()=>x,hu:()=>i,jU:()=>w,lb:()=>re,m9:()=>oe,ne:()=>Z,p$:()=>d,pd:()=>G,r3:()=>V,ru:()=>b,tV:()=>h,uI:()=>y,ug:()=>se,vZ:()=>z,w1:()=>T,w9:()=>q,xO:()=>W,xb:()=>j,z$:()=>v,zd:()=>K});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((7&i)<<18|(63&s)<<12|(63&o)<<6|63&a)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):a(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length,o=s?n[e.charAt(i)]:0;++i;const a=i<e.length,l=a?n[e.charAt(i)]:64;++i;const u=i<e.length,c=u?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==l||null==c)throw Error();const h=t<<2|o>>4;if(r.push(h),64!==l){const e=o<<4&240|l>>2;if(r.push(e),64!==c){const e=l<<6&192|c;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){const t=o(e);return l.encodeByteArray(t,!0)},c=function(e){return u(e).replace(/\./g,"")},h=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&p(n)&&(e[n]=f(e[n],t[n]));return e}function p(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[c(JSON.stringify(n)),c(JSON.stringify(o)),a].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function y(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function _(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function w(){return"object"===typeof self&&self.self===self}function b(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function S(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function k(){return v().indexOf("Electron/")>=0}function T(){const e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return v().indexOf("MSAppHost/")>=0}function E(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN}function C(){return!_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x(){return"object"===typeof indexedDB}function A(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const R="FirebaseError";class P extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=R,Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?O(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`,a=new P(r,o,n);return a}}function O(e,t){return e.replace(D,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}const D=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e){return JSON.parse(e)}function M(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=L(h(s[0])||""),n=L(h(s[1])||""),i=s[2],r=n["d"]||{},delete n["d"]}catch(s){}return{header:t,claims:n,data:r,signature:i}},q=function(e){const t=F(e),n=t.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},U=function(e){const t=F(e).claims;return"object"===typeof t&&!0===t["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function j(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function $(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function z(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(H(n)&&H(s)){if(!z(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function H(e){return null!==e&&"object"===typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function K(e){const t={},n=e.replace(/^\?/,"").split("&");return n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function G(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let c=0;c<16;c++)n[c]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let c=0;c<16;c++)n[c]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let c=16;c<80;c++){const e=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let c=0;c<80;c++){c<40?c<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):c<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+u+i+n[c]&4294967295;u=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;while(r<t){if(0===s)while(r<=n)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){while(r<t)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else while(r<t)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function Z(e,t){const n=new Q(e,t);return n.subscribe.bind(n)}class Q{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=J(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=X),void 0===r.error&&(r.error=X),void 0===r.complete&&(r.complete=X);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function J(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}function X(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){const t=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(t)}};function te(e,t){return`${e} failed: ${t} argument `}function ne(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(te(e,t)+"must be a valid function.")}function re(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(te(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);if(s>=55296&&s<=56319){const t=s-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(r)-56320;s=65536+(t<<10)+n}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},se=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function oe(e){return e&&e._delegate?e._delegate:e}},2945:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8448),t),i(n(4051),t),i(n(9991),t),i(n(5108),t)},8448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firebaseInit=void 0;var r=n(7258);n(3174),n(4685);var i=function(e){r.default.apps.length||(r.default.initializeApp(e),r.default.firestore().settings({ignoreUndefinedProperties:!0}))};t.firebaseInit=i},9991:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFirestoreCollection=t.useFirestoreDoc=t.useFirebaseDB=t.useDownloadUrl=t.useHttpsCallable=t.useFirebaseUser=void 0;var r=n(4051),i=n(3147);function s(){return(0,i.useSWRV)("",r.getAuthStateChangeObservable)}function o(e,t,n){return(0,i.useSWRV)((function(){return[t()]}),(0,r.httpsCallable)(e,n))}function a(e){return(0,i.useSWRV)((function(){return[e()]}),r.getDownloadURL)}function l(e){return void 0===e&&(e=function(){return""}),(0,i.useSWRV)((function(){var t=e();return t?[t]:void 0}),r.getFirebaseDBObservable)}function u(e,t){return(0,i.useSWRV)((function(){var n=t();return n?[e,n]:void 0}),r.getFirestoreDocObservable)}function c(e,t){return void 0===t&&(t=function(){return{}}),(0,i.useSWRV)((function(){var n=t();return n?[e,n]:void 0}),r.getFirestoreCollectionObservable)}t.useFirebaseUser=s,t.useHttpsCallable=o,t.useDownloadUrl=a,t.useFirebaseDB=l,t.useFirestoreDoc=u,t.useFirestoreCollection=c},5108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3174),n(2028),n(4685),n(8210)},4051:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):i(e.value).then(o,a)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,r&&(i=2&s[0]?r["return"]:s[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.unpackFirestoreData=t.getFirestoreCollectionObservable=t.getFirestoreDocObservable=t.getFirebaseDBObservable=t.getDownloadURL=t.getAuthStateChangeObservable=t.httpsCallable=t.signOut=t.signInWithCustomToken=void 0;var s=n(7258);function o(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,s.default.auth().signInWithCustomToken(e)]}))}))}function a(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,s.default.auth().signOut()]}))}))}function l(e,t){var n=this,o=s.default.functions().httpsCallable(e,t);return function(e){return r(n,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,o(e)];case 1:return t=n.sent(),[2,t.data]}}))}))}}function u(){return function(e){return s.default.auth().onIdTokenChanged(e.next,e.error)}}function c(e){return s.default.storage().ref(e).getDownloadURL()}function h(e){return function(t){var n=s.default.database().ref(e);return n.on("value",(function(e){t.next(e.val())}),(function(e){t.error(e),t.complete()})),function(){n.off()}}}function d(e,t){return function(n){var r=s.default.firestore().collection(e);return r.doc(t).onSnapshot((function(e){n.next(m(e.data()))}),n.error,n.complete)}}function f(e,t){return function(n){var r=s.default.firestore().collection(e);return t.where&&(r=r.where.apply(r,t.where)),t.whereEquals&&(r=Object.entries(t.whereEquals).reduce((function(e,t){var n=t[0],r=t[1];return e.where(n,"==",r)}),r)),t.orderBy&&(r=r.orderBy.apply(r,t.orderBy)),t.limit&&(r=r.limit(t.limit)),r.onSnapshot((function(e){n.next(new Map(e.docs.map((function(e){return[e.id,m(e.data())]}))))}),n.error,n.complete)}}function p(e,t){return t<=0?e:e instanceof s.default.firestore.Timestamp?e.toDate():e instanceof s.default.firestore.DocumentReference?e.path:"object"===typeof e?m(e,t-1):e}function m(e,t){if(void 0===t&&(t=10),Array.isArray(e))return e.map((function(e){return p(e,t)}));if("object"!==typeof e)return e;var n=Object.keys(e),r={};return n.forEach((function(n){r[n]=p(e[n],t)})),r}n(3174),n(2028),n(4685),n(8210),t.signInWithCustomToken=o,t.signOut=a,t.httpsCallable=l,t.getAuthStateChangeObservable=u,t.getDownloadURL=c,t.getFirebaseDBObservable=h,t.getFirestoreDocObservable=d,t.getFirestoreCollectionObservable=f,t.unpackFirestoreData=m},3147:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(6205),t),i(n(2457),t)},6205:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):i(e.value).then(o,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,r&&(i=2&s[0]?r["return"]:s[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.mutate=t.useSWRV=t.refCounts=t.defaultCache=t.markRawSafe=void 0;var a=n(6970),l=n(4617),u=n(9302);function c(e){return e&&(0,a.isPlainObject)(e)?(0,u.markRaw)(e):e}t.markRawSafe=c,t.defaultCache=new l.SWRVCache,t.refCounts=new Map;var h={refreshInterval:0,cache:t.defaultCache,dedupingInterval:1/0,invalidatedCacheTTL:5e3,ttl:0,shouldRetryOnError:!0,errorRetryInterval:5e3,errorRetryCount:5};function d(e,n,l){var d=this,p=r(r({},h),l),m=(0,u.reactive)({key:void 0,data:void 0,error:void 0,isValidating:!0,mutate:function(t){return f(e,t)}});return(0,u.watchEffect)((function(r){var l,h,f,g=!1,v=(0,a.isFunction)(e)?e():[e];if(!v)return m.key=[n.name],m.data=m.error=void 0,void(m.isValidating=!1);m.key=o([n.name],v,!0);var y,_,w,b=p.cache?n.name+(null===(l=p.cache)||void 0===l?void 0:l.serializeKey(o([n],v,!0)).substring(3)):void 0;if(r((function(){var e,n=b&&t.refCounts.get(b)||0;if(b){if(n>1)return void t.refCounts.set(b,n-1);t.refCounts.delete(b),y&&(null===(e=p.cache)||void 0===e||e.set(b,y,p.invalidatedCacheTTL))}g=!0,_&&(_(),_=void 0),clearTimeout(w),w=void 0})),b){var S=b?null===(h=p.cache)||void 0===h?void 0:h.get(b):void 0;if(S){if(t.refCounts.set(b,(t.refCounts.get(b)||0)+1),m.data=S.data.data,m.error=S.data.error,m.isValidating=S.data.isValidating,Date.now()-S.createdAt<p.dedupingInterval)return}else y=(0,u.reactive)({data:void 0,error:void 0,isValidating:!0}),t.refCounts.set(b,0),null===(f=p.cache)||void 0===f||f.set(b,y,p.ttl)}var k=-1,T=function(){return i(d,void 0,void 0,(function(){var e,t,r,o,l=this;return s(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),e=n.apply(void 0,v),t=(0,a.isFunction)(e)?e:function(t){var n=t.next,r=t.error,o=t.complete;return i(l,void 0,void 0,(function(){var t,i;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),t=n,[4,e];case 1:return t.apply(void 0,[s.sent()]),[3,3];case 2:return i=s.sent(),r(i),[3,3];case 3:return o(),[2]}}))}))},[4,t({next:function(e){var t,n=c(e);m.data=n,m.error=void 0,m.isValidating=!1,b&&y&&(y.data=n,y.error=void 0,y.isValidating=!1,null===(t=p.cache)||void 0===t||t.set(b,y,p.ttl)),k=-1},error:function(e){var t=c(e);m.error=t,m.isValidating=!1,y&&(y.error=t,y.isValidating=!1),k++},complete:function(){if(!g)if(k>=0){var e=p.errorRetryInterval;e&&p.shouldRetryOnError&&k<p.errorRetryCount&&(w=setTimeout((function(){T()}),e))}else{e=p.refreshInterval;e&&(w=setTimeout((function(){T()}),e))}}})];case 1:return _=u.sent(),[3,3];case 2:return r=u.sent(),o=c(r),m.error=o,m.isValidating=!1,y&&(y.error=o,y.isValidating=!1),[3,3];case 3:return[2]}}))}))};T()})),(0,u.toRefs)(m)}function f(e,t,n,r){return void 0===n&&(n=h.cache),void 0===r&&(r=h.ttl),i(this,void 0,void 0,(function(){var i,o,l,h,d,f,p;return s(this,(function(s){switch(s.label){case 0:if(!n)return[2];if(i=(0,a.isFunction)(e)?e():[e],!i)return[2];o=n.serializeKey(i),l=o?n.get(o):void 0,h=l?l.data:(0,u.reactive)({data:void 0,error:void 0,isValidating:!0}),s.label=1;case 1:return s.trys.push([1,3,,4]),d=h,f=c,[4,t];case 2:return d.data=f.apply(void 0,[s.sent()]),[3,4];case 3:return p=s.sent(),h.error=c(p),[3,4];case 4:return n.set(o,h,r),[2]}}))}))}t.useSWRV=d,t.mutate=f},2457:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9984:e=>{e.exports=function(e,t,n){const r=void 0!==e.__vccOpts?e.__vccOpts:e,i=r[t];if(void 0===i)r[t]=n;else for(const s in n)void 0===i[s]&&(i[s]=n[s])}},499:(e,t,n)=>{"use strict";n.d(t,{$y:()=>Oe,B:()=>o,BK:()=>Xe,Bj:()=>s,EB:()=>u,Fl:()=>rt,IU:()=>Me,Jd:()=>x,OT:()=>Ae,PG:()=>Ne,SU:()=>Ge,Um:()=>xe,Vh:()=>tt,WL:()=>Ze,X$:()=>N,X3:()=>Le,XI:()=>ze,Xl:()=>Fe,YS:()=>Re,ZM:()=>Je,cE:()=>T,dq:()=>je,iH:()=>$e,j:()=>R,lk:()=>A,nZ:()=>l,oR:()=>Ke,qj:()=>Ce,qq:()=>S,sT:()=>I,yT:()=>De});var r=n(6970);let i;class s{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(e){if(this.active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function o(e){return new s(e)}function a(e,t=i){t&&t.active&&t.effects.push(e)}function l(){return i}function u(e){i&&i.cleanups.push(e)}const c=e=>{const t=new Set(e);return t.w=0,t.n=0,t},h=e=>(e.w&v)>0,d=e=>(e.n&v)>0,f=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=v},p=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];h(i)&&!d(i)?i.delete(e):t[n++]=i,i.w&=~v,i.n&=~v}t.length=n}},m=new WeakMap;let g=0,v=1;const y=30;let _;const w=Symbol(""),b=Symbol("");class S{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,a(this,n)}run(){if(!this.active)return this.fn();let e=_,t=E;while(e){if(e===this)return;e=e.parent}try{return this.parent=_,_=this,E=!0,v=1<<++g,g<=y?f(this):k(this),this.fn()}finally{g<=y&&p(this),v=1<<--g,_=this.parent,E=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_===this?this.deferStop=!0:this.active&&(k(this),this.onStop&&this.onStop(),this.active=!1)}}function k(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function T(e,t){e.effect&&(e=e.effect.fn);const n=new S(e);t&&((0,r.extend)(n,t),t.scope&&a(n,t.scope)),t&&t.lazy||n.run();const i=n.run.bind(n);return i.effect=n,i}function I(e){e.effect.stop()}let E=!0;const C=[];function x(){C.push(E),E=!1}function A(){const e=C.pop();E=void 0===e||e}function R(e,t,n){if(E&&_){let t=m.get(e);t||m.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=c());const i=void 0;P(r,i)}}function P(e,t){let n=!1;g<=y?d(e)||(e.n|=v,n=!h(e)):n=!e.has(_),n&&(e.add(_),_.deps.push(e))}function N(e,t,n,i,s,o){const a=m.get(e);if(!a)return;let l=[];if("clear"===t)l=[...a.values()];else if("length"===n&&(0,r.isArray)(e))a.forEach(((e,t)=>{("length"===t||t>=i)&&l.push(e)}));else switch(void 0!==n&&l.push(a.get(n)),t){case"add":(0,r.isArray)(e)?(0,r.isIntegerKey)(n)&&l.push(a.get("length")):(l.push(a.get(w)),(0,r.isMap)(e)&&l.push(a.get(b)));break;case"delete":(0,r.isArray)(e)||(l.push(a.get(w)),(0,r.isMap)(e)&&l.push(a.get(b)));break;case"set":(0,r.isMap)(e)&&l.push(a.get(w));break}if(1===l.length)l[0]&&O(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);O(c(e))}}function O(e,t){for(const n of(0,r.isArray)(e)?e:[...e])(n!==_||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const D=(0,r.makeMap)("__proto__,__v_isRef,__isVue"),L=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(r.isSymbol)),M=j(),F=j(!1,!0),q=j(!0),U=j(!0,!0),V=B();function B(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Me(this);for(let t=0,i=this.length;t<i;t++)R(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Me)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){x();const n=Me(this)[t].apply(this,e);return A(),n}})),e}function j(e=!1,t=!1){return function(n,i,s){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&s===(e?t?Te:ke:t?Se:be).get(n))return n;const o=(0,r.isArray)(n);if(!e&&o&&(0,r.hasOwn)(V,i))return Reflect.get(V,i,s);const a=Reflect.get(n,i,s);if((0,r.isSymbol)(i)?L.has(i):D(i))return a;if(e||R(n,"get",i),t)return a;if(je(a)){const e=!o||!(0,r.isIntegerKey)(i);return e?a.value:a}return(0,r.isObject)(a)?e?Ae(a):Ce(a):a}}const $=H(),z=H(!0);function H(e=!1){return function(t,n,i,s){let o=t[n];if(Oe(o)&&je(o)&&!je(i))return!1;if(!e&&!Oe(i)&&(De(i)||(i=Me(i),o=Me(o)),!(0,r.isArray)(t)&&je(o)&&!je(i)))return o.value=i,!0;const a=(0,r.isArray)(t)&&(0,r.isIntegerKey)(n)?Number(n)<t.length:(0,r.hasOwn)(t,n),l=Reflect.set(t,n,i,s);return t===Me(s)&&(a?(0,r.hasChanged)(i,o)&&N(t,"set",n,i,o):N(t,"add",n,i)),l}}function W(e,t){const n=(0,r.hasOwn)(e,t),i=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&N(e,"delete",t,void 0,i),s}function K(e,t){const n=Reflect.has(e,t);return(0,r.isSymbol)(t)&&L.has(t)||R(e,"has",t),n}function G(e){return R(e,"iterate",(0,r.isArray)(e)?"length":w),Reflect.ownKeys(e)}const Y={get:M,set:$,deleteProperty:W,has:K,ownKeys:G},Z={get:q,set(e,t){return!0},deleteProperty(e,t){return!0}},Q=(0,r.extend)({},Y,{get:F,set:z}),J=(0,r.extend)({},Z,{get:U}),X=e=>e,ee=e=>Reflect.getPrototypeOf(e);function te(e,t,n=!1,r=!1){e=e["__v_raw"];const i=Me(e),s=Me(t);t!==s&&!n&&R(i,"get",t),!n&&R(i,"get",s);const{has:o}=ee(i),a=r?X:n?Ue:qe;return o.call(i,t)?a(e.get(t)):o.call(i,s)?a(e.get(s)):void(e!==i&&e.get(t))}function ne(e,t=!1){const n=this["__v_raw"],r=Me(n),i=Me(e);return e!==i&&!t&&R(r,"has",e),!t&&R(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function re(e,t=!1){return e=e["__v_raw"],!t&&R(Me(e),"iterate",w),Reflect.get(e,"size",e)}function ie(e){e=Me(e);const t=Me(this),n=ee(t),r=n.has.call(t,e);return r||(t.add(e),N(t,"add",e,e)),this}function se(e,t){t=Me(t);const n=Me(this),{has:i,get:s}=ee(n);let o=i.call(n,e);o||(e=Me(e),o=i.call(n,e));const a=s.call(n,e);return n.set(e,t),o?(0,r.hasChanged)(t,a)&&N(n,"set",e,t,a):N(n,"add",e,t),this}function oe(e){const t=Me(this),{has:n,get:r}=ee(t);let i=n.call(t,e);i||(e=Me(e),i=n.call(t,e));const s=r?r.call(t,e):void 0,o=t.delete(e);return i&&N(t,"delete",e,void 0,s),o}function ae(){const e=Me(this),t=0!==e.size,n=void 0,r=e.clear();return t&&N(e,"clear",void 0,void 0,n),r}function le(e,t){return function(n,r){const i=this,s=i["__v_raw"],o=Me(s),a=t?X:e?Ue:qe;return!e&&R(o,"iterate",w),s.forEach(((e,t)=>n.call(r,a(e),a(t),i)))}}function ue(e,t,n){return function(...i){const s=this["__v_raw"],o=Me(s),a=(0,r.isMap)(o),l="entries"===e||e===Symbol.iterator&&a,u="keys"===e&&a,c=s[e](...i),h=n?X:t?Ue:qe;return!t&&R(o,"iterate",u?b:w),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function ce(e){return function(...t){return"delete"!==e&&this}}function he(){const e={get(e){return te(this,e)},get size(){return re(this)},has:ne,add:ie,set:se,delete:oe,clear:ae,forEach:le(!1,!1)},t={get(e){return te(this,e,!1,!0)},get size(){return re(this)},has:ne,add:ie,set:se,delete:oe,clear:ae,forEach:le(!1,!0)},n={get(e){return te(this,e,!0)},get size(){return re(this,!0)},has(e){return ne.call(this,e,!0)},add:ce("add"),set:ce("set"),delete:ce("delete"),clear:ce("clear"),forEach:le(!0,!1)},r={get(e){return te(this,e,!0,!0)},get size(){return re(this,!0)},has(e){return ne.call(this,e,!0)},add:ce("add"),set:ce("set"),delete:ce("delete"),clear:ce("clear"),forEach:le(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=ue(i,!1,!1),n[i]=ue(i,!0,!1),t[i]=ue(i,!1,!0),r[i]=ue(i,!0,!0)})),[e,n,t,r]}const[de,fe,pe,me]=he();function ge(e,t){const n=t?e?me:pe:e?fe:de;return(t,i,s)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.hasOwn)(n,i)&&i in t?n:t,i,s)}const ve={get:ge(!1,!1)},ye={get:ge(!1,!0)},_e={get:ge(!0,!1)},we={get:ge(!0,!0)};const be=new WeakMap,Se=new WeakMap,ke=new WeakMap,Te=new WeakMap;function Ie(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ee(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Ie((0,r.toRawType)(e))}function Ce(e){return Oe(e)?e:Pe(e,!1,Y,ve,be)}function xe(e){return Pe(e,!1,Q,ye,Se)}function Ae(e){return Pe(e,!0,Z,_e,ke)}function Re(e){return Pe(e,!0,J,we,Te)}function Pe(e,t,n,i,s){if(!(0,r.isObject)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const o=s.get(e);if(o)return o;const a=Ee(e);if(0===a)return e;const l=new Proxy(e,2===a?i:n);return s.set(e,l),l}function Ne(e){return Oe(e)?Ne(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Oe(e){return!(!e||!e["__v_isReadonly"])}function De(e){return!(!e||!e["__v_isShallow"])}function Le(e){return Ne(e)||Oe(e)}function Me(e){const t=e&&e["__v_raw"];return t?Me(t):e}function Fe(e){return(0,r.def)(e,"__v_skip",!0),e}const qe=e=>(0,r.isObject)(e)?Ce(e):e,Ue=e=>(0,r.isObject)(e)?Ae(e):e;function Ve(e){E&&_&&(e=Me(e),P(e.dep||(e.dep=c())))}function Be(e,t){e=Me(e),e.dep&&O(e.dep)}function je(e){return!(!e||!0!==e.__v_isRef)}function $e(e){return He(e,!1)}function ze(e){return He(e,!0)}function He(e,t){return je(e)?e:new We(e,t)}class We{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Me(e),this._value=t?e:qe(e)}get value(){return Ve(this),this._value}set value(e){e=this.__v_isShallow?e:Me(e),(0,r.hasChanged)(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:qe(e),Be(this,e))}}function Ke(e){Be(e,void 0)}function Ge(e){return je(e)?e.value:e}const Ye={get:(e,t,n)=>Ge(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return je(i)&&!je(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Ze(e){return Ne(e)?e:new Proxy(e,Ye)}class Qe{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e((()=>Ve(this)),(()=>Be(this)));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function Je(e){return new Qe(e)}function Xe(e){const t=(0,r.isArray)(e)?new Array(e.length):{};for(const n in e)t[n]=tt(e,n);return t}class et{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function tt(e,t,n){const r=e[t];return je(r)?r:new et(e,t,n)}class nt{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new S(e,(()=>{this._dirty||(this._dirty=!0,Be(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=Me(this);return Ve(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function rt(e,t,n=!1){let i,s;const o=(0,r.isFunction)(e);o?(i=e,s=r.NOOP):(i=e.get,s=e.set);const a=new nt(i,s,o||!s,n);return a}},9835:(e,t,n)=>{"use strict";n.d(t,{$d:()=>f,$y:()=>r.$y,Ah:()=>lt,B:()=>r.B,BK:()=>r.BK,Bj:()=>r.Bj,Bz:()=>Ur,C3:()=>Vn,C_:()=>i.normalizeClass,Cn:()=>J,EB:()=>r.EB,Eo:()=>nn,F4:()=>Kn,FN:()=>gr,Fl:()=>Fr,G:()=>ni,HX:()=>X,HY:()=>Tn,Ho:()=>Gn,IU:()=>r.IU,JJ:()=>we,Jd:()=>at,KU:()=>d,Ko:()=>rr,LL:()=>wn,MW:()=>qr,MX:()=>Jr,Mr:()=>Qr,Nv:()=>ir,OT:()=>r.OT,Ob:()=>Ke,P$:()=>De,PG:()=>r.PG,Q2:()=>bn,Q6:()=>Ve,RC:()=>$e,Rh:()=>ke,Rr:()=>jr,S3:()=>p,SU:()=>r.SU,U2:()=>Me,Uc:()=>Yr,Uk:()=>Yn,Um:()=>r.Um,Us:()=>tn,Vh:()=>r.Vh,WI:()=>sr,WL:()=>r.WL,WY:()=>Vr,Wm:()=>Hn,X3:()=>r.X3,XI:()=>r.XI,Xl:()=>r.Xl,Xn:()=>st,Y1:()=>Er,Y3:()=>A,Y8:()=>Pe,YP:()=>Ee,YS:()=>r.YS,Yq:()=>ct,ZK:()=>o,ZM:()=>r.ZM,Zq:()=>Zr,_:()=>zn,_A:()=>i.camelize,aZ:()=>Be,b9:()=>Br,bT:()=>ht,bv:()=>it,cE:()=>r.cE,d1:()=>dt,dD:()=>Q,dG:()=>tr,dl:()=>Ye,dq:()=>r.dq,ec:()=>z,eq:()=>ri,f3:()=>be,h:()=>Gr,hR:()=>i.toHandlerKey,i8:()=>ei,iD:()=>Mn,iH:()=>r.iH,ic:()=>ot,j4:()=>Fn,j5:()=>i.normalizeStyle,kC:()=>i.capitalize,kq:()=>Qn,l1:()=>$r,lA:()=>qn,lR:()=>mn,m0:()=>Se,mW:()=>B,mv:()=>Kr,mx:()=>ar,n4:()=>ce,nK:()=>Ue,nQ:()=>Xr,nZ:()=>r.nZ,oR:()=>r.oR,of:()=>Cr,p1:()=>Wr,qG:()=>Cn,qZ:()=>Dn,qb:()=>M,qj:()=>r.qj,qq:()=>r.qq,ry:()=>ii,sT:()=>r.sT,se:()=>Ze,sv:()=>En,uE:()=>Zn,u_:()=>Hr,up:()=>yn,vl:()=>ut,vs:()=>i.normalizeProps,w5:()=>ee,wF:()=>rt,wg:()=>Rn,wy:()=>$t,xv:()=>In,yT:()=>r.yT,yX:()=>Te,zw:()=>i.toDisplayString});var r=n(499),i=n(6970);const s=[];function o(e,...t){(0,r.Jd)();const n=s.length?s[s.length-1].component:null,i=n&&n.appContext.config.warnHandler,o=a();if(i)d(i,n,11,[e+t.join(""),n&&n.proxy,o.map((({vnode:e})=>`at <${Lr(n,e.type)}>`)).join("\n"),o]);else{const n=[`[Vue warn]: ${e}`,...t];o.length&&n.push("\n",...l(o)),console.warn(...n)}(0,r.lk)()}function a(){let e=s[s.length-1];if(!e)return[];const t=[];while(e){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function l(e){const t=[];return e.forEach(((e,n)=>{t.push(...0===n?[]:["\n"],...u(e))})),t}function u({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=!!e.component&&null==e.component.parent,i=` at <${Lr(e.component,e.type,r)}`,s=">"+n;return e.props?[i,...c(e.props),s]:[i+s]}function c(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach((n=>{t.push(...h(n,e[n]))})),n.length>3&&t.push(" ..."),t}function h(e,t,n){return(0,i.isString)(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):"number"===typeof t||"boolean"===typeof t||null==t?n?t:[`${e}=${t}`]:(0,r.dq)(t)?(t=h(e,(0,r.IU)(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):(0,i.isFunction)(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=(0,r.IU)(t),n?t:[`${e}=`,t])}function d(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){p(s,t,n)}return i}function f(e,t,n,r){if((0,i.isFunction)(e)){const s=d(e,t,n,r);return s&&(0,i.isPromise)(s)&&s.catch((e=>{p(e,t,n)})),s}const s=[];for(let i=0;i<e.length;i++)s.push(f(e[i],t,n,r));return s}function p(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,s=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,s))return;r=r.parent}const o=t.appContext.config.errorHandler;if(o)return void d(o,null,10,[e,i,s])}m(e,n,i,r)}function m(e,t,n,r=!0){console.error(e)}let g=!1,v=!1;const y=[];let _=0;const w=[];let b=null,S=0;const k=[];let T=null,I=0;const E=Promise.resolve();let C=null,x=null;function A(e){const t=C||E;return e?t.then(this?e.bind(this):e):t}function R(e){let t=_+1,n=y.length;while(t<n){const r=t+n>>>1,i=U(y[r]);i<e?t=r+1:n=r}return t}function P(e){y.length&&y.includes(e,g&&e.allowRecurse?_+1:_)||e===x||(null==e.id?y.push(e):y.splice(R(e.id),0,e),N())}function N(){g||v||(v=!0,C=E.then(V))}function O(e){const t=y.indexOf(e);t>_&&y.splice(t,1)}function D(e,t,n,r){(0,i.isArray)(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),N()}function L(e){D(e,b,w,S)}function M(e){D(e,T,k,I)}function F(e,t=null){if(w.length){for(x=t,b=[...new Set(w)],w.length=0,S=0;S<b.length;S++)b[S]();b=null,S=0,x=null,F(e,t)}}function q(e){if(k.length){const e=[...new Set(k)];if(k.length=0,T)return void T.push(...e);for(T=e,T.sort(((e,t)=>U(e)-U(t))),I=0;I<T.length;I++)T[I]();T=null,I=0}}const U=e=>null==e.id?1/0:e.id;function V(e){v=!1,g=!0,F(e),y.sort(((e,t)=>U(e)-U(t)));i.NOOP;try{for(_=0;_<y.length;_++){const e=y[_];e&&!1!==e.active&&d(e,null,14)}}finally{_=0,y.length=0,q(e),g=!1,C=null,(y.length||w.length||k.length)&&V(e)}}new Set;new Map;let B,j=[],$=!1;function z(e,t){var n,r;if(B=e,B)B.enabled=!0,j.forEach((({event:e,args:t})=>B.emit(e,...t))),j=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null===(r=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===r?void 0:r.includes("jsdom"))){const e=t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[];e.push((e=>{z(e,t)})),setTimeout((()=>{B||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,$=!0,j=[])}),3e3)}else $=!0,j=[]}function H(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||i.EMPTY_OBJ;let s=n;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in r){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:o}=r[e]||i.EMPTY_OBJ;o?s=n.map((e=>e.trim())):t&&(s=n.map(i.toNumber))}let l;let u=r[l=(0,i.toHandlerKey)(t)]||r[l=(0,i.toHandlerKey)((0,i.camelize)(t))];!u&&o&&(u=r[l=(0,i.toHandlerKey)((0,i.hyphenate)(t))]),u&&f(u,e,6,s);const c=r[l+"Once"];if(c){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,f(c,e,6,s)}}function W(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(void 0!==s)return s;const o=e.emits;let a={},l=!1;if(!(0,i.isFunction)(e)){const r=e=>{const n=W(e,t,!0);n&&(l=!0,(0,i.extend)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return o||l?((0,i.isArray)(o)?o.forEach((e=>a[e]=null)):(0,i.extend)(a,o),r.set(e,a),a):(r.set(e,null),null)}function K(e,t){return!(!e||!(0,i.isOn)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.hasOwn)(e,t[0].toLowerCase()+t.slice(1))||(0,i.hasOwn)(e,(0,i.hyphenate)(t))||(0,i.hasOwn)(e,t))}let G=null,Y=null;function Z(e){const t=G;return G=e,Y=e&&e.type.__scopeId||null,t}function Q(e){Y=e}function J(){Y=null}const X=e=>ee;function ee(e,t=G,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&Dn(-1);const i=Z(t),s=e(...n);return Z(i),r._d&&Dn(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function te(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[a],slots:l,attrs:u,emit:c,render:h,renderCache:d,data:f,setupState:m,ctx:g,inheritAttrs:v}=e;let y,_;const w=Z(e);try{if(4&n.shapeFlag){const e=s||r;y=Jn(h.call(e,e,d,o,m,f,g)),_=u}else{const e=t;0,y=Jn(e.length>1?e(o,{attrs:u,slots:l,emit:c}):e(o,null)),_=t.props?u:re(u)}}catch(S){xn.length=0,p(S,e,1),y=Hn(En)}let b=y;if(_&&!1!==v){const e=Object.keys(_),{shapeFlag:t}=b;e.length&&7&t&&(a&&e.some(i.isModelListener)&&(_=ie(_,a)),b=Gn(b,_))}return n.dirs&&(b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),y=b,Z(w),y}function ne(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!qn(r))return;if(r.type!==En||"v-if"===r.children){if(t)return;t=r}}return t}const re=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,i.isOn)(n))&&((t||(t={}))[n]=e[n]);return t},ie=(e,t)=>{const n={};for(const r in e)(0,i.isModelListener)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function se(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!a||a&&a.$stable)||r!==o&&(r?!o||oe(r,o,u):!!o);if(1024&l)return!0;if(16&l)return r?oe(r,o,u):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==r[n]&&!K(u,n))return!0}}return!1}function oe(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!K(n,s))return!0}return!1}function ae({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const le=e=>e.__isSuspense,ue={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,s,o,a,l,u){null==e?de(t,n,r,i,s,o,a,l,u):fe(e,t,n,r,i,o,a,l,u)},hydrate:me,create:pe,normalize:ge},ce=ue;function he(e,t){const n=e.props&&e.props[t];(0,i.isFunction)(n)&&n()}function de(e,t,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),d=e.suspense=pe(e,i,r,t,h,n,s,o,a,l);u(null,d.pendingBranch=e.ssContent,h,null,r,d,s,o),d.deps>0?(he(e,"onPending"),he(e,"onFallback"),u(null,e.ssFallback,t,n,r,null,s,o),_e(d,e.ssFallback)):d.resolve()}function fe(e,t,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const d=t.ssContent,f=t.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:v}=h;if(m)h.pendingBranch=d,Un(d,m)?(l(m,d,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():g&&(l(p,f,n,r,i,null,s,o,a),_e(h,f))):(h.pendingId++,v?(h.isHydrating=!1,h.activeBranch=m):u(m,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),g?(l(null,d,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():(l(p,f,n,r,i,null,s,o,a),_e(h,f))):p&&Un(d,p)?(l(p,d,n,r,i,h,s,o,a),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0&&h.resolve()));else if(p&&Un(d,p))l(p,d,n,r,i,h,s,o,a),_e(h,d);else if(he(t,"onPending"),h.pendingBranch=d,h.pendingId++,l(null,d,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:e,pendingId:t}=h;e>0?setTimeout((()=>{h.pendingId===t&&h.fallback(f)}),e):0===e&&h.fallback(f)}}function pe(e,t,n,r,s,o,a,l,u,c,h=!1){const{p:d,m:f,um:m,n:g,o:{parentNode:v,remove:y}}=c,_=(0,i.toNumber)(e.props&&e.props.timeout),w={vnode:e,parent:t,parentComponent:n,isSVG:a,container:r,hiddenContainer:s,anchor:o,deps:0,pendingId:0,timeout:"number"===typeof _?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(e=!1){const{vnode:t,activeBranch:n,pendingBranch:r,pendingId:i,effects:s,parentComponent:o,container:a}=w;if(w.isHydrating)w.isHydrating=!1;else if(!e){const e=n&&r.transition&&"out-in"===r.transition.mode;e&&(n.transition.afterLeave=()=>{i===w.pendingId&&f(r,a,t,0)});let{anchor:t}=w;n&&(t=g(n),m(n,o,w,!0)),e||f(r,a,t,0)}_e(w,r),w.pendingBranch=null,w.isInFallback=!1;let l=w.parent,u=!1;while(l){if(l.pendingBranch){l.effects.push(...s),u=!0;break}l=l.parent}u||M(s),w.effects=[],he(t,"onResolve")},fallback(e){if(!w.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:i,isSVG:s}=w;he(t,"onFallback");const o=g(n),a=()=>{w.isInFallback&&(d(null,e,i,o,r,null,s,l,u),_e(w,e))},c=e.transition&&"out-in"===e.transition.mode;c&&(n.transition.afterLeave=a),w.isInFallback=!0,m(n,r,null,!0),c||a()},move(e,t,n){w.activeBranch&&f(w.activeBranch,e,t,n),w.container=e},next(){return w.activeBranch&&g(w.activeBranch)},registerDep(e,t){const n=!!w.pendingBranch;n&&w.deps++;const r=e.vnode.el;e.asyncDep.catch((t=>{p(t,e,0)})).then((i=>{if(e.isUnmounted||w.isUnmounted||w.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:s}=e;Ir(e,i,!1),r&&(s.el=r);const o=!r&&e.subTree.el;t(e,s,v(r||e.subTree.el),r?null:g(e.subTree),w,a,u),o&&y(o),ae(e,s.el),n&&0===--w.deps&&w.resolve()}))},unmount(e,t){w.isUnmounted=!0,w.activeBranch&&m(w.activeBranch,n,e,t),w.pendingBranch&&m(w.pendingBranch,n,e,t)}};return w}function me(e,t,n,r,i,s,o,a,l){const u=t.suspense=pe(t,r,n,e.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(e,u.pendingBranch=t.ssContent,n,u,s,o);return 0===u.deps&&u.resolve(),c}function ge(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=ve(r?n.default:n),e.ssFallback=r?ve(n.fallback):Hn(En)}function ve(e){let t;if((0,i.isFunction)(e)){const n=On&&e._c;n&&(e._d=!1,Rn()),e=e(),n&&(e._d=!0,t=An,Pn())}if((0,i.isArray)(e)){const t=ne(e);0,e=t}return e=Jn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function ye(e,t){t&&t.pendingBranch?(0,i.isArray)(e)?t.effects.push(...e):t.effects.push(e):M(e)}function _e(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,ae(r,i))}function we(e,t){if(mr){let n=mr.provides;const r=mr.parent&&mr.parent.provides;r===n&&(n=mr.provides=Object.create(r)),n[e]=t}else 0}function be(e,t,n=!1){const r=mr||G;if(r){const s=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&(0,i.isFunction)(t)?t.call(r.proxy):t}else 0}function Se(e,t){return Ce(e,null,t)}function ke(e,t){return Ce(e,null,{flush:"post"})}function Te(e,t){return Ce(e,null,{flush:"sync"})}const Ie={};function Ee(e,t,n){return Ce(e,t,n)}function Ce(e,t,{immediate:n,deep:s,flush:o,onTrack:a,onTrigger:l}=i.EMPTY_OBJ){const u=mr;let c,h,p=!1,m=!1;if((0,r.dq)(e)?(c=()=>e.value,p=(0,r.yT)(e)):(0,r.PG)(e)?(c=()=>e,s=!0):(0,i.isArray)(e)?(m=!0,p=e.some(r.PG),c=()=>e.map((e=>(0,r.dq)(e)?e.value:(0,r.PG)(e)?Re(e):(0,i.isFunction)(e)?d(e,u,2):void 0))):c=(0,i.isFunction)(e)?t?()=>d(e,u,2):()=>{if(!u||!u.isUnmounted)return h&&h(),f(e,u,3,[g])}:i.NOOP,t&&s){const e=c;c=()=>Re(e())}let g=e=>{h=w.onStop=()=>{d(e,u,4)}};if(Sr)return g=i.NOOP,t?n&&f(t,u,3,[c(),m?[]:void 0,g]):c(),i.NOOP;let v=m?[]:Ie;const y=()=>{if(w.active)if(t){const e=w.run();(s||p||(m?e.some(((e,t)=>(0,i.hasChanged)(e,v[t]))):(0,i.hasChanged)(e,v)))&&(h&&h(),f(t,u,3,[e,v===Ie?void 0:v,g]),v=e)}else w.run()};let _;y.allowRecurse=!!t,_="sync"===o?y:"post"===o?()=>en(y,u&&u.suspense):()=>{!u||u.isMounted?L(y):y()};const w=new r.qq(c,_);return t?n?y():v=w.run():"post"===o?en(w.run.bind(w),u&&u.suspense):w.run(),()=>{w.stop(),u&&u.scope&&(0,i.remove)(u.scope.effects,w)}}function xe(e,t,n){const r=this.proxy,s=(0,i.isString)(e)?e.includes(".")?Ae(r,e):()=>r[e]:e.bind(r,r);let o;(0,i.isFunction)(t)?o=t:(o=t.handler,n=t);const a=mr;vr(this);const l=Ce(s,o.bind(r),n);return a?vr(a):yr(),l}function Ae(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Re(e,t){if(!(0,i.isObject)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,r.dq)(e))Re(e.value,t);else if((0,i.isArray)(e))for(let n=0;n<e.length;n++)Re(e[n],t);else if((0,i.isSet)(e)||(0,i.isMap)(e))e.forEach((e=>{Re(e,t)}));else if((0,i.isPlainObject)(e))for(const n in e)Re(e[n],t);return e}function Pe(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return it((()=>{e.isMounted=!0})),at((()=>{e.isUnmounting=!0})),e}const Ne=[Function,Array],Oe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ne,onEnter:Ne,onAfterEnter:Ne,onEnterCancelled:Ne,onBeforeLeave:Ne,onLeave:Ne,onAfterLeave:Ne,onLeaveCancelled:Ne,onBeforeAppear:Ne,onAppear:Ne,onAfterAppear:Ne,onAppearCancelled:Ne},setup(e,{slots:t}){const n=gr(),i=Pe();let s;return()=>{const o=t.default&&Ve(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let e=!1;for(const t of o)if(t.type!==En){0,a=t,e=!0;break}}const l=(0,r.IU)(e),{mode:u}=l;if(i.isLeaving)return Fe(a);const c=qe(a);if(!c)return Fe(a);const h=Me(c,l,i,n);Ue(c,h);const d=n.subTree,f=d&&qe(d);let p=!1;const{getTransitionKey:m}=c.type;if(m){const e=m();void 0===s?s=e:e!==s&&(s=e,p=!0)}if(f&&f.type!==En&&(!Un(c,f)||p)){const e=Me(f,l,i,n);if(Ue(f,e),"out-in"===u)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,n.update()},Fe(a);"in-out"===u&&c.type!==En&&(e.delayLeave=(e,t,n)=>{const r=Le(i,f);r[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}},De=Oe;function Le(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Me(e,t,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:g,onAppear:v,onAfterAppear:y,onAppearCancelled:_}=t,w=String(e.key),b=Le(n,e),S=(e,t)=>{e&&f(e,r,9,t)},k={mode:s,persisted:o,beforeEnter(t){let r=a;if(!n.isMounted){if(!i)return;r=g||a}t._leaveCb&&t._leaveCb(!0);const s=b[w];s&&Un(e,s)&&s.el._leaveCb&&s.el._leaveCb(),S(r,[t])},enter(e){let t=l,r=u,s=c;if(!n.isMounted){if(!i)return;t=v||l,r=y||u,s=_||c}let o=!1;const a=e._enterCb=t=>{o||(o=!0,S(t?s:r,[e]),k.delayedLeave&&k.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();S(h,[t]);let s=!1;const o=t._leaveCb=n=>{s||(s=!0,r(),S(n?m:p,[t]),t._leaveCb=void 0,b[i]===e&&delete b[i])};b[i]=e,d?(d(t,o),d.length<=1&&o()):o()},clone(e){return Me(e,t,n,r)}};return k}function Fe(e){if(He(e))return e=Gn(e),e.children=null,e}function qe(e){return He(e)?e.children?e.children[0]:void 0:e}function Ue(e,t){6&e.shapeFlag&&e.component?Ue(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ve(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:s);o.type===Tn?(128&o.patchFlag&&i++,r=r.concat(Ve(o.children,t,a))):(t||o.type!==En)&&r.push(null!=a?Gn(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Be(e){return(0,i.isFunction)(e)?{setup:e,name:e.name}:e}const je=e=>!!e.type.__asyncLoader;function $e(e){(0,i.isFunction)(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:o=200,timeout:a,suspensible:l=!0,onError:u}=e;let c,h=null,d=0;const f=()=>(d++,h=null,m()),m=()=>{let e;return h||(e=h=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),u)return new Promise(((t,n)=>{const r=()=>t(f()),i=()=>n(e);u(e,r,i,d+1)}));throw e})).then((t=>e!==h&&h?h:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),c=t,t))))};return Be({name:"AsyncComponentWrapper",__asyncLoader:m,get __asyncResolved(){return c},setup(){const e=mr;if(c)return()=>ze(c,e);const t=t=>{h=null,p(t,e,13,!s)};if(l&&e.suspense||Sr)return m().then((t=>()=>ze(t,e))).catch((e=>(t(e),()=>s?Hn(s,{error:e}):null)));const i=(0,r.iH)(!1),u=(0,r.iH)(),d=(0,r.iH)(!!o);return o&&setTimeout((()=>{d.value=!1}),o),null!=a&&setTimeout((()=>{if(!i.value&&!u.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),u.value=e}}),a),m().then((()=>{i.value=!0,e.parent&&He(e.parent.vnode)&&P(e.parent.update)})).catch((e=>{t(e),u.value=e})),()=>i.value&&c?ze(c,e):u.value&&s?Hn(s,{error:u.value}):n&&!d.value?Hn(n):void 0}})}function ze(e,{vnode:{ref:t,props:n,children:r}}){const i=Hn(e,n,r);return i.ref=t,i}const He=e=>e.type.__isKeepAlive,We={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=gr(),r=n.ctx;if(!r.renderer)return t.default;const s=new Map,o=new Set;let a=null;const l=n.suspense,{renderer:{p:u,m:c,um:h,o:{createElement:d}}}=r,f=d("div");function p(e){Xe(e),h(e,n,l,!0)}function m(e){s.forEach(((t,n)=>{const r=Dr(t.type);!r||e&&e(r)||g(n)}))}function g(e){const t=s.get(e);a&&t.type===a.type?a&&Xe(a):p(t),s.delete(e),o.delete(e)}r.activate=(e,t,n,r,s)=>{const o=e.component;c(e,t,n,0,l),u(o.vnode,e,t,n,o,l,r,e.slotScopeIds,s),en((()=>{o.isDeactivated=!1,o.a&&(0,i.invokeArrayFns)(o.a);const t=e.props&&e.props.onVnodeMounted;t&&nr(t,o.parent,e)}),l)},r.deactivate=e=>{const t=e.component;c(e,f,null,1,l),en((()=>{t.da&&(0,i.invokeArrayFns)(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&nr(n,t.parent,e),t.isDeactivated=!0}),l)},Ee((()=>[e.include,e.exclude]),(([e,t])=>{e&&m((t=>Ge(e,t))),t&&m((e=>!Ge(t,e)))}),{flush:"post",deep:!0});let v=null;const y=()=>{null!=v&&s.set(v,et(n.subTree))};return it(y),ot(y),at((()=>{s.forEach((e=>{const{subTree:t,suspense:r}=n,i=et(t);if(e.type!==i.type)p(e);else{Xe(i);const e=i.component.da;e&&en(e,r)}}))})),()=>{if(v=null,!t.default)return null;const n=t.default(),r=n[0];if(n.length>1)return a=null,n;if(!qn(r)||!(4&r.shapeFlag)&&!(128&r.shapeFlag))return a=null,r;let i=et(r);const l=i.type,u=Dr(je(i)?i.type.__asyncResolved||{}:l),{include:c,exclude:h,max:d}=e;if(c&&(!u||!Ge(c,u))||h&&u&&Ge(h,u))return a=i,r;const f=null==i.key?l:i.key,p=s.get(f);return i.el&&(i=Gn(i),128&r.shapeFlag&&(r.ssContent=i)),v=f,p?(i.el=p.el,i.component=p.component,i.transition&&Ue(i,i.transition),i.shapeFlag|=512,o.delete(f),o.add(f)):(o.add(f),d&&o.size>parseInt(d,10)&&g(o.values().next().value)),i.shapeFlag|=256,a=i,r}}},Ke=We;function Ge(e,t){return(0,i.isArray)(e)?e.some((e=>Ge(e,t))):(0,i.isString)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function Ye(e,t){Qe(e,"a",t)}function Ze(e,t){Qe(e,"da",t)}function Qe(e,t,n=mr){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(tt(t,r,n),n){let e=n.parent;while(e&&e.parent)He(e.parent.vnode)&&Je(r,t,n,e),e=e.parent}}function Je(e,t,n,r){const s=tt(t,e,r,!0);lt((()=>{(0,i.remove)(r[t],s)}),n)}function Xe(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function et(e){return 128&e.shapeFlag?e.ssContent:e}function tt(e,t,n=mr,i=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),vr(n);const s=f(t,n,e,i);return yr(),(0,r.lk)(),s});return i?s.unshift(o):s.push(o),o}}const nt=e=>(t,n=mr)=>(!Sr||"sp"===e)&&tt(e,t,n),rt=nt("bm"),it=nt("m"),st=nt("bu"),ot=nt("u"),at=nt("bum"),lt=nt("um"),ut=nt("sp"),ct=nt("rtg"),ht=nt("rtc");function dt(e,t=mr){tt("ec",e,t)}let ft=!0;function pt(e){const t=yt(e),n=e.proxy,s=e.ctx;ft=!1,t.beforeCreate&&gt(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:l,watch:u,provide:c,inject:h,created:d,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:v,deactivated:y,beforeDestroy:_,beforeUnmount:w,destroyed:b,unmounted:S,render:k,renderTracked:T,renderTriggered:I,errorCaptured:E,serverPrefetch:C,expose:x,inheritAttrs:A,components:R,directives:P,filters:N}=t,O=null;if(h&&mt(h,s,O,e.appContext.config.unwrapInjectedRef),l)for(const r in l){const e=l[r];(0,i.isFunction)(e)&&(s[r]=e.bind(n))}if(o){0;const t=o.call(n,n);0,(0,i.isObject)(t)&&(e.data=(0,r.qj)(t))}if(ft=!0,a)for(const r in a){const e=a[r],t=(0,i.isFunction)(e)?e.bind(n,n):(0,i.isFunction)(e.get)?e.get.bind(n,n):i.NOOP;0;const o=!(0,i.isFunction)(e)&&(0,i.isFunction)(e.set)?e.set.bind(n):i.NOOP,l=Fr({get:t,set:o});Object.defineProperty(s,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(u)for(const r in u)vt(u[r],s,n,r);if(c){const e=(0,i.isFunction)(c)?c.call(n):c;Reflect.ownKeys(e).forEach((t=>{we(t,e[t])}))}function D(e,t){(0,i.isArray)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&gt(d,e,"c"),D(rt,f),D(it,p),D(st,m),D(ot,g),D(Ye,v),D(Ze,y),D(dt,E),D(ht,T),D(ct,I),D(at,w),D(lt,S),D(ut,C),(0,i.isArray)(x))if(x.length){const t=e.exposed||(e.exposed={});x.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});k&&e.render===i.NOOP&&(e.render=k),null!=A&&(e.inheritAttrs=A),R&&(e.components=R),P&&(e.directives=P)}function mt(e,t,n=i.NOOP,s=!1){(0,i.isArray)(e)&&(e=kt(e));for(const o in e){const n=e[o];let a;a=(0,i.isObject)(n)?"default"in n?be(n.from||o,n.default,!0):be(n.from||o):be(n),(0,r.dq)(a)&&s?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[o]=a}}function gt(e,t,n){f((0,i.isArray)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function vt(e,t,n,r){const s=r.includes(".")?Ae(n,r):()=>n[r];if((0,i.isString)(e)){const n=t[e];(0,i.isFunction)(n)&&Ee(s,n)}else if((0,i.isFunction)(e))Ee(s,e.bind(n));else if((0,i.isObject)(e))if((0,i.isArray)(e))e.forEach((e=>vt(e,t,n,r)));else{const r=(0,i.isFunction)(e.handler)?e.handler.bind(n):t[e.handler];(0,i.isFunction)(r)&&Ee(s,r,e)}else 0}function yt(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:i.length||n||r?(l={},i.length&&i.forEach((e=>_t(l,e,o,!0))),_t(l,t,o)):l=t,s.set(t,l),l}function _t(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&_t(e,s,n,!0),i&&i.forEach((t=>_t(e,t,n,!0)));for(const o in t)if(r&&"expose"===o);else{const r=wt[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const wt={data:bt,props:It,emits:It,methods:It,computed:It,beforeCreate:Tt,created:Tt,beforeMount:Tt,mounted:Tt,beforeUpdate:Tt,updated:Tt,beforeDestroy:Tt,beforeUnmount:Tt,destroyed:Tt,unmounted:Tt,activated:Tt,deactivated:Tt,errorCaptured:Tt,serverPrefetch:Tt,components:It,directives:It,watch:Et,provide:bt,inject:St};function bt(e,t){return t?e?function(){return(0,i.extend)((0,i.isFunction)(e)?e.call(this,this):e,(0,i.isFunction)(t)?t.call(this,this):t)}:t:e}function St(e,t){return It(kt(e),kt(t))}function kt(e){if((0,i.isArray)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Tt(e,t){return e?[...new Set([].concat(e,t))]:t}function It(e,t){return e?(0,i.extend)((0,i.extend)(Object.create(null),e),t):t}function Et(e,t){if(!e)return t;if(!t)return e;const n=(0,i.extend)(Object.create(null),e);for(const r in t)n[r]=Tt(e[r],t[r]);return n}function Ct(e,t,n,s=!1){const o={},a={};(0,i.def)(a,Bn,1),e.propsDefaults=Object.create(null),At(e,t,o,a);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=s?o:(0,r.Um)(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function xt(e,t,n,s){const{props:o,attrs:a,vnode:{patchFlag:l}}=e,u=(0,r.IU)(o),[c]=e.propsOptions;let h=!1;if(!(s||l>0)||16&l){let r;At(e,t,o,a)&&(h=!0);for(const s in u)t&&((0,i.hasOwn)(t,s)||(r=(0,i.hyphenate)(s))!==s&&(0,i.hasOwn)(t,r))||(c?!n||void 0===n[s]&&void 0===n[r]||(o[s]=Rt(c,u,s,void 0,e,!0)):delete o[s]);if(a!==u)for(const e in a)t&&(0,i.hasOwn)(t,e)||(delete a[e],h=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];if(K(e.emitsOptions,s))continue;const l=t[s];if(c)if((0,i.hasOwn)(a,s))l!==a[s]&&(a[s]=l,h=!0);else{const t=(0,i.camelize)(s);o[t]=Rt(c,u,t,l,e,!1)}else l!==a[s]&&(a[s]=l,h=!0)}}h&&(0,r.X$)(e,"set","$attrs")}function At(e,t,n,s){const[o,a]=e.propsOptions;let l,u=!1;if(t)for(let r in t){if((0,i.isReservedProp)(r))continue;const c=t[r];let h;o&&(0,i.hasOwn)(o,h=(0,i.camelize)(r))?a&&a.includes(h)?(l||(l={}))[h]=c:n[h]=c:K(e.emitsOptions,r)||r in s&&c===s[r]||(s[r]=c,u=!0)}if(a){const t=(0,r.IU)(n),s=l||i.EMPTY_OBJ;for(let r=0;r<a.length;r++){const l=a[r];n[l]=Rt(o,t,l,s[l],e,!(0,i.hasOwn)(s,l))}}return u}function Rt(e,t,n,r,s,o){const a=e[n];if(null!=a){const e=(0,i.hasOwn)(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&(0,i.isFunction)(e)){const{propsDefaults:i}=s;n in i?r=i[n]:(vr(s),r=i[n]=e.call(null,t),yr())}else r=e}a[0]&&(o&&!e?r=!1:!a[1]||""!==r&&r!==(0,i.hyphenate)(n)||(r=!0))}return r}function Pt(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const o=e.props,a={},l=[];let u=!1;if(!(0,i.isFunction)(e)){const r=e=>{u=!0;const[n,r]=Pt(e,t,!0);(0,i.extend)(a,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!o&&!u)return r.set(e,i.EMPTY_ARR),i.EMPTY_ARR;if((0,i.isArray)(o))for(let h=0;h<o.length;h++){0;const e=(0,i.camelize)(o[h]);Nt(e)&&(a[e]=i.EMPTY_OBJ)}else if(o){0;for(const e in o){const t=(0,i.camelize)(e);if(Nt(t)){const n=o[e],r=a[t]=(0,i.isArray)(n)||(0,i.isFunction)(n)?{type:n}:n;if(r){const e=Lt(Boolean,r.type),n=Lt(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,i.hasOwn)(r,"default"))&&l.push(t)}}}}const c=[a,l];return r.set(e,c),c}function Nt(e){return"$"!==e[0]}function Ot(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function Dt(e,t){return Ot(e)===Ot(t)}function Lt(e,t){return(0,i.isArray)(t)?t.findIndex((t=>Dt(t,e))):(0,i.isFunction)(t)&&Dt(t,e)?0:-1}const Mt=e=>"_"===e[0]||"$stable"===e,Ft=e=>(0,i.isArray)(e)?e.map(Jn):[Jn(e)],qt=(e,t,n)=>{const r=ee(((...e)=>Ft(t(...e))),n);return r._c=!1,r},Ut=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Mt(s))continue;const n=e[s];if((0,i.isFunction)(n))t[s]=qt(s,n,r);else if(null!=n){0;const e=Ft(n);t[s]=()=>e}}},Vt=(e,t)=>{const n=Ft(t);e.slots.default=()=>n},Bt=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,r.IU)(t),(0,i.def)(t,"_",n)):Ut(t,e.slots={})}else e.slots={},t&&Vt(e,t);(0,i.def)(e.slots,Bn,1)},jt=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,a=i.EMPTY_OBJ;if(32&r.shapeFlag){const e=t._;e?n&&1===e?o=!1:((0,i.extend)(s,t),n||1!==e||delete s._):(o=!t.$stable,Ut(t,s)),a=t}else t&&(Vt(e,t),a={default:1});if(o)for(const i in s)Mt(i)||i in a||delete s[i]};function $t(e,t){const n=G;if(null===n)return e;const r=Pr(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,n,a,l=i.EMPTY_OBJ]=t[o];(0,i.isFunction)(e)&&(e={mounted:e,updated:e}),e.deep&&Re(n),s.push({dir:e,instance:r,value:n,oldValue:void 0,arg:a,modifiers:l})}return e}function zt(e,t,n,i){const s=e.dirs,o=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];o&&(l.oldValue=o[a].value);let u=l.dir[i];u&&((0,r.Jd)(),f(u,n,8,[e.el,l,e,t]),(0,r.lk)())}}function Ht(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wt=0;function Kt(e,t){return function(n,r=null){(0,i.isFunction)(n)||(n=Object.assign({},n)),null==r||(0,i.isObject)(r)||(r=null);const s=Ht(),o=new Set;let a=!1;const l=s.app={_uid:Wt++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:ei,get config(){return s.config},set config(e){0},use(e,...t){return o.has(e)||(e&&(0,i.isFunction)(e.install)?(o.add(e),e.install(l,...t)):(0,i.isFunction)(e)&&(o.add(e),e(l,...t))),l},mixin(e){return s.mixins.includes(e)||s.mixins.push(e),l},component(e,t){return t?(s.components[e]=t,l):s.components[e]},directive(e,t){return t?(s.directives[e]=t,l):s.directives[e]},mount(i,o,u){if(!a){const c=Hn(n,r);return c.appContext=s,o&&t?t(c,i):e(c,i,u),a=!0,l._container=i,i.__vue_app__=l,Pr(c.component)||c.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return s.provides[e]=t,l}};return l}}function Gt(e,t,n,s,o=!1){if((0,i.isArray)(e))return void e.forEach(((e,r)=>Gt(e,t&&((0,i.isArray)(t)?t[r]:t),n,s,o)));if(je(s)&&!o)return;const a=4&s.shapeFlag?Pr(s.component)||s.component.proxy:s.el,l=o?null:a,{i:u,r:c}=e;const h=t&&t.r,f=u.refs===i.EMPTY_OBJ?u.refs={}:u.refs,p=u.setupState;if(null!=h&&h!==c&&((0,i.isString)(h)?(f[h]=null,(0,i.hasOwn)(p,h)&&(p[h]=null)):(0,r.dq)(h)&&(h.value=null)),(0,i.isFunction)(c))d(c,u,12,[l,f]);else{const t=(0,i.isString)(c),s=(0,r.dq)(c);if(t||s){const s=()=>{if(e.f){const n=t?f[c]:c.value;o?(0,i.isArray)(n)&&(0,i.remove)(n,a):(0,i.isArray)(n)?n.includes(a)||n.push(a):t?(f[c]=[a],(0,i.hasOwn)(p,c)&&(p[c]=f[c])):(c.value=[a],e.k&&(f[e.k]=c.value))}else t?(f[c]=l,(0,i.hasOwn)(p,c)&&(p[c]=l)):(0,r.dq)(c)&&(c.value=l,e.k&&(f[e.k]=l))};l?(s.id=-1,en(s,n)):s()}else 0}}let Yt=!1;const Zt=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,Qt=e=>8===e.nodeType;function Jt(e){const{mt:t,p:n,o:{patchProp:r,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=e,c=(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),void q();Yt=!1,h(t.firstChild,e,null,null,null),q(),Yt&&console.error("Hydration completed but contains mismatches.")},h=(n,r,i,a,l,u=!1)=>{const c=Qt(n)&&"["===n.data,v=()=>m(n,r,i,a,l,c),{type:y,ref:_,shapeFlag:w}=r,b=n.nodeType;r.el=n;let S=null;switch(y){case In:3!==b?S=v():(n.data!==r.children&&(Yt=!0,n.data=r.children),S=s(n));break;case En:S=8!==b||c?v():s(n);break;case Cn:if(1===b){S=n;const e=!r.children.length;for(let t=0;t<r.staticCount;t++)e&&(r.children+=S.outerHTML),t===r.staticCount-1&&(r.anchor=S),S=s(S);return S}S=v();break;case Tn:S=c?p(n,r,i,a,l,u):v();break;default:if(1&w)S=1!==b||r.type.toLowerCase()!==n.tagName.toLowerCase()?v():d(n,r,i,a,l,u);else if(6&w){r.slotScopeIds=l;const e=o(n);if(t(r,e,null,i,a,Zt(e),u),S=c?g(n):s(n),je(r)){let t;c?(t=Hn(Tn),t.anchor=S?S.previousSibling:e.lastChild):t=3===n.nodeType?Yn(""):Hn("div"),t.el=n,r.component.subTree=t}}else 64&w?S=8!==b?v():r.type.hydrate(n,r,i,a,l,u,e,f):128&w&&(S=r.type.hydrate(n,r,i,a,Zt(o(n)),l,u,e,h))}return null!=_&&Gt(_,null,a,r),S},d=(e,t,n,s,o,l)=>{l=l||!!t.dynamicChildren;const{type:u,props:c,patchFlag:h,shapeFlag:d,dirs:p}=t,m="input"===u&&p||"option"===u;if(m||-1!==h){if(p&&zt(t,null,n,"created"),c)if(m||!l||48&h)for(const t in c)(m&&t.endsWith("value")||(0,i.isOn)(t)&&!(0,i.isReservedProp)(t))&&r(e,t,null,c[t],!1,void 0,n);else c.onClick&&r(e,"onClick",null,c.onClick,!1,void 0,n);let u;if((u=c&&c.onVnodeBeforeMount)&&nr(u,n,t),p&&zt(t,null,n,"beforeMount"),((u=c&&c.onVnodeMounted)||p)&&ye((()=>{u&&nr(u,n,t),p&&zt(t,null,n,"mounted")}),s),16&d&&(!c||!c.innerHTML&&!c.textContent)){let r=f(e.firstChild,t,e,n,s,o,l);while(r){Yt=!0;const e=r;r=r.nextSibling,a(e)}}else 8&d&&e.textContent!==t.children&&(Yt=!0,e.textContent=t.children)}return e.nextSibling},f=(e,t,r,i,s,o,a)=>{a=a||!!t.dynamicChildren;const l=t.children,u=l.length;for(let c=0;c<u;c++){const t=a?l[c]:l[c]=Jn(l[c]);if(e)e=h(e,t,i,s,o,a);else{if(t.type===In&&!t.children)continue;Yt=!0,n(null,t,r,null,i,s,Zt(r),o)}}return e},p=(e,t,n,r,i,a)=>{const{slotScopeIds:c}=t;c&&(i=i?i.concat(c):c);const h=o(e),d=f(s(e),t,h,n,r,i,a);return d&&Qt(d)&&"]"===d.data?s(t.anchor=d):(Yt=!0,l(t.anchor=u("]"),h,d),d)},m=(e,t,r,i,l,u)=>{if(Yt=!0,t.el=null,u){const t=g(e);while(1){const n=s(e);if(!n||n===t)break;a(n)}}const c=s(e),h=o(e);return a(e),n(null,t,h,c,r,i,Zt(h),l),c},g=e=>{let t=0;while(e)if(e=s(e),e&&Qt(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return s(e);t--}return e};return[c,h]}function Xt(){}const en=ye;function tn(e){return rn(e)}function nn(e){return rn(e,Jt)}function rn(e,t){Xt();const n=(0,i.getGlobalThis)();n.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:l,createText:u,createComment:c,setText:h,setElementText:d,parentNode:f,nextSibling:p,setScopeId:m=i.NOOP,cloneNode:g,insertStaticContent:v}=e,y=(e,t,n,r=null,i=null,s=null,o=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Un(e,t)&&(r=Z(e),H(e,i,s,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:h}=t;switch(u){case In:_(e,t,n,r);break;case En:w(e,t,n,r);break;case Cn:null==e&&b(t,n,r,o);break;case Tn:N(e,t,n,r,i,s,o,a,l);break;default:1&h?T(e,t,n,r,i,s,o,a,l):6&h?D(e,t,n,r,i,s,o,a,l):(64&h||128&h)&&u.process(e,t,n,r,i,s,o,a,l,J)}null!=c&&i&&Gt(c,e&&e.ref,s,t||e,!t)},_=(e,t,n,r)=>{if(null==e)s(t.el=u(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},w=(e,t,n,r)=>{null==e?s(t.el=c(t.children||""),n,r):t.el=e.el},b=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r,e.el,e.anchor)},S=({el:e,anchor:t},n,r)=>{let i;while(e&&e!==t)i=p(e),s(e,n,r),e=i;s(t,n,r)},k=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),o(e),e=n;o(t)},T=(e,t,n,r,i,s,o,a,l)=>{o=o||"svg"===t.type,null==e?I(t,n,r,i,s,o,a,l):x(e,t,i,s,o,a,l)},I=(e,t,n,r,o,u,c,h)=>{let f,p;const{type:m,props:v,shapeFlag:y,transition:_,patchFlag:w,dirs:b}=e;if(e.el&&void 0!==g&&-1===w)f=e.el=g(e.el);else{if(f=e.el=l(e.type,u,v&&v.is,v),8&y?d(f,e.children):16&y&&C(e.children,f,null,r,o,u&&"foreignObject"!==m,c,h),b&&zt(e,null,r,"created"),v){for(const t in v)"value"===t||(0,i.isReservedProp)(t)||a(f,t,null,v[t],u,e.children,r,o,Y);"value"in v&&a(f,"value",null,v.value),(p=v.onVnodeBeforeMount)&&nr(p,r,e)}E(f,e,e.scopeId,c,r)}b&&zt(e,null,r,"beforeMount");const S=(!o||o&&!o.pendingBranch)&&_&&!_.persisted;S&&_.beforeEnter(f),s(f,t,n),((p=v&&v.onVnodeMounted)||S||b)&&en((()=>{p&&nr(p,r,e),S&&_.enter(f),b&&zt(e,null,r,"mounted")}),o)},E=(e,t,n,r,i)=>{if(n&&m(e,n),r)for(let s=0;s<r.length;s++)m(e,r[s]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;E(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},C=(e,t,n,r,i,s,o,a,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=a?Xn(e[u]):Jn(e[u]);y(null,l,t,n,r,i,s,o,a)}},x=(e,t,n,r,s,o,l)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:h,dirs:f}=t;c|=16&e.patchFlag;const p=e.props||i.EMPTY_OBJ,m=t.props||i.EMPTY_OBJ;let g;n&&sn(n,!1),(g=m.onVnodeBeforeUpdate)&&nr(g,n,t,e),f&&zt(t,e,n,"beforeUpdate"),n&&sn(n,!0);const v=s&&"foreignObject"!==t.type;if(h?A(e.dynamicChildren,h,u,n,r,v,o):l||B(e,t,u,null,n,r,v,o,!1),c>0){if(16&c)R(u,t,p,m,n,r,s);else if(2&c&&p.class!==m.class&&a(u,"class",null,m.class,s),4&c&&a(u,"style",p.style,m.style,s),8&c){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const o=i[t],l=p[o],c=m[o];c===l&&"value"!==o||a(u,o,l,c,s,e.children,n,r,Y)}}1&c&&e.children!==t.children&&d(u,t.children)}else l||null!=h||R(u,t,p,m,n,r,s);((g=m.onVnodeUpdated)||f)&&en((()=>{g&&nr(g,n,t,e),f&&zt(t,e,n,"updated")}),r)},A=(e,t,n,r,i,s,o)=>{for(let a=0;a<t.length;a++){const l=e[a],u=t[a],c=l.el&&(l.type===Tn||!Un(l,u)||70&l.shapeFlag)?f(l.el):n;y(l,u,c,null,r,i,s,o,!0)}},R=(e,t,n,r,s,o,l)=>{if(n!==r){for(const u in r){if((0,i.isReservedProp)(u))continue;const c=r[u],h=n[u];c!==h&&"value"!==u&&a(e,u,h,c,l,t.children,s,o,Y)}if(n!==i.EMPTY_OBJ)for(const u in n)(0,i.isReservedProp)(u)||u in r||a(e,u,n[u],null,l,t.children,s,o,Y);"value"in r&&a(e,"value",n.value,r.value)}},N=(e,t,n,r,i,o,a,l,c)=>{const h=t.el=e?e.el:u(""),d=t.anchor=e?e.anchor:u("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(s(h,n,r),s(d,n,r),C(t.children,n,d,i,o,a,l,c)):f>0&&64&f&&p&&e.dynamicChildren?(A(e.dynamicChildren,p,n,i,o,a,l),(null!=t.key||i&&t===i.subTree)&&on(e,t,!0)):B(e,t,n,d,i,o,a,l,c)},D=(e,t,n,r,i,s,o,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,o,l):L(t,n,r,i,s,o,l):M(e,t,l)},L=(e,t,n,r,i,s,o)=>{const a=e.component=pr(e,r,i);if(He(e)&&(a.ctx.renderer=J),kr(a),a.asyncDep){if(i&&i.registerDep(a,U),!e.el){const e=a.subTree=Hn(En);w(null,e,t,n)}}else U(a,e,t,n,i,s,o)},M=(e,t,n)=>{const r=t.component=e.component;if(se(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void V(r,t,n);r.next=t,O(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},U=(e,t,n,s,o,a,l)=>{const u=()=>{if(e.isMounted){let t,{next:n,bu:r,u:s,parent:u,vnode:c}=e,h=n;0,sn(e,!1),n?(n.el=c.el,V(e,n,l)):n=c,r&&(0,i.invokeArrayFns)(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&nr(t,u,n,c),sn(e,!0);const d=te(e);0;const p=e.subTree;e.subTree=d,y(p,d,f(p.el),Z(p),e,o,a),n.el=d.el,null===h&&ae(e,d.el),s&&en(s,o),(t=n.props&&n.props.onVnodeUpdated)&&en((()=>nr(t,u,n,c)),o)}else{let r;const{el:l,props:u}=t,{bm:c,m:h,parent:d}=e,f=je(t);if(sn(e,!1),c&&(0,i.invokeArrayFns)(c),!f&&(r=u&&u.onVnodeBeforeMount)&&nr(r,d,t),sn(e,!0),l&&ee){const n=()=>{e.subTree=te(e),ee(l,e.subTree,e,o,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=te(e);0,y(null,r,n,s,e,o,a),t.el=r.el}if(h&&en(h,o),!f&&(r=u&&u.onVnodeMounted)){const e=t;en((()=>nr(r,d,e)),o)}256&t.shapeFlag&&e.a&&en(e.a,o),e.isMounted=!0,t=n=s=null}},c=e.effect=new r.qq(u,(()=>P(e.update)),e.scope),h=e.update=c.run.bind(c);h.id=e.uid,sn(e,!0),h()},V=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,xt(e,t.props,i,n),jt(e,t.children,n),(0,r.Jd)(),F(void 0,e.update),(0,r.lk)()},B=(e,t,n,r,i,s,o,a,l=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,h=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void $(u,h,n,r,i,s,o,a,l);if(256&f)return void j(u,h,n,r,i,s,o,a,l)}8&p?(16&c&&Y(u,i,s),h!==u&&d(n,h)):16&c?16&p?$(u,h,n,r,i,s,o,a,l):Y(u,i,s,!0):(8&c&&d(n,""),16&p&&C(h,n,r,i,s,o,a,l))},j=(e,t,n,r,s,o,a,l,u)=>{e=e||i.EMPTY_ARR,t=t||i.EMPTY_ARR;const c=e.length,h=t.length,d=Math.min(c,h);let f;for(f=0;f<d;f++){const r=t[f]=u?Xn(t[f]):Jn(t[f]);y(e[f],r,n,null,s,o,a,l,u)}c>h?Y(e,s,o,!0,!1,d):C(t,n,r,s,o,a,l,u,d)},$=(e,t,n,r,s,o,a,l,u)=>{let c=0;const h=t.length;let d=e.length-1,f=h-1;while(c<=d&&c<=f){const r=e[c],i=t[c]=u?Xn(t[c]):Jn(t[c]);if(!Un(r,i))break;y(r,i,n,null,s,o,a,l,u),c++}while(c<=d&&c<=f){const r=e[d],i=t[f]=u?Xn(t[f]):Jn(t[f]);if(!Un(r,i))break;y(r,i,n,null,s,o,a,l,u),d--,f--}if(c>d){if(c<=f){const e=f+1,i=e<h?t[e].el:r;while(c<=f)y(null,t[c]=u?Xn(t[c]):Jn(t[c]),n,i,s,o,a,l,u),c++}}else if(c>f)while(c<=d)H(e[c],s,o,!0),c++;else{const p=c,m=c,g=new Map;for(c=m;c<=f;c++){const e=t[c]=u?Xn(t[c]):Jn(t[c]);null!=e.key&&g.set(e.key,c)}let v,_=0;const w=f-m+1;let b=!1,S=0;const k=new Array(w);for(c=0;c<w;c++)k[c]=0;for(c=p;c<=d;c++){const r=e[c];if(_>=w){H(r,s,o,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(v=m;v<=f;v++)if(0===k[v-m]&&Un(r,t[v])){i=v;break}void 0===i?H(r,s,o,!0):(k[i-m]=c+1,i>=S?S=i:b=!0,y(r,t[i],n,null,s,o,a,l,u),_++)}const T=b?an(k):i.EMPTY_ARR;for(v=T.length-1,c=w-1;c>=0;c--){const e=m+c,i=t[e],d=e+1<h?t[e+1].el:r;0===k[c]?y(null,i,n,d,s,o,a,l,u):b&&(v<0||c!==T[v]?z(i,n,d,2):v--)}}},z=(e,t,n,r,i=null)=>{const{el:o,type:a,transition:l,children:u,shapeFlag:c}=e;if(6&c)return void z(e.component.subTree,t,n,r);if(128&c)return void e.suspense.move(t,n,r);if(64&c)return void a.move(e,t,n,J);if(a===Tn){s(o,t,n);for(let e=0;e<u.length;e++)z(u[e],t,n,r);return void s(e.anchor,t,n)}if(a===Cn)return void S(e,t,n);const h=2!==r&&1&c&&l;if(h)if(0===r)l.beforeEnter(o),s(o,t,n),en((()=>l.enter(o)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=l,a=()=>s(o,t,n),u=()=>{e(o,(()=>{a(),i&&i()}))};r?r(o,a,u):u()}else s(o,t,n)},H=(e,t,n,r=!1,i=!1)=>{const{type:s,props:o,ref:a,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:h,dirs:d}=e;if(null!=a&&Gt(a,null,n,e,!0),256&c)return void t.ctx.deactivate(e);const f=1&c&&d,p=!je(e);let m;if(p&&(m=o&&o.onVnodeBeforeUnmount)&&nr(m,t,e),6&c)G(e.component,n,r);else{if(128&c)return void e.suspense.unmount(n,r);f&&zt(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,i,J,r):u&&(s!==Tn||h>0&&64&h)?Y(u,t,n,!1,!0):(s===Tn&&384&h||!i&&16&c)&&Y(l,t,n),r&&W(e)}(p&&(m=o&&o.onVnodeUnmounted)||f)&&en((()=>{m&&nr(m,t,e),f&&zt(e,null,t,"unmounted")}),n)},W=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===Tn)return void K(n,r);if(t===Cn)return void k(e);const s=()=>{o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,o=()=>t(n,s);r?r(e.el,s,o):o()}else s()},K=(e,t)=>{let n;while(e!==t)n=p(e),o(e),e=n;o(t)},G=(e,t,n)=>{const{bum:r,scope:s,update:o,subTree:a,um:l}=e;r&&(0,i.invokeArrayFns)(r),s.stop(),o&&(o.active=!1,H(a,e,t,n)),l&&en(l,t),en((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Y=(e,t,n,r=!1,i=!1,s=0)=>{for(let o=s;o<e.length;o++)H(e[o],t,n,r,i)},Z=e=>6&e.shapeFlag?Z(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),Q=(e,t,n)=>{null==e?t._vnode&&H(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),q(),t._vnode=e},J={p:y,um:H,m:z,r:W,mt:L,mc:C,pc:B,pbc:A,n:Z,o:e};let X,ee;return t&&([X,ee]=t(J)),{render:Q,hydrate:X,createApp:Kt(Q,X)}}function sn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function on(e,t,n=!1){const r=e.children,s=t.children;if((0,i.isArray)(r)&&(0,i.isArray)(s))for(let i=0;i<r.length;i++){const e=r[i];let t=s[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=s[i]=Xn(s[i]),t.el=e.el),n||on(e,t))}}function an(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}s=0,o=n.length-1;while(s<o)a=s+o>>1,e[n[a]]<l?s=a+1:o=a;l<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}s=n.length,o=n[s-1];while(s-- >0)n[s]=o,o=t[o];return n}const ln=e=>e.__isTeleport,un=e=>e&&(e.disabled||""===e.disabled),cn=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,hn=(e,t)=>{const n=e&&e.to;if((0,i.isString)(n)){if(t){const e=t(n);return e}return null}return n},dn={__isTeleport:!0,process(e,t,n,r,i,s,o,a,l,u){const{mc:c,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:m,createComment:g}}=u,v=un(t.props);let{shapeFlag:y,children:_,dynamicChildren:w}=t;if(null==e){const e=t.el=m(""),u=t.anchor=m("");f(e,n,r),f(u,n,r);const h=t.target=hn(t.props,p),d=t.targetAnchor=m("");h&&(f(d,h),o=o||cn(h));const g=(e,t)=>{16&y&&c(_,e,t,i,s,o,a,l)};v?g(n,u):h&&g(h,d)}else{t.el=e.el;const r=t.anchor=e.anchor,c=t.target=e.target,f=t.targetAnchor=e.targetAnchor,m=un(e.props),g=m?n:c,y=m?r:f;if(o=o||cn(c),w?(d(e.dynamicChildren,w,g,i,s,o,a),on(e,t,!0)):l||h(e,t,g,y,i,s,o,a,!1),v)m||fn(t,n,r,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=hn(t.props,p);e&&fn(t,e,null,u,0)}else m&&fn(t,c,f,u,1)}},remove(e,t,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:h,props:d}=e;if(h&&s(c),(o||!un(d))&&(s(u),16&a))for(let f=0;f<l.length;f++){const e=l[f];i(e,t,n,!0,!!e.dynamicChildren)}},move:fn,hydrate:pn};function fn(e,t,n,{o:{insert:r},m:i},s=2){0===s&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,h=2===s;if(h&&r(o,t,n),(!h||un(c))&&16&l)for(let d=0;d<u.length;d++)i(u[d],t,n,2);h&&r(a,t,n)}function pn(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=t.target=hn(t.props,l);if(c){const l=c._lpa||c.firstChild;16&t.shapeFlag&&(un(t.props)?(t.anchor=u(o(e),t,a(e),n,r,i,s),t.targetAnchor=l):(t.anchor=o(e),t.targetAnchor=u(l,t,c,n,r,i,s)),c._lpa=t.targetAnchor&&o(t.targetAnchor))}return t.anchor&&o(t.anchor)}const mn=dn,gn="components",vn="directives";function yn(e,t){return Sn(gn,e,!0,t)||e}const _n=Symbol();function wn(e){return(0,i.isString)(e)?Sn(gn,e,!1)||e:e||_n}function bn(e){return Sn(vn,e)}function Sn(e,t,n=!0,r=!1){const s=G||mr;if(s){const n=s.type;if(e===gn){const e=Dr(n);if(e&&(e===t||e===(0,i.camelize)(t)||e===(0,i.capitalize)((0,i.camelize)(t))))return n}const o=kn(s[e]||n[e],t)||kn(s.appContext[e],t);return!o&&r?n:o}}function kn(e,t){return e&&(e[t]||e[(0,i.camelize)(t)]||e[(0,i.capitalize)((0,i.camelize)(t))])}const Tn=Symbol(void 0),In=Symbol(void 0),En=Symbol(void 0),Cn=Symbol(void 0),xn=[];let An=null;function Rn(e=!1){xn.push(An=e?null:[])}function Pn(){xn.pop(),An=xn[xn.length-1]||null}let Nn,On=1;function Dn(e){On+=e}function Ln(e){return e.dynamicChildren=On>0?An||i.EMPTY_ARR:null,Pn(),On>0&&An&&An.push(e),e}function Mn(e,t,n,r,i,s){return Ln(zn(e,t,n,r,i,s,!0))}function Fn(e,t,n,r,i){return Ln(Hn(e,t,n,r,i,!0))}function qn(e){return!!e&&!0===e.__v_isVNode}function Un(e,t){return e.type===t.type&&e.key===t.key}function Vn(e){Nn=e}const Bn="__vInternal",jn=({key:e})=>null!=e?e:null,$n=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,i.isString)(e)||(0,r.dq)(e)||(0,i.isFunction)(e)?{i:G,r:e,k:t,f:!!n}:e:null;function zn(e,t=null,n=null,r=0,s=null,o=(e===Tn?0:1),a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&jn(t),ref:t&&$n(t),scopeId:Y,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return l?(er(u,n),128&o&&e.normalize(u)):n&&(u.shapeFlag|=(0,i.isString)(n)?8:16),On>0&&!a&&An&&(u.patchFlag>0||6&o)&&32!==u.patchFlag&&An.push(u),u}const Hn=Wn;function Wn(e,t=null,n=null,s=0,o=null,a=!1){if(e&&e!==_n||(e=En),qn(e)){const r=Gn(e,t,!0);return n&&er(r,n),r}if(Mr(e)&&(e=e.__vccOpts),t){t=Kn(t);let{class:e,style:n}=t;e&&!(0,i.isString)(e)&&(t.class=(0,i.normalizeClass)(e)),(0,i.isObject)(n)&&((0,r.X3)(n)&&!(0,i.isArray)(n)&&(n=(0,i.extend)({},n)),t.style=(0,i.normalizeStyle)(n))}const l=(0,i.isString)(e)?1:le(e)?128:ln(e)?64:(0,i.isObject)(e)?4:(0,i.isFunction)(e)?2:0;return zn(e,t,n,s,o,l,a,!0)}function Kn(e){return e?(0,r.X3)(e)||Bn in e?(0,i.extend)({},e):e:null}function Gn(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:a}=e,l=t?tr(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&jn(l),ref:t&&t.ref?n&&s?(0,i.isArray)(s)?s.concat($n(t)):[s,$n(t)]:$n(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Tn?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gn(e.ssContent),ssFallback:e.ssFallback&&Gn(e.ssFallback),el:e.el,anchor:e.anchor};return u}function Yn(e=" ",t=0){return Hn(In,null,e,t)}function Zn(e,t){const n=Hn(Cn,null,e);return n.staticCount=t,n}function Qn(e="",t=!1){return t?(Rn(),Fn(En,null,e)):Hn(En,null,e)}function Jn(e){return null==e||"boolean"===typeof e?Hn(En):(0,i.isArray)(e)?Hn(Tn,null,e.slice()):"object"===typeof e?Xn(e):Hn(In,null,String(e))}function Xn(e){return null===e.el||e.memo?e:Gn(e)}function er(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,i.isArray)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),er(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Bn in t?3===r&&G&&(1===G.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=G}}else(0,i.isFunction)(t)?(t={default:t,_ctx:G},n=32):(t=String(t),64&r?(n=16,t=[Yn(t)]):n=8);e.children=t,e.shapeFlag|=n}function tr(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,i.normalizeClass)([t.class,r.class]));else if("style"===e)t.style=(0,i.normalizeStyle)([t.style,r.style]);else if((0,i.isOn)(e)){const n=t[e],s=r[e];!s||n===s||(0,i.isArray)(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=r[e])}return t}function nr(e,t,n,r=null){f(e,t,7,[n,r])}function rr(e,t,n,r){let s;const o=n&&n[r];if((0,i.isArray)(e)||(0,i.isString)(e)){s=new Array(e.length);for(let n=0,r=e.length;n<r;n++)s[n]=t(e[n],n,void 0,o&&o[n])}else if("number"===typeof e){0,s=new Array(e);for(let n=0;n<e;n++)s[n]=t(n+1,n,void 0,o&&o[n])}else if((0,i.isObject)(e))if(e[Symbol.iterator])s=Array.from(e,((e,n)=>t(e,n,void 0,o&&o[n])));else{const n=Object.keys(e);s=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];s[r]=t(e[i],i,r,o&&o[r])}}else s=[];return n&&(n[r]=s),s}function ir(e,t){for(let n=0;n<t.length;n++){const r=t[n];if((0,i.isArray)(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.fn)}return e}function sr(e,t,n={},r,i){if(G.isCE||G.parent&&je(G.parent)&&G.parent.isCE)return Hn("slot","default"===t?null:{name:t},r&&r());let s=e[t];s&&s._c&&(s._d=!1),Rn();const o=s&&or(s(n)),a=Fn(Tn,{key:n.key||`_${t}`},o||(r?r():[]),o&&1===e._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function or(e){return e.some((e=>!qn(e)||e.type!==En&&!(e.type===Tn&&!or(e.children))))?e:null}function ar(e){const t={};for(const n in e)t[(0,i.toHandlerKey)(n)]=e[n];return t}const lr=e=>e?_r(e)?Pr(e)||e.proxy:lr(e.parent):null,ur=(0,i.extend)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>lr(e.parent),$root:e=>lr(e.root),$emit:e=>e.emit,$options:e=>yt(e),$forceUpdate:e=>()=>P(e.update),$nextTick:e=>A.bind(e.proxy),$watch:e=>xe.bind(e)}),cr={get({_:e},t){const{ctx:n,setupState:s,data:o,props:a,accessCache:l,type:u,appContext:c}=e;let h;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(s!==i.EMPTY_OBJ&&(0,i.hasOwn)(s,t))return l[t]=1,s[t];if(o!==i.EMPTY_OBJ&&(0,i.hasOwn)(o,t))return l[t]=2,o[t];if((h=e.propsOptions[0])&&(0,i.hasOwn)(h,t))return l[t]=3,a[t];if(n!==i.EMPTY_OBJ&&(0,i.hasOwn)(n,t))return l[t]=4,n[t];ft&&(l[t]=0)}}const d=ur[t];let f,p;return d?("$attrs"===t&&(0,r.j)(e,"get",t),d(e)):(f=u.__cssModules)&&(f=f[t])?f:n!==i.EMPTY_OBJ&&(0,i.hasOwn)(n,t)?(l[t]=4,n[t]):(p=c.config.globalProperties,(0,i.hasOwn)(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return s!==i.EMPTY_OBJ&&(0,i.hasOwn)(s,t)?(s[t]=n,!0):r!==i.EMPTY_OBJ&&(0,i.hasOwn)(r,t)?(r[t]=n,!0):!(0,i.hasOwn)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},a){let l;return!!n[a]||e!==i.EMPTY_OBJ&&(0,i.hasOwn)(e,a)||t!==i.EMPTY_OBJ&&(0,i.hasOwn)(t,a)||(l=o[0])&&(0,i.hasOwn)(l,a)||(0,i.hasOwn)(r,a)||(0,i.hasOwn)(ur,a)||(0,i.hasOwn)(s.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,i.hasOwn)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};const hr=(0,i.extend)({},cr,{get(e,t){if(t!==Symbol.unscopables)return cr.get(e,t,e)},has(e,t){const n="_"!==t[0]&&!(0,i.isGloballyWhitelisted)(t);return n}});const dr=Ht();let fr=0;function pr(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||dr,a={uid:fr++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pt(s,o),emitsOptions:W(s,o),emit:null,emitted:null,propsDefaults:i.EMPTY_OBJ,inheritAttrs:s.inheritAttrs,ctx:i.EMPTY_OBJ,data:i.EMPTY_OBJ,props:i.EMPTY_OBJ,attrs:i.EMPTY_OBJ,slots:i.EMPTY_OBJ,refs:i.EMPTY_OBJ,setupState:i.EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=H.bind(null,a),e.ce&&e.ce(a),a}let mr=null;const gr=()=>mr||G,vr=e=>{mr=e,e.scope.on()},yr=()=>{mr&&mr.scope.off(),mr=null};function _r(e){return 4&e.vnode.shapeFlag}let wr,br,Sr=!1;function kr(e,t=!1){Sr=t;const{props:n,children:r}=e.vnode,i=_r(e);Ct(e,n,i,t),Bt(e,r);const s=i?Tr(e,t):void 0;return Sr=!1,s}function Tr(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,r.Xl)(new Proxy(e.ctx,cr));const{setup:s}=n;if(s){const n=e.setupContext=s.length>1?Rr(e):null;vr(e),(0,r.Jd)();const o=d(s,e,0,[e.props,n]);if((0,r.lk)(),yr(),(0,i.isPromise)(o)){if(o.then(yr,yr),t)return o.then((n=>{Ir(e,n,t)})).catch((t=>{p(t,e,0)}));e.asyncDep=o}else Ir(e,o,t)}else xr(e,t)}function Ir(e,t,n){(0,i.isFunction)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.isObject)(t)&&(e.setupState=(0,r.WL)(t)),xr(e,n)}function Er(e){wr=e,br=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,hr))}}const Cr=()=>!wr;function xr(e,t,n){const s=e.type;if(!e.render){if(!t&&wr&&!s.render){const t=s.template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:o,compilerOptions:a}=s,l=(0,i.extend)((0,i.extend)({isCustomElement:n,delimiters:o},r),a);s.render=wr(t,l)}}e.render=s.render||i.NOOP,br&&br(e)}vr(e),(0,r.Jd)(),pt(e),(0,r.lk)(),yr()}function Ar(e){return new Proxy(e.attrs,{get(t,n){return(0,r.j)(e,"get","$attrs"),t[n]}})}function Rr(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=Ar(e))},slots:e.slots,emit:e.emit,expose:t}}function Pr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in ur?ur[n](e):void 0}}))}const Nr=/(?:^|[-_])(\w)/g,Or=e=>e.replace(Nr,(e=>e.toUpperCase())).replace(/[-_]/g,"");function Dr(e){return(0,i.isFunction)(e)&&e.displayName||e.name}function Lr(e,t,n=!1){let r=Dr(t);if(!r&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(r=e[1])}if(!r&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};r=n(e.components||e.parent.type.components)||n(e.appContext.components)}return r?Or(r):n?"App":"Anonymous"}function Mr(e){return(0,i.isFunction)(e)&&"__vccOpts"in e}const Fr=(e,t)=>(0,r.Fl)(e,t,Sr);function qr(){return null}function Ur(){return null}function Vr(e){0}function Br(e,t){return null}function jr(){return zr().slots}function $r(){return zr().attrs}function zr(){const e=gr();return e.setupContext||(e.setupContext=Rr(e))}function Hr(e,t){const n=(0,i.isArray)(e)?e.reduce(((e,t)=>(e[t]={},e)),{}):e;for(const r in t){const e=n[r];e?(0,i.isArray)(e)||(0,i.isFunction)(e)?n[r]={type:e,default:t[r]}:e.default=t[r]:null===e&&(n[r]={default:t[r]})}return n}function Wr(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function Kr(e){const t=gr();let n=e();return yr(),(0,i.isPromise)(n)&&(n=n.catch((e=>{throw vr(t),e}))),[n,()=>vr(t)]}function Gr(e,t,n){const r=arguments.length;return 2===r?(0,i.isObject)(t)&&!(0,i.isArray)(t)?qn(t)?Hn(e,null,[t]):Hn(e,t):Hn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&qn(n)&&(n=[n]),Hn(e,t,n))}const Yr=Symbol(""),Zr=()=>{{const e=be(Yr);return e||o("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function Qr(){return void 0}function Jr(e,t,n,r){const i=n[r];if(i&&Xr(i,e))return i;const s=t();return s.memo=e.slice(),n[r]=s}function Xr(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return On>0&&An&&An.push(e),!0}const ei="3.2.33",ti={createComponentInstance:pr,setupComponent:kr,renderComponentRoot:te,setCurrentRenderingInstance:Z,isVNode:qn,normalizeVNode:Jn},ni=ti,ri=null,ii=null},1957:(e,t,n)=>{"use strict";n.d(t,{$d:()=>i.$d,$y:()=>i.$y,Ah:()=>F,B:()=>i.B,BK:()=>i.BK,Bj:()=>i.Bj,Bz:()=>i.Bz,C3:()=>i.C3,C_:()=>i.C_,Cn:()=>i.Cn,D2:()=>Me,EB:()=>i.EB,Eo:()=>i.Eo,F4:()=>i.F4,F8:()=>Fe,FN:()=>i.FN,Fl:()=>i.Fl,G:()=>i.G,G2:()=>Te,HX:()=>i.HX,HY:()=>i.HY,Ho:()=>i.Ho,IU:()=>i.IU,JJ:()=>i.JJ,Jd:()=>i.Jd,KU:()=>i.KU,Ko:()=>i.Ko,LL:()=>i.LL,MW:()=>M,MX:()=>i.MX,Mr:()=>i.Mr,Nd:()=>Qe,Nv:()=>i.Nv,OT:()=>i.OT,Ob:()=>i.Ob,P$:()=>i.P$,PG:()=>i.PG,Q2:()=>i.Q2,Q6:()=>i.Q6,RC:()=>i.RC,Rh:()=>i.Rh,Rr:()=>i.Rr,S3:()=>i.S3,SK:()=>i.Ah,SU:()=>i.SU,U2:()=>i.U2,Uc:()=>i.Uc,Uk:()=>i.Uk,Um:()=>i.Um,Us:()=>i.Us,Vh:()=>i.Vh,W3:()=>de,WI:()=>i.WI,WL:()=>i.WL,WY:()=>i.WY,Wm:()=>i.Wm,X3:()=>i.X3,XI:()=>i.XI,Xl:()=>i.Xl,Xn:()=>i.Xn,Y1:()=>i.Y1,Y3:()=>i.Y3,Y8:()=>i.Y8,YP:()=>i.YP,YS:()=>i.YS,YZ:()=>Ae,Yq:()=>i.Yq,ZB:()=>We,ZK:()=>i.ZK,ZM:()=>i.ZM,Zq:()=>i.Zq,_:()=>i._,_A:()=>i._A,a2:()=>U,aZ:()=>i.aZ,b9:()=>i.b9,bM:()=>Ie,bT:()=>i.bT,bv:()=>i.bv,cE:()=>i.cE,d1:()=>i.d1,dD:()=>i.dD,dG:()=>i.dG,dl:()=>i.dl,dq:()=>i.dq,e8:()=>Se,ec:()=>i.ec,eq:()=>i.eq,f3:()=>i.f3,fb:()=>V,h:()=>i.h,hR:()=>i.hR,i8:()=>i.i8,iD:()=>i.iD,iH:()=>i.iH,iM:()=>De,ic:()=>i.ic,j4:()=>i.j4,j5:()=>i.j5,kC:()=>i.kC,kq:()=>i.kq,l1:()=>i.l1,lA:()=>i.lA,lR:()=>i.lR,m0:()=>i.m0,mW:()=>i.mW,mv:()=>i.mv,mx:()=>i.mx,n4:()=>i.n4,nK:()=>i.nK,nQ:()=>i.nQ,nZ:()=>i.nZ,nr:()=>be,oR:()=>i.oR,of:()=>i.of,p1:()=>i.p1,qG:()=>i.qG,qZ:()=>i.qZ,qb:()=>i.qb,qj:()=>i.qj,qq:()=>i.qq,ri:()=>Ke,ry:()=>i.ry,sT:()=>i.sT,sY:()=>He,se:()=>i.se,sj:()=>B,sv:()=>i.sv,uE:()=>i.uE,uT:()=>W,u_:()=>i.u_,up:()=>i.up,vl:()=>i.vl,vr:()=>Ge,vs:()=>i.vs,w5:()=>i.w5,wF:()=>i.wF,wg:()=>i.wg,wy:()=>i.wy,xv:()=>i.xv,yT:()=>i.yT,yX:()=>i.yX,yb:()=>i.MW,zw:()=>i.zw});var r=n(6970),i=n(9835),s=n(499);const o="http://www.w3.org/2000/svg",a="undefined"!==typeof document?document:null,l=a&&a.createElement("template"),u={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?a.createElementNS(o,e):a.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>a.createTextNode(e),createComment:e=>a.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>a.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===s||!(i=i.nextSibling))break}else{l.innerHTML=r?`<svg>${e}</svg>`:e;const i=l.content;if(r){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function c(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function h(e,t,n){const i=e.style,s=(0,r.isString)(n);if(n&&!s){for(const e in n)f(i,e,n[e]);if(t&&!(0,r.isString)(t))for(const e in t)null==n[e]&&f(i,e,"")}else{const r=i.display;s?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const d=/\s*!important$/;function f(e,t,n){if((0,r.isArray)(n))n.forEach((n=>f(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=g(e,t);d.test(n)?e.setProperty((0,r.hyphenate)(i),n.replace(d,""),"important"):e[i]=n}}const p=["Webkit","Moz","ms"],m={};function g(e,t){const n=m[t];if(n)return n;let i=(0,r.camelize)(t);if("filter"!==i&&i in e)return m[t]=i;i=(0,r.capitalize)(i);for(let r=0;r<p.length;r++){const n=p[r]+i;if(n in e)return m[t]=n}return t}const v="http://www.w3.org/1999/xlink";function y(e,t,n,i,s){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(v,t.slice(6,t.length)):e.setAttributeNS(v,t,n);else{const i=(0,r.isSpecialBooleanAttr)(t);null==n||i&&!(0,r.includeBooleanAttr)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function _(e,t,n,i,s,o,a){if("innerHTML"===t||"textContent"===t)return i&&a(i,s,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=(0,r.includeBooleanAttr)(n):null==n&&"string"===i?(n="",l=!0):"number"===i&&(n=0,l=!0)}try{e[t]=n}catch(u){0}l&&e.removeAttribute(t)}const[w,b]=(()=>{let e=Date.now,t=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let S=0;const k=Promise.resolve(),T=()=>{S=0},I=()=>S||(k.then(T),S=w());function E(e,t,n,r){e.addEventListener(t,n,r)}function C(e,t,n,r){e.removeEventListener(t,n,r)}function x(e,t,n,r,i=null){const s=e._vei||(e._vei={}),o=s[t];if(r&&o)o.value=r;else{const[n,a]=R(t);if(r){const o=s[t]=P(r,i);E(e,n,o,a)}else o&&(C(e,n,o,a),s[t]=void 0)}}const A=/(?:Once|Passive|Capture)$/;function R(e){let t;if(A.test(e)){let n;t={};while(n=e.match(A))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,r.hyphenate)(e.slice(2)),t]}function P(e,t){const n=e=>{const r=e.timeStamp||w();(b||r>=n.attached-1)&&(0,i.$d)(N(e,n.value),t,5,[e])};return n.value=e,n.attached=I(),n}function N(e,t){if((0,r.isArray)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const O=/^on[a-z]/,D=(e,t,n,i,s=!1,o,a,l,u)=>{"class"===t?c(e,i,s):"style"===t?h(e,n,i):(0,r.isOn)(t)?(0,r.isModelListener)(t)||x(e,t,n,i,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):L(e,t,i,s))?_(e,t,i,o,a,l,u):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),y(e,t,i,s))};function L(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&O.test(t)&&(0,r.isFunction)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!O.test(t)||!(0,r.isString)(n))&&t in e))))}function M(e,t){const n=(0,i.aZ)(e);class r extends U{constructor(e){super(n,e,t)}}return r.def=n,r}const F=e=>M(e,We),q="undefined"!==typeof HTMLElement?HTMLElement:class{};class U extends q{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,(0,i.Y3)((()=>{this._connected||(He(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})).observe(this,{attributes:!0});const e=e=>{const{props:t,styles:n}=e,i=!(0,r.isArray)(t),s=t?i?Object.keys(t):t:[];let o;if(i)for(const a in this._props){const e=t[a];(e===Number||e&&e.type===Number)&&(this._props[a]=(0,r.toNumber)(this._props[a]),(o||(o=Object.create(null)))[a]=!0)}this._numberProps=o;for(const r of Object.keys(this))"_"!==r[0]&&this._setProp(r,this[r],!0,!1);for(const a of s.map(r.camelize))Object.defineProperty(this,a,{get(){return this._getProp(a)},set(e){this._setProp(a,e)}});this._applyStyles(n),this._update()},t=this._def.__asyncLoader;t?t().then(e):e(this._def)}_setAttr(e){let t=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(t=(0,r.toNumber)(t)),this._setProp((0,r.camelize)(e),t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,i=!0){t!==this._props[e]&&(this._props[e]=t,i&&this._instance&&this._update(),n&&(!0===t?this.setAttribute((0,r.hyphenate)(e),""):"string"===typeof t||"number"===typeof t?this.setAttribute((0,r.hyphenate)(e),t+""):t||this.removeAttribute((0,r.hyphenate)(e))))}_update(){He(this._createVNode(),this.shadowRoot)}_createVNode(){const e=(0,i.Wm)(this._def,(0,r.extend)({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0,e.emit=(e,...t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};let t=this;while(t=t&&(t.parentNode||t.host))if(t instanceof U){e.parent=t._instance;break}}),e}_applyStyles(e){e&&e.forEach((e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}))}}function V(e="$style"){{const t=(0,i.FN)();if(!t)return r.EMPTY_OBJ;const n=t.type.__cssModules;if(!n)return r.EMPTY_OBJ;const s=n[e];return s||r.EMPTY_OBJ}}function B(e){const t=(0,i.FN)();if(!t)return;const n=()=>j(t.subTree,e(t.proxy));(0,i.Rh)(n),(0,i.bv)((()=>{const e=new MutationObserver(n);e.observe(t.subTree.el.parentNode,{childList:!0}),(0,i.Ah)((()=>e.disconnect()))}))}function j(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{j(n.activeBranch,t)}))}while(e.component)e=e.component.subTree;if(1&e.shapeFlag&&e.el)$(e.el,t);else if(e.type===i.HY)e.children.forEach((e=>j(e,t)));else if(e.type===i.qG){let{el:n,anchor:r}=e;while(n){if($(n,t),n===r)break;n=n.nextSibling}}}function $(e,t){if(1===e.nodeType){const n=e.style;for(const e in t)n.setProperty(`--${e}`,t[e])}}const z="transition",H="animation",W=(e,{slots:t})=>(0,i.h)(i.P$,Q(e),t);W.displayName="Transition";const K={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},G=W.props=(0,r.extend)({},i.P$.props,K),Y=(e,t=[])=>{(0,r.isArray)(e)?e.forEach((e=>e(...t))):e&&e(...t)},Z=e=>!!e&&((0,r.isArray)(e)?e.some((e=>e.length>1)):e.length>1);function Q(e){const t={};for(const r in e)r in K||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:c=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=J(s),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:_,onEnterCancelled:w,onLeave:b,onLeaveCancelled:S,onBeforeAppear:k=y,onAppear:T=_,onAppearCancelled:I=w}=t,E=(e,t,n)=>{te(e,t?h:l),te(e,t?c:a),n&&n()},C=(e,t)=>{te(e,p),te(e,f),t&&t()},x=e=>(t,n)=>{const r=e?T:_,s=()=>E(t,e,n);Y(r,[t,s]),ne((()=>{te(t,e?u:o),ee(t,e?h:l),Z(r)||ie(t,i,g,s)}))};return(0,r.extend)(t,{onBeforeEnter(e){Y(y,[e]),ee(e,o),ee(e,a)},onBeforeAppear(e){Y(k,[e]),ee(e,u),ee(e,c)},onEnter:x(!1),onAppear:x(!0),onLeave(e,t){const n=()=>C(e,t);ee(e,d),le(),ee(e,f),ne((()=>{te(e,d),ee(e,p),Z(b)||ie(e,i,v,n)})),Y(b,[e,n])},onEnterCancelled(e){E(e,!1),Y(w,[e])},onAppearCancelled(e){E(e,!0),Y(I,[e])},onLeaveCancelled(e){C(e),Y(S,[e])}})}function J(e){if(null==e)return null;if((0,r.isObject)(e))return[X(e.enter),X(e.leave)];{const t=X(e);return[t,t]}}function X(e){const t=(0,r.toNumber)(e);return t}function ee(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function te(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function ne(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let re=0;function ie(e,t,n,r){const i=e._endId=++re,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=se(e,t);if(!o)return r();const u=o+"end";let c=0;const h=()=>{e.removeEventListener(u,d),s()},d=t=>{t.target===e&&++c>=l&&h()};setTimeout((()=>{c<l&&h()}),a+1),e.addEventListener(u,d)}function se(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(z+"Delay"),s=r(z+"Duration"),o=oe(i,s),a=r(H+"Delay"),l=r(H+"Duration"),u=oe(a,l);let c=null,h=0,d=0;t===z?o>0&&(c=z,h=o,d=s.length):t===H?u>0&&(c=H,h=u,d=l.length):(h=Math.max(o,u),c=h>0?o>u?z:H:null,d=c?c===z?s.length:l.length:0);const f=c===z&&/\b(transform|all)(,|$)/.test(n[z+"Property"]);return{type:c,timeout:h,propCount:d,hasTransform:f}}function oe(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>ae(t)+ae(e[n]))))}function ae(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function le(){return document.body.offsetHeight}const ue=new WeakMap,ce=new WeakMap,he={name:"TransitionGroup",props:(0,r.extend)({},G,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,i.FN)(),r=(0,i.Y8)();let o,a;return(0,i.ic)((()=>{if(!o.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!ge(o[0].el,n.vnode.el,t))return;o.forEach(fe),o.forEach(pe);const r=o.filter(me);le(),r.forEach((e=>{const n=e.el,r=n.style;ee(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n._moveCb=null,te(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const l=(0,s.IU)(e),u=Q(l);let c=l.tag||i.HY;o=a,a=t.default?(0,i.Q6)(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&(0,i.nK)(t,(0,i.U2)(t,u,r,n))}if(o)for(let e=0;e<o.length;e++){const t=o[e];(0,i.nK)(t,(0,i.U2)(t,u,r,n)),ue.set(t,t.el.getBoundingClientRect())}return(0,i.Wm)(c,null,a)}}},de=he;function fe(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function pe(e){ce.set(e,e.el.getBoundingClientRect())}function me(e){const t=ue.get(e),n=ce.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function ge(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(r);const{hasTransform:s}=se(r);return i.removeChild(r),s}const ve=e=>{const t=e.props["onUpdate:modelValue"];return(0,r.isArray)(t)?e=>(0,r.invokeArrayFns)(t,e):t};function ye(e){e.target.composing=!0}function _e(e){const t=e.target;t.composing&&(t.composing=!1,we(t,"input"))}function we(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const be={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e._assign=ve(s);const o=i||s.props&&"number"===s.props.type;E(e,t?"change":"input",(t=>{if(t.target.composing)return;let i=e.value;n?i=i.trim():o&&(i=(0,r.toNumber)(i)),e._assign(i)})),n&&E(e,"change",(()=>{e.value=e.value.trim()})),t||(E(e,"compositionstart",ye),E(e,"compositionend",_e),E(e,"change",_e))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},o){if(e._assign=ve(o),e.composing)return;if(document.activeElement===e){if(n)return;if(i&&e.value.trim()===t)return;if((s||"number"===e.type)&&(0,r.toNumber)(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},Se={deep:!0,created(e,t,n){e._assign=ve(n),E(e,"change",(()=>{const t=e._modelValue,n=Ce(e),i=e.checked,s=e._assign;if((0,r.isArray)(t)){const e=(0,r.looseIndexOf)(t,n),o=-1!==e;if(i&&!o)s(t.concat(n));else if(!i&&o){const n=[...t];n.splice(e,1),s(n)}}else if((0,r.isSet)(t)){const e=new Set(t);i?e.add(n):e.delete(n),s(e)}else s(xe(e,i))}))},mounted:ke,beforeUpdate(e,t,n){e._assign=ve(n),ke(e,t,n)}};function ke(e,{value:t,oldValue:n},i){e._modelValue=t,(0,r.isArray)(t)?e.checked=(0,r.looseIndexOf)(t,i.props.value)>-1:(0,r.isSet)(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=(0,r.looseEqual)(t,xe(e,!0)))}const Te={created(e,{value:t},n){e.checked=(0,r.looseEqual)(t,n.props.value),e._assign=ve(n),E(e,"change",(()=>{e._assign(Ce(e))}))},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=ve(i),t!==n&&(e.checked=(0,r.looseEqual)(t,i.props.value))}},Ie={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=(0,r.isSet)(t);E(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?(0,r.toNumber)(Ce(e)):Ce(e)));e._assign(e.multiple?s?new Set(t):t:t[0])})),e._assign=ve(i)},mounted(e,{value:t}){Ee(e,t)},beforeUpdate(e,t,n){e._assign=ve(n)},updated(e,{value:t}){Ee(e,t)}};function Ee(e,t){const n=e.multiple;if(!n||(0,r.isArray)(t)||(0,r.isSet)(t)){for(let i=0,s=e.options.length;i<s;i++){const s=e.options[i],o=Ce(s);if(n)(0,r.isArray)(t)?s.selected=(0,r.looseIndexOf)(t,o)>-1:s.selected=t.has(o);else if((0,r.looseEqual)(Ce(s),t))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Ce(e){return"_value"in e?e._value:e.value}function xe(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Ae={created(e,t,n){Re(e,t,n,null,"created")},mounted(e,t,n){Re(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Re(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Re(e,t,n,r,"updated")}};function Re(e,t,n,r,i){let s;switch(e.tagName){case"SELECT":s=Ie;break;case"TEXTAREA":s=be;break;default:switch(n.props&&n.props.type){case"checkbox":s=Se;break;case"radio":s=Te;break;default:s=be}}const o=s[i];o&&o(e,t,n,r)}function Pe(){be.getSSRProps=({value:e})=>({value:e}),Te.getSSRProps=({value:e},t)=>{if(t.props&&(0,r.looseEqual)(t.props.value,e))return{checked:!0}},Se.getSSRProps=({value:e},t)=>{if((0,r.isArray)(e)){if(t.props&&(0,r.looseIndexOf)(e,t.props.value)>-1)return{checked:!0}}else if((0,r.isSet)(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}}}const Ne=["ctrl","shift","alt","meta"],Oe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Ne.some((n=>e[`${n}Key`]&&!t.includes(n)))},De=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=Oe[t[e]];if(r&&r(n,t))return}return e(n,...r)},Le={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Me=(e,t)=>n=>{if(!("key"in n))return;const i=(0,r.hyphenate)(n.key);return t.some((e=>e===i||Le[e]===i))?e(n):void 0},Fe={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):qe(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!==!n&&(r?t?(r.beforeEnter(e),qe(e,!0),r.enter(e)):r.leave(e,(()=>{qe(e,!1)})):qe(e,t))},beforeUnmount(e,{value:t}){qe(e,t)}};function qe(e,t){e.style.display=t?e._vod:"none"}function Ue(){Fe.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Ve=(0,r.extend)({patchProp:D},u);let Be,je=!1;function $e(){return Be||(Be=(0,i.Us)(Ve))}function ze(){return Be=je?Be:(0,i.Eo)(Ve),je=!0,Be}const He=(...e)=>{$e().render(...e)},We=(...e)=>{ze().hydrate(...e)},Ke=(...e)=>{const t=$e().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=Ye(e);if(!i)return;const s=t._component;(0,r.isFunction)(s)||s.render||s.template||(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t},Ge=(...e)=>{const t=ze().createApp(...e);const{mount:n}=t;return t.mount=e=>{const t=Ye(e);if(t)return n(t,!0,t instanceof SVGElement)},t};function Ye(e){if((0,r.isString)(e)){const t=document.querySelector(e);return t}return e}let Ze=!1;const Qe=()=>{Ze||(Ze=!0,Pe(),Ue())}},6970:(e,t,n)=>{"use strict";function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.r(t),n.d(t,{EMPTY_ARR:()=>z,EMPTY_OBJ:()=>$,NO:()=>W,NOOP:()=>H,PatchFlagNames:()=>i,camelize:()=>ye,capitalize:()=>be,def:()=>Ie,escapeHtml:()=>L,escapeHtmlComment:()=>F,extend:()=>Z,generateCodeFrame:()=>u,getGlobalThis:()=>xe,hasChanged:()=>ke,hasOwn:()=>X,hyphenate:()=>we,includeBooleanAttr:()=>f,invokeArrayFns:()=>Te,isArray:()=>ee,isBooleanAttr:()=>d,isBuiltInDirective:()=>me,isDate:()=>re,isFunction:()=>ie,isGloballyWhitelisted:()=>a,isHTMLTag:()=>P,isIntegerKey:()=>fe,isKnownHtmlAttr:()=>_,isKnownSvgAttr:()=>w,isMap:()=>te,isModelListener:()=>Y,isNoUnitNumericStyleProp:()=>y,isObject:()=>ae,isOn:()=>G,isPlainObject:()=>de,isPromise:()=>le,isReservedProp:()=>pe,isSSRSafeAttrName:()=>g,isSVGTag:()=>N,isSet:()=>ne,isSpecialBooleanAttr:()=>h,isString:()=>se,isSymbol:()=>oe,isVoidTag:()=>O,looseEqual:()=>U,looseIndexOf:()=>V,makeMap:()=>r,normalizeClass:()=>E,normalizeProps:()=>C,normalizeStyle:()=>b,objectToString:()=>ue,parseStringStyle:()=>T,propsToAttrMap:()=>v,remove:()=>Q,slotFlagsText:()=>s,stringifyStyle:()=>I,toDisplayString:()=>B,toHandlerKey:()=>Se,toNumber:()=>Ee,toRawType:()=>he,toTypeString:()=>ce});const i={[1]:"TEXT",[2]:"CLASS",[4]:"STYLE",[8]:"PROPS",[16]:"FULL_PROPS",[32]:"HYDRATE_EVENTS",[64]:"STABLE_FRAGMENT",[128]:"KEYED_FRAGMENT",[256]:"UNKEYED_FRAGMENT",[512]:"NEED_PATCH",[1024]:"DYNAMIC_SLOTS",[2048]:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},s={[1]:"STABLE",[2]:"DYNAMIC",[3]:"FORWARDED"},o="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",a=r(o),l=2;function u(e,t=0,n=e.length){let r=e.split(/(\r?\n)/);const i=r.filter(((e,t)=>t%2===1));r=r.filter(((e,t)=>t%2===0));let s=0;const o=[];for(let a=0;a<r.length;a++)if(s+=r[a].length+(i[a]&&i[a].length||0),s>=t){for(let e=a-l;e<=a+l||n>s;e++){if(e<0||e>=r.length)continue;const l=e+1;o.push(`${l}${" ".repeat(Math.max(3-String(l).length,0))}|  ${r[e]}`);const u=r[e].length,c=i[e]&&i[e].length||0;if(e===a){const e=t-(s-(u+c)),r=Math.max(1,n>s?u-e:n-t);o.push("   |  "+" ".repeat(e)+"^".repeat(r))}else if(e>a){if(n>s){const e=Math.max(Math.min(n-s,u),1);o.push("   |  "+"^".repeat(e))}s+=u+c}}break}return o.join("\n")}const c="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",h=r(c),d=r(c+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function f(e){return!!e||""===e}const p=/[>/="'\u0009\u000a\u000c\u0020]/,m={};function g(e){if(m.hasOwnProperty(e))return m[e];const t=p.test(e);return t&&console.error(`unsafe attribute name: ${e}`),m[e]=!t}const v={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},y=r("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),_=r("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),w=r("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");function b(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=se(r)?T(r):b(r);if(i)for(const e in i)t[e]=i[e]}return t}return se(e)||ae(e)?e:void 0}const S=/;(?![^(]*\))/g,k=/:(.+)/;function T(e){const t={};return e.split(S).forEach((e=>{if(e){const n=e.split(k);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function I(e){let t="";if(!e||se(e))return t;for(const n in e){const r=e[n],i=n.startsWith("--")?n:we(n);(se(r)||"number"===typeof r&&y(i))&&(t+=`${i}:${r};`)}return t}function E(e){let t="";if(se(e))t=e;else if(ee(e))for(let n=0;n<e.length;n++){const r=E(e[n]);r&&(t+=r+" ")}else if(ae(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function C(e){if(!e)return null;let{class:t,style:n}=e;return t&&!se(t)&&(e.class=E(t)),n&&(e.style=b(n)),e}const x="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",A="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",R="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",P=r(x),N=r(A),O=r(R),D=/["'&<>]/;function L(e){const t=""+e,n=D.exec(t);if(!n)return t;let r,i,s="",o=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}o!==i&&(s+=t.slice(o,i)),o=i+1,s+=r}return o!==i?s+t.slice(o,i):s}const M=/^-?>|<!--|-->|--!>|<!-$/g;function F(e){return e.replace(M,"")}function q(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=U(e[r],t[r]);return n}function U(e,t){if(e===t)return!0;let n=re(e),r=re(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=ee(e),r=ee(t),n||r)return!(!n||!r)&&q(e,t);if(n=ae(e),r=ae(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!U(e[n],t[n]))return!1}}return String(e)===String(t)}function V(e,t){return e.findIndex((e=>U(e,t)))}const B=e=>se(e)?e:null==e?"":ee(e)||ae(e)&&(e.toString===ue||!ie(e.toString))?JSON.stringify(e,j,2):String(e),j=(e,t)=>t&&t.__v_isRef?j(e,t.value):te(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:ne(t)?{[`Set(${t.size})`]:[...t.values()]}:!ae(t)||ee(t)||de(t)?t:String(t),$={},z=[],H=()=>{},W=()=>!1,K=/^on[^a-z]/,G=e=>K.test(e),Y=e=>e.startsWith("onUpdate:"),Z=Object.assign,Q=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},J=Object.prototype.hasOwnProperty,X=(e,t)=>J.call(e,t),ee=Array.isArray,te=e=>"[object Map]"===ce(e),ne=e=>"[object Set]"===ce(e),re=e=>e instanceof Date,ie=e=>"function"===typeof e,se=e=>"string"===typeof e,oe=e=>"symbol"===typeof e,ae=e=>null!==e&&"object"===typeof e,le=e=>ae(e)&&ie(e.then)&&ie(e.catch),ue=Object.prototype.toString,ce=e=>ue.call(e),he=e=>ce(e).slice(8,-1),de=e=>"[object Object]"===ce(e),fe=e=>se(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,pe=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),me=r("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),ge=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},ve=/-(\w)/g,ye=ge((e=>e.replace(ve,((e,t)=>t?t.toUpperCase():"")))),_e=/\B([A-Z])/g,we=ge((e=>e.replace(_e,"-$1").toLowerCase())),be=ge((e=>e.charAt(0).toUpperCase()+e.slice(1))),Se=ge((e=>e?`on${be(e)}`:"")),ke=(e,t)=>!Object.is(e,t),Te=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ie=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Ee=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ce;const xe=()=>Ce||(Ce="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},9981:(e,t,n)=>{e.exports=n(6148)},6857:(e,t,n)=>{"use strict";var r=n(6031),i=n(8117),s=n(6139),o=n(9395),a=n(7187),l=n(7758),u=n(4908),c=n(7381);e.exports=function(e){return new Promise((function(t,n){var h=e.data,d=e.headers,f=e.responseType;r.isFormData(h)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+g)}var v=a(e.baseURL,e.url);function y(){if(p){var r="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,s=f&&"text"!==f&&"json"!==f?p.response:p.responseText,o={data:s,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,o),p=null}}if(p.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(n(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||u(v))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;_&&(d[e.xsrfHeaderName]=_)}"setRequestHeader"in p&&r.forEach(d,(function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),f&&"json"!==f&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),h||(h=null),p.send(h)}))}},6148:(e,t,n)=>{"use strict";var r=n(6031),i=n(4009),s=n(7237),o=n(8342),a=n(9860);function l(e){var t=new s(e),n=i(s.prototype.request,t);return r.extend(n,s.prototype,t),r.extend(n,t),n}var u=l(a);u.Axios=s,u.create=function(e){return l(o(u.defaults,e))},u.Cancel=n(5838),u.CancelToken=n(5e3),u.isCancel=n(2649),u.all=function(e){return Promise.all(e)},u.spread=n(7615),u.isAxiosError=n(6794),e.exports=u,e.exports["default"]=u},5838:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},5e3:(e,t,n)=>{"use strict";var r=n(5838);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e,t=new i((function(t){e=t}));return{token:t,cancel:e}},e.exports=i},2649:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},7237:(e,t,n)=>{"use strict";var r=n(6031),i=n(9395),s=n(7332),o=n(1014),a=n(8342),l=n(9206),u=l.validators;function c(e){this.defaults=e,this.interceptors={request:new s,response:new s}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=a(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!r){var c=[o,void 0];Array.prototype.unshift.apply(c,n),c=c.concat(s),i=Promise.resolve(e);while(c.length)i=i.then(c.shift(),c.shift());return i}var h=e;while(n.length){var d=n.shift(),f=n.shift();try{h=d(h)}catch(p){f(p);break}}try{i=o(h)}catch(p){return Promise.reject(p)}while(s.length)i=i.then(s.shift(),s.shift());return i},c.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=c},7332:(e,t,n)=>{"use strict";var r=n(6031);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},7187:(e,t,n)=>{"use strict";var r=n(6847),i=n(6560);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},7381:(e,t,n)=>{"use strict";var r=n(4918);e.exports=function(e,t,n,i,s){var o=new Error(e);return r(o,t,n,i,s)}},1014:(e,t,n)=>{"use strict";var r=n(6031),i=n(2297),s=n(2649),o=n(9860);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){a(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||o.adapter;return t(e).then((function(t){return a(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(a(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},4918:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},8342:(e,t,n)=>{"use strict";var r=n(6031);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],s=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=l(void 0,e[i])):n[i]=l(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=l(void 0,t[e]))})),r.forEach(s,u),r.forEach(o,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=l(void 0,e[i])):n[i]=l(void 0,t[i])})),r.forEach(a,(function(r){r in t?n[r]=l(e[r],t[r]):r in e&&(n[r]=l(void 0,e[r]))}));var c=i.concat(s).concat(o).concat(a),h=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return r.forEach(h,u),n}},8117:(e,t,n)=>{"use strict";var r=n(7381);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2297:(e,t,n)=>{"use strict";var r=n(6031),i=n(9860);e.exports=function(e,t,n){var s=this||i;return r.forEach(n,(function(n){e=n.call(s,e,t)})),e}},9860:(e,t,n)=>{"use strict";var r=n(6031),i=n(4129),s=n(4918),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function l(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(6857)),e}function u(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:l(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),u(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(o){if("SyntaxError"===a.name)throw s(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(o)})),e.exports=c},4009:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9395:(e,t,n)=>{"use strict";var r=n(6031);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(r.isURLSearchParams(t))s=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),s=o.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},6560:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},6139:(e,t,n)=>{"use strict";var r=n(6031);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,s,o){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},6847:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6794:e=>{"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},4908:(e,t,n)=>{"use strict";var r=n(6031);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},4129:(e,t,n)=>{"use strict";var r=n(6031);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},7758:(e,t,n)=>{"use strict";var r=n(6031),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,o={};return e?(r.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=r.trim(e.substr(0,s)).toLowerCase(),n=r.trim(e.substr(s+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},7615:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},9206:(e,t,n)=>{"use strict";var r=n(8593),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={},o=r.version.split(".");function a(e,t){for(var n=t?t.split("."):o,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}function l(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");var r=Object.keys(e),i=r.length;while(i-- >0){var s=r[i],o=t[s];if(o){var a=e[s],l=void 0===a||o(a,s,e);if(!0!==l)throw new TypeError("option "+s+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+s)}}i.transitional=function(e,t,n){var i=t&&a(t);function o(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(o(r," has been removed in "+t));return i&&!s[r]&&(s[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={isOlderVersion:a,assertOptions:l,validators:i}},6031:(e,t,n)=>{"use strict";var r=n(4009),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function a(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function l(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return"undefined"!==typeof FormData&&e instanceof FormData}function c(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function h(e){return"string"===typeof e}function d(e){return"number"===typeof e}function f(e){return null!==e&&"object"===typeof e}function p(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function m(e){return"[object Date]"===i.call(e)}function g(e){return"[object File]"===i.call(e)}function v(e){return"[object Blob]"===i.call(e)}function y(e){return"[object Function]"===i.call(e)}function _(e){return f(e)&&y(e.pipe)}function w(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function b(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function S(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function T(){var e={};function t(t,n){p(e[n])&&p(t)?e[n]=T(e[n],t):p(t)?e[n]=T({},t):s(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)k(arguments[n],t);return e}function I(e,t,n){return k(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e}function E(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:s,isArrayBuffer:l,isBuffer:a,isFormData:u,isArrayBufferView:c,isString:h,isNumber:d,isObject:f,isPlainObject:p,isUndefined:o,isDate:m,isFile:g,isBlob:v,isFunction:y,isStream:_,isURLSearchParams:w,isStandardBrowserEnv:S,forEach:k,merge:T,extend:I,trim:b,stripBOM:E}},4455:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(9835),i=n(499),s=n(1957),o=n(2857),a=n(3940),l=n(1136),u=(n(5583),n(6727),n(5065)),c=n(244),h=n(945);const d={none:0,xs:4,sm:8,md:16,lg:24,xl:32},f={xs:8,sm:10,md:14,lg:20,xl:24},p=["button","submit","reset"],m=/[^\s]\/[^\s]/,g={...c.LU,...h.$,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,round:Boolean,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...u.jO.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function v(e){const t=(0,c.ZP)(e,f),n=(0,u.ZP)(e),{hasRouterLink:i,hasLink:s,linkTag:o,linkProps:a,navigateToRouterLink:l}=(0,h.Z)("button"),g=(0,r.Fl)((()=>{const n=!1===e.fab&&!1===e.fabMini?t.value:{};return void 0!==e.padding?Object.assign({},n,{padding:e.padding.split(/\s+/).map((e=>e in d?d[e]+"px":e)).join(" "),minWidth:"0",minHeight:"0"}):n})),v=(0,r.Fl)((()=>!0===e.rounded||!0===e.fab||!0===e.fabMini)),y=(0,r.Fl)((()=>!0!==e.disable&&!0!==e.loading)),_=(0,r.Fl)((()=>!0===y.value?e.tabindex||0:-1)),w=(0,r.Fl)((()=>!0===e.flat?"flat":!0===e.outline?"outline":!0===e.push?"push":!0===e.unelevated?"unelevated":"standard")),b=(0,r.Fl)((()=>{const t={tabindex:_.value};return!0===s.value?Object.assign(t,a.value):!0===p.includes(e.type)&&(t.type=e.type),"a"===o.value?(!0===e.disable?t["aria-disabled"]="true":void 0===t.href&&(t.role="button"),!0!==i.value&&!0===m.test(e.type)&&(t.type=e.type)):!0===e.disable&&(t.disabled="",t["aria-disabled"]="true"),!0===e.loading&&void 0!==e.percentage&&Object.assign(t,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),t})),S=(0,r.Fl)((()=>{let t;return void 0!==e.color?t=!0===e.flat||!0===e.outline?`text-${e.textColor||e.color}`:`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(t=`text-${e.textColor}`),`q-btn--${w.value} q-btn--`+(!0===e.round?"round":"rectangle"+(!0===v.value?" q-btn--rounded":""))+(void 0!==t?" "+t:"")+(!0===y.value?" q-btn--actionable q-focusable q-hoverable":!0===e.disable?" disabled":"")+(!0===e.fab?" q-btn--fab":!0===e.fabMini?" q-btn--fab-mini":"")+(!0===e.noCaps?" q-btn--no-uppercase":"")+(!0===e.dense?" q-btn--dense":"")+(!0===e.stretch?" no-border-radius self-stretch":"")+(!0===e.glossy?" glossy":"")})),k=(0,r.Fl)((()=>n.value+(!0===e.stack?" column":" row")+(!0===e.noWrap?" no-wrap text-no-wrap":"")+(!0===e.loading?" q-btn__content--hidden":"")));return{classes:S,style:g,innerClasses:k,attributes:b,hasRouterLink:i,hasLink:s,linkTag:o,navigateToRouterLink:l,isActionable:y}}var y=n(5987),_=n(2026),w=n(1384),b=n(1705);const{passiveCapture:S}=w.rU;let k=null,T=null,I=null;const E=(0,y.L)({name:"QBtn",props:{...g,percentage:Number,darkPercentage:Boolean},emits:["click","keydown","touchstart","mousedown","keyup"],setup(e,{slots:t,emit:n}){const{proxy:u}=(0,r.FN)(),{classes:c,style:h,innerClasses:d,attributes:f,hasRouterLink:p,hasLink:m,linkTag:g,navigateToRouterLink:y,isActionable:E}=v(e),C=(0,i.iH)(null),x=(0,i.iH)(null);let A,R,P=null;const N=(0,r.Fl)((()=>void 0!==e.label&&null!==e.label&&""!==e.label)),O=(0,r.Fl)((()=>!0!==e.disable&&!1!==e.ripple&&{keyCodes:!0===m.value?[13,32]:[13],...!0===e.ripple?{}:e.ripple})),D=(0,r.Fl)((()=>({center:e.round}))),L=(0,r.Fl)((()=>{const t=Math.max(0,Math.min(100,e.percentage));return t>0?{transition:"transform 0.6s",transform:`translateX(${t-100}%)`}:{}})),M=(0,r.Fl)((()=>!0===e.loading?{onMousedown:z,onTouchstartPassive:z,onClick:z,onKeydown:z,onKeyup:z}:!0===E.value?{onClick:q,onKeydown:U,onMousedown:B,onTouchstart:V}:{onClick:w.NS})),F=(0,r.Fl)((()=>({ref:C,class:"q-btn q-btn-item non-selectable no-outline "+c.value,style:h.value,...f.value,...M.value})));function q(t){if(null!==C.value){if(void 0!==t){if(!0===t.defaultPrevented)return;const n=document.activeElement;if("submit"===e.type&&n!==document.body&&!1===C.value.contains(n)&&!1===n.contains(C.value)){C.value.focus();const e=()=>{document.removeEventListener("keydown",w.NS,!0),document.removeEventListener("keyup",e,S),null!==C.value&&C.value.removeEventListener("blur",e,S)};document.addEventListener("keydown",w.NS,!0),document.addEventListener("keyup",e,S),C.value.addEventListener("blur",e,S)}}if(!0===p.value){const e=()=>{t.__qNavigate=!0,y(t)};n("click",t,e),!0!==t.defaultPrevented&&e()}else n("click",t)}}function U(e){null!==C.value&&(n("keydown",e),!0===(0,b.So)(e,[13,32])&&T!==C.value&&(null!==T&&$(),!0!==e.defaultPrevented&&(C.value.focus(),T=C.value,C.value.classList.add("q-btn--active"),document.addEventListener("keyup",j,!0),C.value.addEventListener("blur",j,S)),(0,w.NS)(e)))}function V(e){null!==C.value&&(n("touchstart",e),!0!==e.defaultPrevented&&(k!==C.value&&(null!==k&&$(),k=C.value,P=e.target,P.addEventListener("touchcancel",j,S),P.addEventListener("touchend",j,S)),A=!0,clearTimeout(R),R=setTimeout((()=>{A=!1}),200)))}function B(e){null!==C.value&&(e.qSkipRipple=!0===A,n("mousedown",e),!0!==e.defaultPrevented&&I!==C.value&&(null!==I&&$(),I=C.value,C.value.classList.add("q-btn--active"),document.addEventListener("mouseup",j,S)))}function j(e){if(null!==C.value&&(void 0===e||"blur"!==e.type||document.activeElement!==C.value)){if(void 0!==e&&"keyup"===e.type){if(T===C.value&&!0===(0,b.So)(e,[13,32])){const t=new MouseEvent("click",e);t.qKeyEvent=!0,!0===e.defaultPrevented&&(0,w.X$)(t),!0===e.cancelBubble&&(0,w.sT)(t),C.value.dispatchEvent(t),(0,w.NS)(e),e.qKeyEvent=!0}n("keyup",e)}$()}}function $(e){const t=x.value;!0===e||k!==C.value&&I!==C.value||null===t||t===document.activeElement||(t.setAttribute("tabindex",-1),t.focus()),k===C.value&&(null!==P&&(P.removeEventListener("touchcancel",j,S),P.removeEventListener("touchend",j,S)),k=P=null),I===C.value&&(document.removeEventListener("mouseup",j,S),I=null),T===C.value&&(document.removeEventListener("keyup",j,!0),null!==C.value&&C.value.removeEventListener("blur",j,S),T=null),null!==C.value&&C.value.classList.remove("q-btn--active")}function z(e){(0,w.NS)(e),e.qSkipRipple=!0}return(0,r.Jd)((()=>{$(!0)})),Object.assign(u,{click:q}),()=>{let n=[];void 0!==e.icon&&n.push((0,r.h)(o.Z,{name:e.icon,left:!1===e.stack&&!0===N.value,role:"img","aria-hidden":"true"})),!0===N.value&&n.push((0,r.h)("span",{class:"block"},[e.label])),n=(0,_.vs)(t.default,n),void 0!==e.iconRight&&!1===e.round&&n.push((0,r.h)(o.Z,{name:e.iconRight,right:!1===e.stack&&!0===N.value,role:"img","aria-hidden":"true"}));const i=[(0,r.h)("span",{class:"q-focus-helper",ref:x})];return!0===e.loading&&void 0!==e.percentage&&i.push((0,r.h)("span",{class:"q-btn__progress absolute-full overflow-hidden"},[(0,r.h)("span",{class:"q-btn__progress-indicator fit block"+(!0===e.darkPercentage?" q-btn__progress--dark":""),style:L.value})])),i.push((0,r.h)("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+d.value},n)),null!==e.loading&&i.push((0,r.h)(s.uT,{name:"q-transition--fade"},(()=>!0===e.loading?[(0,r.h)("span",{key:"loading",class:"absolute-full flex flex-center"},void 0!==t.loading?t.loading():[(0,r.h)(a.Z)])]:null))),(0,r.wy)((0,r.h)(g.value,F.value,i),[[l.Z,O.value,void 0,D.value]])}}})},4458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});n(5583);var r=n(9835),i=n(8234),s=n(5987),o=n(2026);const a=(0,s.L)({name:"QCard",props:{...i.S,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const n=(0,r.FN)(),s=(0,i.Z)(e,n.proxy.$q),a=(0,r.Fl)((()=>"q-card"+(!0===s.value?" q-card--dark q-dark":"")+(!0===e.bordered?" q-card--bordered":"")+(!0===e.square?" q-card--square no-border-radius":"")+(!0===e.flat?" q-card--flat no-shadow":"")));return()=>(0,r.h)(e.tag,{class:a.value},(0,o.KR)(t.default))}})},3190:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9835),i=n(5987),s=n(2026);const o=(0,i.L)({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=(0,r.Fl)((()=>"q-card__section q-card__section--"+(!0===e.horizontal?"horiz row no-wrap":"vert")));return()=>(0,r.h)(e.tag,{class:n.value},(0,s.KR)(t.default))}})},7691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(9835),i=n(2857),s=n(1136),o=n(8234),a=n(244),l=n(5987),u=n(1384),c=n(2026);const h={xs:8,sm:10,md:14,lg:20,xl:24},d=(0,l.L)({name:"QChip",props:{...o.S,...a.LU,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=(0,r.FN)(),d=(0,o.Z)(e,l),f=(0,a.ZP)(e,h),p=(0,r.Fl)((()=>!0===e.selected||void 0!==e.icon)),m=(0,r.Fl)((()=>!0===e.selected?e.iconSelected||l.iconSet.chip.selected:e.icon)),g=(0,r.Fl)((()=>e.iconRemove||l.iconSet.chip.remove)),v=(0,r.Fl)((()=>!1===e.disable&&(!0===e.clickable||null!==e.selected))),y=(0,r.Fl)((()=>{const t=!0===e.outline&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(!1===e.outline&&void 0!==e.color?` bg-${e.color}`:"")+(t?` text-${t} q-chip--colored`:"")+(!0===e.disable?" disabled":"")+(!0===e.dense?" q-chip--dense":"")+(!0===e.outline?" q-chip--outline":"")+(!0===e.selected?" q-chip--selected":"")+(!0===v.value?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(!0===e.square?" q-chip--square":"")+(!0===d.value?" q-chip--dark q-dark":"")})),_=(0,r.Fl)((()=>!0===e.disable?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0}));function w(e){13===e.keyCode&&b(e)}function b(t){e.disable||(n("update:selected",!e.selected),n("click",t))}function S(t){void 0!==t.keyCode&&13!==t.keyCode||((0,u.NS)(t),!1===e.disable&&(n("update:modelValue",!1),n("remove")))}function k(){const n=[];!0===v.value&&n.push((0,r.h)("div",{class:"q-focus-helper"})),!0===p.value&&n.push((0,r.h)(i.Z,{class:"q-chip__icon q-chip__icon--left",name:m.value}));const s=void 0!==e.label?[(0,r.h)("div",{class:"ellipsis"},[e.label])]:void 0;return n.push((0,r.h)("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},(0,c.pf)(t.default,s))),e.iconRight&&n.push((0,r.h)(i.Z,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),!0===e.removable&&n.push((0,r.h)(i.Z,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,..._.value,onClick:S,onKeyup:S})),n}return()=>{if(!1===e.modelValue)return;const t={class:y.value,style:f.value};return!0===v.value&&Object.assign(t,_.value,{onClick:b,onKeyup:w}),(0,c.Jl)("div",t,k(),"ripple",!1!==e.ripple&&!0!==e.disable,(()=>[[s.Z,e.ripple]]))}}})},2074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});n(6727),n(702);var r=n(9835),i=n(499),s=n(1957),o=n(4953),a=n(2695),l=n(6916),u=n(3842),c=n(431),h=n(1518),d=n(9754),f=n(5987),p=n(223),m=n(2026),g=n(6532),v=n(4173),y=n(7026);let _=0;const w={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},b={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},S=(0,f.L)({name:"QDialog",inheritAttrs:!1,props:{...u.vr,...c.D,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>"standard"===e||["top","bottom","left","right"].includes(e)}},emits:[...u.gH,"shake","click","escape-key"],setup(e,{slots:t,emit:n,attrs:c}){const f=(0,r.FN)(),S=(0,i.iH)(null),k=(0,i.iH)(!1),T=(0,i.iH)(!1),I=(0,i.iH)(!1);let E,C,x,A=null;const R=(0,r.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss&&!0!==e.seamless)),{preventBodyScroll:P}=(0,d.Z)(),{registerTimeout:N,removeTimeout:O}=(0,a.Z)(),{registerTick:D,removeTick:L}=(0,l.Z)(),{showPortal:M,hidePortal:F,portalIsAccessible:q,renderPortal:U}=(0,h.Z)(f,S,ae,!0),{hide:V}=(0,u.ZP)({showing:k,hideOnRouteChange:R,handleShow:Q,handleHide:J,processOnMount:!0}),{addToHistory:B,removeFromHistory:j}=(0,o.Z)(k,V,R),$=(0,r.Fl)((()=>"q-dialog__inner flex no-pointer-events q-dialog__inner--"+(!0===e.maximized?"maximized":"minimized")+` q-dialog__inner--${e.position} ${w[e.position]}`+(!0===I.value?" q-dialog__inner--animating":"")+(!0===e.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===e.fullHeight?" q-dialog__inner--fullheight":"")+(!0===e.square?" q-dialog__inner--square":""))),z=(0,r.Fl)((()=>"q-transition--"+(void 0===e.transitionShow?b[e.position][0]:e.transitionShow))),H=(0,r.Fl)((()=>"q-transition--"+(void 0===e.transitionHide?b[e.position][1]:e.transitionHide))),W=(0,r.Fl)((()=>!0===T.value?H.value:z.value)),K=(0,r.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`)),G=(0,r.Fl)((()=>!0===k.value&&!0!==e.seamless)),Y=(0,r.Fl)((()=>!0===e.autoClose?{onClick:ie}:{})),Z=(0,r.Fl)((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===G.value?"modal":"seamless"),c.class]));function Q(t){O(),L(),B(),A=!1===e.noRefocus&&null!==document.activeElement?document.activeElement:null,re(e.maximized),M(),I.value=!0,!0!==e.noFocus&&(null!==document.activeElement&&document.activeElement.blur(),D(X)),N((()=>{if(!0===f.proxy.$q.platform.is.ios){if(!0!==e.seamless&&document.activeElement){const{top:e,bottom:t}=document.activeElement.getBoundingClientRect(),{innerHeight:n}=window,r=void 0!==window.visualViewport?window.visualViewport.height:n;e>0&&t>r/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-r,t>=n?1/0:Math.ceil(document.scrollingElement.scrollTop+t-r/2))),document.activeElement.scrollIntoView()}x=!0,S.value.click(),x=!1}M(!0),I.value=!1,n("show",t)}),e.transitionDuration)}function J(t){O(),L(),j(),ne(!0),I.value=!0,F(),null!==A&&(A.focus(),A=null),N((()=>{F(!0),I.value=!1,n("hide",t)}),e.transitionDuration)}function X(e){(0,y.jd)((()=>{let t=S.value;null!==t&&!0!==t.contains(document.activeElement)&&(t=t.querySelector(e||"[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))}))}function ee(){X(),n("shake");const e=S.value;null!==e&&(e.classList.remove("q-animate--scale"),e.classList.add("q-animate--scale"),clearTimeout(E),E=setTimeout((()=>{null!==S.value&&(e.classList.remove("q-animate--scale"),X())}),170))}function te(){!0!==e.seamless&&(!0===e.persistent||!0===e.noEscDismiss?!0!==e.maximized&&!0!==e.noShake&&ee():(n("escape-key"),V()))}function ne(t){clearTimeout(E),!0!==t&&!0!==k.value||(re(!1),!0!==e.seamless&&(P(!1),(0,v.H)(oe),(0,g.k)(te))),!0!==t&&(A=null)}function re(e){!0===e?!0!==C&&(_<1&&document.body.classList.add("q-body--dialog"),_++,C=!0):!0===C&&(_<2&&document.body.classList.remove("q-body--dialog"),_--,C=!1)}function ie(e){!0!==x&&(V(e),n("click",e))}function se(t){!0!==e.persistent&&!0!==e.noBackdropDismiss?V(t):!0!==e.noShake&&ee()}function oe(e){!0===q.value&&!0!==(0,p.mY)(S.value,e.target)&&X('[tabindex]:not([tabindex="-1"])')}function ae(){return(0,r.h)("div",{...c,class:Z.value},[(0,r.h)(s.uT,{name:"q-transition--fade",appear:!0},(()=>!0===G.value?(0,r.h)("div",{class:"q-dialog__backdrop fixed-full",style:K.value,"aria-hidden":"true",onMousedown:se}):null)),(0,r.h)(s.uT,{name:W.value,appear:!0},(()=>!0===k.value?(0,r.h)("div",{ref:S,class:$.value,style:K.value,tabindex:-1,...Y.value},(0,m.KR)(t.default)):null))])}return(0,r.YP)(k,(e=>{(0,r.Y3)((()=>{T.value=e}))})),(0,r.YP)((()=>e.maximized),(e=>{!0===k.value&&re(e)})),(0,r.YP)(G,(e=>{P(e),!0===e?((0,v.i)(oe),(0,g.c)(te)):((0,v.H)(oe),(0,g.k)(te))})),Object.assign(f.proxy,{focus:X,shake:ee,__updateRefocusTarget(e){A=e||null}}),(0,r.Jd)(ne),U}})},3655:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});n(6727),n(702);var r=n(9835),i=n(499),s=n(4953),o=n(3842),a=n(9754),l=n(2695),u=n(8234),c=n(7506),h=n(5987);const d={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},f=Object.keys(d);function p(e){const t={};for(const n of f)!0===e[n]&&(t[n]=!0);return 0===Object.keys(t).length?d:(!0===t.horizontal?t.left=t.right=!0:!0===t.left&&!0===t.right&&(t.horizontal=!0),!0===t.vertical?t.up=t.down=!0:!0===t.up&&!0===t.down&&(t.vertical=!0),!0===t.horizontal&&!0===t.vertical&&(t.all=!0),t)}function m(e,t){return void 0===t.event&&void 0!==e.target&&!0!==e.target.draggable&&"function"===typeof t.handler&&"INPUT"!==e.target.nodeName.toUpperCase()&&(void 0===e.qClonedBy||-1===e.qClonedBy.indexOf(t.uid))}d.all=!0;var g=n(1384),v=n(2589);function y(e,t,n){const r=(0,g.FK)(e);let i,s=r.left-t.event.x,o=r.top-t.event.y,a=Math.abs(s),l=Math.abs(o);const u=t.direction;!0===u.horizontal&&!0!==u.vertical?i=s<0?"left":"right":!0!==u.horizontal&&!0===u.vertical?i=o<0?"up":"down":!0===u.up&&o<0?(i="up",a>l&&(!0===u.left&&s<0?i="left":!0===u.right&&s>0&&(i="right"))):!0===u.down&&o>0?(i="down",a>l&&(!0===u.left&&s<0?i="left":!0===u.right&&s>0&&(i="right"))):!0===u.left&&s<0?(i="left",a<l&&(!0===u.up&&o<0?i="up":!0===u.down&&o>0&&(i="down"))):!0===u.right&&s>0&&(i="right",a<l&&(!0===u.up&&o<0?i="up":!0===u.down&&o>0&&(i="down")));let c=!1;if(void 0===i&&!1===n){if(!0===t.event.isFirst||void 0===t.event.lastDir)return{};i=t.event.lastDir,c=!0,"left"===i||"right"===i?(r.left-=s,a=0,s=0):(r.top-=o,l=0,o=0)}return{synthetic:c,payload:{evt:e,touch:!0!==t.event.mouse,mouse:!0===t.event.mouse,position:r,direction:i,isFirst:t.event.isFirst,isFinal:!0===n,duration:Date.now()-t.event.time,distance:{x:a,y:l},offset:{x:s,y:o},delta:{x:r.left-t.event.lastX,y:r.top-t.event.lastY}}}}let _=0;const w=(0,h.f)({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(!0!==n.mouse&&!0!==c.Lp.has.touch)return;function r(e,t){!0===n.mouse&&!0===t?(0,g.NS)(e):(!0===n.stop&&(0,g.sT)(e),!0===n.prevent&&(0,g.X$)(e))}const i={uid:"qvtp_"+_++,handler:t,modifiers:n,direction:p(n),noop:g.ZT,mouseStart(e){m(e,i)&&(0,g.du)(e)&&((0,g.M0)(i,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),i.start(e,!0))},touchStart(e){if(m(e,i)){const t=e.target;(0,g.M0)(i,"temp",[[t,"touchmove","move","notPassiveCapture"],[t,"touchcancel","end","passiveCapture"],[t,"touchend","end","passiveCapture"]]),i.start(e)}},start(t,r){if(!0===c.Lp.is.firefox&&(0,g.Jf)(e,!0),i.lastEvt=t,!0===r||!0===n.stop){if(!0!==i.direction.all&&(!0!==r||!0!==i.modifiers.mouseAllDir)){const e=t.type.indexOf("mouse")>-1?new MouseEvent(t.type,t):new TouchEvent(t.type,t);!0===t.defaultPrevented&&(0,g.X$)(e),!0===t.cancelBubble&&(0,g.sT)(e),Object.assign(e,{qKeyEvent:t.qKeyEvent,qClickOutside:t.qClickOutside,qAnchorHandled:t.qAnchorHandled,qClonedBy:void 0===t.qClonedBy?[i.uid]:t.qClonedBy.concat(i.uid)}),i.initialEvent={target:t.target,event:e}}(0,g.sT)(t)}const{left:s,top:o}=(0,g.FK)(t);i.event={x:s,y:o,time:Date.now(),mouse:!0===r,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:o}},move(e){if(void 0===i.event)return;const t=(0,g.FK)(e),s=t.left-i.event.x,o=t.top-i.event.y;if(0===s&&0===o)return;i.lastEvt=e;const a=!0===i.event.mouse,l=()=>{r(e,a),!0!==n.preserveCursor&&(document.documentElement.style.cursor="grabbing"),!0===a&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),(0,v.M)(),i.styleCleanup=e=>{if(i.styleCleanup=void 0,!0!==n.preserveCursor&&(document.documentElement.style.cursor=""),document.body.classList.remove("non-selectable"),!0===a){const t=()=>{document.body.classList.remove("no-pointer-events--children")};void 0!==e?setTimeout((()=>{t(),e()}),50):t()}else void 0!==e&&e()}};if(!0===i.event.detected){!0!==i.event.isFirst&&r(e,i.event.mouse);const{payload:t,synthetic:n}=y(e,i,!1);return void(void 0!==t&&(!1===i.handler(t)?i.end(e):(void 0===i.styleCleanup&&!0===i.event.isFirst&&l(),i.event.lastX=t.position.left,i.event.lastY=t.position.top,i.event.lastDir=!0===n?void 0:t.direction,i.event.isFirst=!1)))}if(!0===i.direction.all||!0===a&&!0===i.modifiers.mouseAllDir)return l(),i.event.detected=!0,void i.move(e);const u=Math.abs(s),c=Math.abs(o);u!==c&&(!0===i.direction.horizontal&&u>c||!0===i.direction.vertical&&u<c||!0===i.direction.up&&u<c&&o<0||!0===i.direction.down&&u<c&&o>0||!0===i.direction.left&&u>c&&s<0||!0===i.direction.right&&u>c&&s>0?(i.event.detected=!0,i.move(e)):i.end(e,!0))},end(t,n){if(void 0!==i.event){if((0,g.ul)(i,"temp"),!0===c.Lp.is.firefox&&(0,g.Jf)(e,!1),!0===n)void 0!==i.styleCleanup&&i.styleCleanup(),!0!==i.event.detected&&void 0!==i.initialEvent&&i.initialEvent.target.dispatchEvent(i.initialEvent.event);else if(!0===i.event.detected){!0===i.event.isFirst&&i.handler(y(void 0===t?i.lastEvt:t,i).payload);const{payload:e}=y(void 0===t?i.lastEvt:t,i,!0),n=()=>{i.handler(e)};void 0!==i.styleCleanup?i.styleCleanup(n):n()}i.event=void 0,i.initialEvent=void 0,i.lastEvt=void 0}}};e.__qtouchpan=i,!0===n.mouse&&(0,g.M0)(i,"main",[[e,"mousedown","mouseStart","passive"+(!0===n.mouseCapture?"Capture":"")]]),!0===c.Lp.has.touch&&(0,g.M0)(i,"main",[[e,"touchstart","touchStart","passive"+(!0===n.capture?"Capture":"")],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;void 0!==n&&(t.oldValue!==t.value&&("function"!==typeof value&&n.end(),n.handler=t.value),n.direction=p(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;void 0!==t&&(void 0!==t.event&&t.end(),(0,g.ul)(t,"main"),(0,g.ul)(t,"temp"),!0===c.Lp.is.firefox&&(0,g.Jf)(e,!1),void 0!==t.styleCleanup&&t.styleCleanup(),delete e.__qtouchpan)}});var b=n(321),S=n(2026),k=n(5439);const T=150,I=(0,h.L)({name:"QDrawer",inheritAttrs:!1,props:{...o.vr,...u.S,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...o.gH,"on-layout","mini-state"],setup(e,{slots:t,emit:n,attrs:c}){const h=(0,r.FN)(),{proxy:{$q:d}}=h,f=(0,u.Z)(e,d),{preventBodyScroll:p}=(0,a.Z)(),{registerTimeout:m}=(0,l.Z)(),g=(0,r.f3)(k.YE,(()=>{console.error("QDrawer needs to be child of QLayout")}));let v,y,_;const I=(0,i.iH)("mobile"===e.behavior||"desktop"!==e.behavior&&g.totalWidth.value<=e.breakpoint),E=(0,r.Fl)((()=>!0===e.mini&&!0!==I.value)),C=(0,r.Fl)((()=>!0===E.value?e.miniWidth:e.width)),x=(0,i.iH)(!0===e.showIfAbove&&!1===I.value||!0===e.modelValue),A=(0,r.Fl)((()=>!0!==e.persistent&&(!0===I.value||!0===K.value)));function R(e,t){if(D(),!1!==e&&g.animate(),oe(0),!0===I.value){const e=g.instances[$.value];void 0!==e&&!0===e.belowBreakpoint&&e.hide(!1),ae(1),!0!==g.isContainer.value&&p(!0)}else ae(0),!1!==e&&le(!1);m((()=>{!1!==e&&le(!0),!0!==t&&n("show",e)}),T)}function P(e,t){L(),!1!==e&&g.animate(),ae(0),oe(q.value*C.value),de(),!0!==t&&m((()=>{n("hide",e)}),T)}const{show:N,hide:O}=(0,o.ZP)({showing:x,hideOnRouteChange:A,handleShow:R,handleHide:P}),{addToHistory:D,removeFromHistory:L}=(0,s.Z)(x,O,A),M={belowBreakpoint:I,hide:O},F=(0,r.Fl)((()=>"right"===e.side)),q=(0,r.Fl)((()=>(!0===d.lang.rtl?-1:1)*(!0===F.value?1:-1))),U=(0,i.iH)(0),V=(0,i.iH)(!1),B=(0,i.iH)(!1),j=(0,i.iH)(C.value*q.value),$=(0,r.Fl)((()=>!0===F.value?"left":"right")),z=(0,r.Fl)((()=>!0===x.value&&!1===I.value&&!1===e.overlay?!0===e.miniToOverlay?e.miniWidth:C.value:0)),H=(0,r.Fl)((()=>!0===e.overlay||!0===e.miniToOverlay||g.view.value.indexOf(F.value?"R":"L")>-1||!0===d.platform.is.ios&&!0===g.isContainer.value)),W=(0,r.Fl)((()=>!1===e.overlay&&!0===x.value&&!1===I.value)),K=(0,r.Fl)((()=>!0===e.overlay&&!0===x.value&&!1===I.value)),G=(0,r.Fl)((()=>"fullscreen q-drawer__backdrop"+(!1===x.value&&!1===V.value?" hidden":""))),Y=(0,r.Fl)((()=>({backgroundColor:`rgba(0,0,0,${.4*U.value})`}))),Z=(0,r.Fl)((()=>!0===F.value?"r"===g.rows.value.top[2]:"l"===g.rows.value.top[0])),Q=(0,r.Fl)((()=>!0===F.value?"r"===g.rows.value.bottom[2]:"l"===g.rows.value.bottom[0])),J=(0,r.Fl)((()=>{const e={};return!0===g.header.space&&!1===Z.value&&(!0===H.value?e.top=`${g.header.offset}px`:!0===g.header.space&&(e.top=`${g.header.size}px`)),!0===g.footer.space&&!1===Q.value&&(!0===H.value?e.bottom=`${g.footer.offset}px`:!0===g.footer.space&&(e.bottom=`${g.footer.size}px`)),e})),X=(0,r.Fl)((()=>{const e={width:`${C.value}px`,transform:`translateX(${j.value}px)`};return!0===I.value?e:Object.assign(e,J.value)})),ee=(0,r.Fl)((()=>"q-drawer__content fit "+(!0!==g.isContainer.value?"scroll":"overflow-auto"))),te=(0,r.Fl)((()=>`q-drawer q-drawer--${e.side}`+(!0===B.value?" q-drawer--mini-animate":"")+(!0===e.bordered?" q-drawer--bordered":"")+(!0===f.value?" q-drawer--dark q-dark":"")+(!0===V.value?" no-transition":!0===x.value?"":" q-layout--prevent-focus")+(!0===I.value?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":" q-drawer--"+(!0===E.value?"mini":"standard")+(!0===H.value||!0!==W.value?" fixed":"")+(!0===e.overlay||!0===e.miniToOverlay?" q-drawer--on-top":"")+(!0===Z.value?" q-drawer--top-padding":"")))),ne=(0,r.Fl)((()=>{const t=!0===d.lang.rtl?e.side:$.value;return[[w,ce,void 0,{[t]:!0,mouse:!0}]]})),re=(0,r.Fl)((()=>{const t=!0===d.lang.rtl?$.value:e.side;return[[w,he,void 0,{[t]:!0,mouse:!0}]]})),ie=(0,r.Fl)((()=>{const t=!0===d.lang.rtl?$.value:e.side;return[[w,he,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]}));function se(){pe(I,"mobile"===e.behavior||"desktop"!==e.behavior&&g.totalWidth.value<=e.breakpoint)}function oe(e){void 0===e?(0,r.Y3)((()=>{e=!0===x.value?0:C.value,oe(q.value*e)})):(!0!==g.isContainer.value||!0!==F.value||!0!==I.value&&Math.abs(e)!==C.value||(e+=q.value*g.scrollbarWidth.value),j.value=e)}function ae(e){U.value=e}function le(e){const t=!0===e?"remove":!0!==g.isContainer.value?"add":"";""!==t&&document.body.classList[t]("q-body--drawer-toggle")}function ue(){clearTimeout(y),h.proxy&&h.proxy.$el&&h.proxy.$el.classList.add("q-drawer--mini-animate"),B.value=!0,y=setTimeout((()=>{B.value=!1,h&&h.proxy&&h.proxy.$el&&h.proxy.$el.classList.remove("q-drawer--mini-animate")}),150)}function ce(e){if(!1!==x.value)return;const t=C.value,n=(0,b.vX)(e.distance.x,0,t);if(!0===e.isFinal){const e=n>=Math.min(75,t);return!0===e?N():(g.animate(),ae(0),oe(q.value*t)),void(V.value=!1)}oe((!0===d.lang.rtl?!0!==F.value:F.value)?Math.max(t-n,0):Math.min(0,n-t)),ae((0,b.vX)(n/t,0,1)),!0===e.isFirst&&(V.value=!0)}function he(t){if(!0!==x.value)return;const n=C.value,r=t.direction===e.side,i=(!0===d.lang.rtl?!0!==r:r)?(0,b.vX)(t.distance.x,0,n):0;if(!0===t.isFinal){const e=Math.abs(i)<Math.min(75,n);return!0===e?(g.animate(),ae(1),oe(0)):O(),void(V.value=!1)}oe(q.value*i),ae((0,b.vX)(1-i/n,0,1)),!0===t.isFirst&&(V.value=!0)}function de(){p(!1),le(!0)}function fe(t,n){g.update(e.side,t,n)}function pe(e,t){e.value!==t&&(e.value=t)}function me(t,n){fe("size",!0===t?e.miniWidth:n)}return(0,r.YP)(I,(t=>{!0===t?(v=x.value,!0===x.value&&O(!1)):!1===e.overlay&&"mobile"!==e.behavior&&!1!==v&&(!0===x.value?(oe(0),ae(0),de()):N(!1))})),(0,r.YP)((()=>e.side),((e,t)=>{g.instances[t]===M&&(g.instances[t]=void 0,g[t].space=!1,g[t].offset=0),g.instances[e]=M,g[e].size=C.value,g[e].space=W.value,g[e].offset=z.value})),(0,r.YP)(g.totalWidth,(()=>{!0!==g.isContainer.value&&!0===document.qScrollPrevented||se()})),(0,r.YP)((()=>e.behavior+e.breakpoint),se),(0,r.YP)(g.isContainer,(e=>{!0===x.value&&p(!0!==e),!0===e&&se()})),(0,r.YP)(g.scrollbarWidth,(()=>{oe(!0===x.value?0:void 0)})),(0,r.YP)(z,(e=>{fe("offset",e)})),(0,r.YP)(W,(e=>{n("on-layout",e),fe("space",e)})),(0,r.YP)(F,(()=>{oe()})),(0,r.YP)(C,(t=>{oe(),me(e.miniToOverlay,t)})),(0,r.YP)((()=>e.miniToOverlay),(e=>{me(e,C.value)})),(0,r.YP)((()=>d.lang.rtl),(()=>{oe()})),(0,r.YP)((()=>e.mini),(()=>{!0===e.modelValue&&(ue(),g.animate())})),(0,r.YP)(E,(e=>{n("mini-state",e)})),g.instances[e.side]=M,me(e.miniToOverlay,C.value),fe("space",W.value),fe("offset",z.value),!0===e.showIfAbove&&!0!==e.modelValue&&!0===x.value&&void 0!==e["onUpdate:modelValue"]&&n("update:modelValue",!0),(0,r.bv)((()=>{n("on-layout",W.value),n("mini-state",E.value),v=!0===e.showIfAbove;const t=()=>{const e=!0===x.value?R:P;e(!1,!0)};0===g.totalWidth.value?_=(0,r.YP)(g.totalWidth,(()=>{_(),_=void 0,!1===x.value&&!0===e.showIfAbove&&!1===I.value?N(!1):t()})):(0,r.Y3)(t)})),(0,r.Jd)((()=>{void 0!==_&&_(),clearTimeout(y),!0===x.value&&de(),g.instances[e.side]===M&&(g.instances[e.side]=void 0,fe("size",0),fe("offset",0),fe("space",!1))})),()=>{const n=[];!0===I.value&&(!1===e.noSwipeOpen&&n.push((0,r.wy)((0,r.h)("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ne.value)),n.push((0,S.Jl)("div",{ref:"backdrop",class:G.value,style:Y.value,"aria-hidden":"true",onClick:O},void 0,"backdrop",!0!==e.noSwipeBackdrop&&!0===x.value,(()=>ie.value))));const i=!0===E.value&&void 0!==t.mini,s=[(0,r.h)("div",{...c,key:""+i,class:[ee.value,c.class]},!0===i?t.mini():(0,S.KR)(t.default))];return!0===e.elevated&&!0===x.value&&s.push((0,r.h)("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push((0,S.Jl)("aside",{ref:"content",class:te.value,style:X.value},s,"contentclose",!0!==e.noSwipeClose&&!0===I.value,(()=>re.value))),(0,r.h)("div",{class:"q-drawer-container"},n)}}})},8149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(4006),i=n(5987);const s=(0,i.L)({name:"QField",inheritAttrs:!1,props:r.Cl,emits:r.HJ,setup(){return(0,r.ZP)((0,r.tL)())}})},8326:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});n(702);var r=n(9835),i=n(499),s=n(5987),o=n(1384),a=n(7026),l=n(2026),u=n(5439);const c=(0,s.L)({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(e,{slots:t,emit:n}){const s=(0,r.FN)(),c=(0,i.iH)(null);let h=0;const d=[];function f(t){const r=[],i="boolean"===typeof t?t:!0!==e.noErrorFocus,s=++h,o=(e,t)=>{n("validation-"+(!0===e?"success":"error"),t)};for(let n=0;n<d.length;n++){const t=d[n],s=t.validate();if("function"===typeof s.then)r.push(s.then((e=>({valid:e,comp:t})),(e=>({valid:!1,comp:t,err:e}))));else if(!0!==s){if(!1===e.greedy)return o(!1,t),!0===i&&"function"===typeof t.focus&&t.focus(),Promise.resolve(!1);r.push({valid:!1,comp:t})}}return 0===r.length?(o(!0),Promise.resolve(!0)):Promise.all(r).then((e=>{const t=e.filter((e=>!0!==e.valid));if(0===t.length)return s===h&&o(!0),!0;const{valid:n,comp:r,err:a}=t[0];return s===h&&(void 0!==a&&console.error(a),o(!1,r),!0===i&&!0!==n&&"function"===typeof r.focus&&r.focus()),!1}))}function p(){h++,d.forEach((e=>{"function"===typeof e.resetValidation&&e.resetValidation()}))}function m(t){void 0!==t&&(0,o.NS)(t);const r=h+1;f().then((i=>{r===h&&!0===i&&(void 0!==e.onSubmit?n("submit",t):void 0!==t&&void 0!==t.target&&"function"===typeof t.target.submit&&t.target.submit())}))}function g(t){void 0!==t&&(0,o.NS)(t),n("reset"),(0,r.Y3)((()=>{p(),!0===e.autofocus&&!0!==e.noResetFocus&&v()}))}function v(){(0,a.jd)((()=>{if(null===c.value)return;const e=c.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(c.value.querySelectorAll("[tabindex]"),(e=>e.tabIndex>-1));null!==e&&void 0!==e&&e.focus({preventScroll:!0})}))}(0,r.JJ)(u.vh,{bindComponent(e){d.push(e)},unbindComponent(e){const t=d.indexOf(e);t>-1&&d.splice(t,1)}});let y=!1;return(0,r.se)((()=>{y=!0})),(0,r.dl)((()=>{!0===y&&!0===e.autofocus&&v()})),(0,r.bv)((()=>{!0===e.autofocus&&v()})),Object.assign(s.proxy,{validate:f,resetValidation:p,submit:m,reset:g,focus:v,getValidationComponents:()=>d}),()=>(0,r.h)("form",{class:"q-form",ref:c,onSubmit:m,onReset:g},(0,l.KR)(t.default))}})},6602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(9835),i=n(499),s=n(883),o=n(5987),a=n(2026),l=n(5439);const u=(0,o.L)({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=(0,r.FN)(),u=(0,r.f3)(l.YE,(()=>{console.error("QHeader needs to be child of QLayout")})),c=(0,i.iH)(parseInt(e.heightHint,10)),h=(0,i.iH)(!0),d=(0,r.Fl)((()=>!0===e.reveal||u.view.value.indexOf("H")>-1||o.platform.is.ios&&!0===u.isContainer.value)),f=(0,r.Fl)((()=>{if(!0!==e.modelValue)return 0;if(!0===d.value)return!0===h.value?c.value:0;const t=c.value-u.scroll.value.position;return t>0?t:0})),p=(0,r.Fl)((()=>!0!==e.modelValue||!0===d.value&&!0!==h.value)),m=(0,r.Fl)((()=>!0===e.modelValue&&!0===p.value&&!0===e.reveal)),g=(0,r.Fl)((()=>"q-header q-layout__section--marginal "+(!0===d.value?"fixed":"absolute")+"-top"+(!0===e.bordered?" q-header--bordered":"")+(!0===p.value?" q-header--hidden":"")+(!0!==e.modelValue?" q-layout--prevent-focus":""))),v=(0,r.Fl)((()=>{const e=u.rows.value.top,t={};return"l"===e[0]&&!0===u.left.space&&(t[!0===o.lang.rtl?"right":"left"]=`${u.left.size}px`),"r"===e[2]&&!0===u.right.space&&(t[!0===o.lang.rtl?"left":"right"]=`${u.right.size}px`),t}));function y(e,t){u.update("header",e,t)}function _(e,t){e.value!==t&&(e.value=t)}function w({height:e}){_(c,e),y("size",e)}function b(e){!0===m.value&&_(h,!0),n("focusin",e)}(0,r.YP)((()=>e.modelValue),(e=>{y("space",e),_(h,!0),u.animate()})),(0,r.YP)(f,(e=>{y("offset",e)})),(0,r.YP)((()=>e.reveal),(t=>{!1===t&&_(h,e.modelValue)})),(0,r.YP)(h,(e=>{u.animate(),n("reveal",e)})),(0,r.YP)(u.scroll,(t=>{!0===e.reveal&&_(h,"up"===t.direction||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)}));const S={};return u.instances.header=S,!0===e.modelValue&&y("size",c.value),y("space",e.modelValue),y("offset",f.value),(0,r.Jd)((()=>{u.instances.header===S&&(u.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))})),()=>{const n=(0,a.Bl)(t.default,[]);return!0===e.elevated&&n.push((0,r.h)("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push((0,r.h)(s.Z,{debounce:0,onResize:w})),(0,r.h)("header",{class:g.value,style:v.value,onFocusin:b},n)}}})},2857:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});n(702);var r=n(9835),i=n(244),s=n(5987),o=n(2026);const a="0 0 24 24",l=e=>e,u=e=>`ionicons ${e}`,c={"mdi-":e=>`mdi ${e}`,"icon-":l,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":u,"ion-ios":u,"ion-logo":u,"iconfont ":l,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},h={o_:"-outlined",r_:"-round",s_:"-sharp"},d=new RegExp("^("+Object.keys(c).join("|")+")"),f=new RegExp("^("+Object.keys(h).join("|")+")"),p=/^[Mm]\s?[-+]?\.?\d/,m=/^img:/,g=/^svguse:/,v=/^ion-/,y=/^(fa-(solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /,_=(0,s.L)({name:"QIcon",props:{...i.LU,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),s=(0,i.ZP)(e),l=(0,r.Fl)((()=>"q-icon"+(!0===e.left?" on-left":"")+(!0===e.right?" on-right":"")+(void 0!==e.color?` text-${e.color}`:""))),u=(0,r.Fl)((()=>{let t,i=e.name;if("none"===i||!i)return{none:!0};if(null!==n.iconMapFn){const e=n.iconMapFn(i);if(void 0!==e){if(void 0===e.icon)return{cls:e.cls,content:void 0!==e.content?e.content:" "};if(i=e.icon,"none"===i||!i)return{none:!0}}}if(!0===p.test(i)){const[e,t=a]=i.split("|");return{svg:!0,viewBox:t,nodes:e.split("&&").map((e=>{const[t,n,i]=e.split("@@");return(0,r.h)("path",{style:n,d:t,transform:i})}))}}if(!0===m.test(i))return{img:!0,src:i.substring(4)};if(!0===g.test(i)){const[e,t=a]=i.split("|");return{svguse:!0,src:e.substring(7),viewBox:t}}let s=" ";const o=i.match(d);if(null!==o)t=c[o[1]](i);else if(!0===y.test(i))t=i;else if(!0===v.test(i))t=`ionicons ion-${!0===n.platform.is.ios?"ios":"md"}${i.substring(3)}`;else{t="notranslate material-icons";const e=i.match(f);null!==e&&(i=i.substring(2),t+=h[e[1]]),s=i}return{cls:t,content:s}}));return()=>{const n={class:l.value,style:s.value,"aria-hidden":"true",role:"presentation"};return!0===u.value.none?(0,r.h)(e.tag,n,(0,o.KR)(t.default)):!0===u.value.img?(0,r.h)("span",n,(0,o.vs)(t.default,[(0,r.h)("img",{src:u.value.src})])):!0===u.value.svg?(0,r.h)("span",n,(0,o.vs)(t.default,[(0,r.h)("svg",{viewBox:u.value.viewBox},u.value.nodes)])):!0===u.value.svguse?(0,r.h)("span",n,(0,o.vs)(t.default,[(0,r.h)("svg",{viewBox:u.value.viewBox},[(0,r.h)("use",{"xlink:href":u.value.src})])])):(void 0!==u.value.cls&&(n.class+=" "+u.value.cls),(0,r.h)(e.tag,n,(0,o.vs)(t.default,[u.value.content])))}}})},335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(499),i=n(9835),s=n(1957),o=n(3940);const a={ratio:[String,Number]};function l(e,t){return(0,i.Fl)((()=>{const n=Number(e.ratio||(void 0!==t?t.value:void 0));return!0!==isNaN(n)&&n>0?{paddingBottom:100/n+"%"}:null}))}var u=n(5987),c=n(2026);n(7506);const h=16/9,d=(0,u.L)({name:"QImg",props:{...a,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:h},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const a=(0,r.iH)(e.initialRatio),u=l(e,a);let h;const d=[(0,r.iH)(null),(0,r.iH)(void 0!==e.placeholderSrc?{src:e.placeholderSrc}:null)],f=(0,r.iH)(0),p=(0,r.iH)(!1),m=(0,r.iH)(!1),g=(0,i.Fl)((()=>`q-img q-img--${!0===e.noNativeMenu?"no-":""}menu`)),v=(0,i.Fl)((()=>({width:e.width,height:e.height}))),y=(0,i.Fl)((()=>"q-img__image "+(void 0!==e.imgClass?e.imgClass+" ":"")+`q-img__image--with${!0===e.noTransition?"out":""}-transition`)),_=(0,i.Fl)((()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position})));function w(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function b(e){if(clearTimeout(h),m.value=!1,null===e)return p.value=!1,d[0].value=null,void(d[1].value=null);p.value=!0,d[f.value].value=e}function S({target:e}){null!==h&&(clearTimeout(h),a.value=0===e.naturalHeight?.5:e.naturalWidth/e.naturalHeight,k(e,1))}function k(e,t){null!==h&&1e3!==t&&(!0===e.complete?T(e):h=setTimeout((()=>{k(e,t+1)}),50))}function T(e){null!==h&&(f.value=1===f.value?0:1,d[f.value].value=null,p.value=!1,m.value=!1,n("load",e.currentSrc||e.src))}function I(e){clearTimeout(h),p.value=!1,m.value=!0,d[0].value=null,d[1].value=null,n("error",e)}function E(e,t){return(0,i.h)("div",{class:"q-img__container absolute-full",key:e},t)}function C(t){const n=d[t].value,r={key:"img_"+t,class:y.value,style:_.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...n};return f.value===t?(r.class+=" q-img__image--waiting",Object.assign(r,{onLoad:S,onError:I})):r.class+=" q-img__image--loaded",E("img"+t,(0,i.h)("img",r))}function x(){return!0!==p.value?(0,i.h)("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},(0,c.KR)(t[!0===m.value?"error":"default"])):(0,i.h)("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},void 0!==t.loading?t.loading():!0===e.noSpinner?void 0:[(0,i.h)(o.Z,{color:e.spinnerColor,size:e.spinnerSize})])}return(0,i.YP)((()=>w()),b),b(w()),(0,i.Jd)((()=>{clearTimeout(h),h=null})),()=>{const t=[];return null!==u.value&&t.push((0,i.h)("div",{key:"filler",style:u.value})),!0!==m.value&&(null!==d[0].value&&t.push(C(0)),null!==d[1].value&&t.push(C(1))),t.push((0,i.h)(s.uT,{name:"q-transition--fade"},x)),(0,i.h)("div",{class:g.value,style:v.value,role:"img","aria-label":e.alt},t)}}})},6611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});n(702),n(6727);var r=n(499),i=n(9835),s=n(4006),o=(n(8964),n(1705));const a={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},l={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},u=Object.keys(l);u.forEach((e=>{l[e].regex=new RegExp(l[e].pattern)}));const c=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+u.join("")+"])|(.)","g"),h=/[.*+?^${}()|[\]\\]/g,d=String.fromCharCode(1),f={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function p(e,t,n,s){let u,f,p,m;const g=(0,r.iH)(null),v=(0,r.iH)(_());function y(){return!0===e.autogrow||["textarea","text","search","url","tel","password"].includes(e.type)}function _(){if(b(),!0===g.value){const t=E(x(e.modelValue));return!1!==e.fillMask?A(t):t}return e.modelValue}function w(e){if(e<u.length)return u.slice(-e);let t="",n=u;const r=n.indexOf(d);if(r>-1){for(let r=e-n.length;r>0;r--)t+=d;n=n.slice(0,r)+t+n.slice(r)}return n}function b(){if(g.value=void 0!==e.mask&&e.mask.length>0&&y(),!1===g.value)return m=void 0,u="",void(f="");const t=void 0===a[e.mask]?e.mask:a[e.mask],n="string"===typeof e.fillMask&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",r=n.replace(h,"\\$&"),i=[],s=[],o=[];let v=!0===e.reverseFillMask,_="",w="";t.replace(c,((e,t,n,r,a)=>{if(void 0!==r){const e=l[r];o.push(e),w=e.negate,!0===v&&(s.push("(?:"+w+"+)?("+e.pattern+"+)?(?:"+w+"+)?("+e.pattern+"+)?"),v=!1),s.push("(?:"+w+"+)?("+e.pattern+")?")}else if(void 0!==n)_="\\"+("\\"===n?"":n),o.push(n),i.push("([^"+_+"]+)?"+_+"?");else{const e=void 0!==t?t:a;_="\\"===e?"\\\\\\\\":e.replace(h,"\\\\$&"),o.push(e),i.push("([^"+_+"]+)?"+_+"?")}}));const b=new RegExp("^"+i.join("")+"("+(""===_?".":"[^"+_+"]")+"+)?$"),S=s.length-1,k=s.map(((t,n)=>0===n&&!0===e.reverseFillMask?new RegExp("^"+r+"*"+t):n===S?new RegExp("^"+t+"("+(""===w?".":w)+"+)?"+(!0===e.reverseFillMask?"$":r+"*")):new RegExp("^"+t)));p=o,m=e=>{const t=b.exec(e);null!==t&&(e=t.slice(1).join(""));const n=[],r=k.length;for(let i=0,s=e;i<r;i++){const e=k[i].exec(s);if(null===e)break;s=s.slice(e.shift().length),n.push(...e)}return n.length>0?n.join(""):e},u=o.map((e=>"string"===typeof e?e:d)).join(""),f=u.split(d).join(n)}function S(t,r,o){const a=s.value,l=a.selectionEnd,c=a.value.length-l,h=x(t);!0===r&&b();const p=E(h),m=!1!==e.fillMask?A(p):p,g=v.value!==m;a.value!==m&&(a.value=m),!0===g&&(v.value=m),document.activeElement===a&&(0,i.Y3)((()=>{if(m!==f)if("insertFromPaste"!==o||!0===e.reverseFillMask)if(["deleteContentBackward","deleteContentForward"].indexOf(o)>-1){const t=!0===e.reverseFillMask?0===l?m.length>p.length?1:0:Math.max(0,m.length-(m===f?0:Math.min(p.length,c)+1))+1:l;a.setSelectionRange(t,t,"forward")}else if(!0===e.reverseFillMask)if(!0===g){const e=Math.max(0,m.length-(m===f?0:Math.min(p.length,c+1)));1===e&&1===l?a.setSelectionRange(e,e,"forward"):T.rightReverse(a,e,e)}else{const e=m.length-c;a.setSelectionRange(e,e,"backward")}else if(!0===g){const e=Math.max(0,u.indexOf(d),Math.min(p.length,l)-1);T.right(a,e,e)}else{const e=l-1;T.right(a,e,e)}else{const e=l-1;T.right(a,e,e)}else{const t=!0===e.reverseFillMask?f.length:0;a.setSelectionRange(t,t,"forward")}}));const y=!0===e.unmaskedValue?x(m):m;String(e.modelValue)!==y&&n(y,!0)}function k(e,t,n){const r=E(x(e.value));t=Math.max(0,u.indexOf(d),Math.min(r.length,t)),e.setSelectionRange(t,n,"forward")}(0,i.YP)((()=>e.type+e.autogrow),b),(0,i.YP)((()=>e.mask),(n=>{if(void 0!==n)S(v.value,!0);else{const n=x(v.value);b(),e.modelValue!==n&&t("update:modelValue",n)}})),(0,i.YP)((()=>e.fillMask+e.reverseFillMask),(()=>{!0===g.value&&S(v.value,!0)})),(0,i.YP)((()=>e.unmaskedValue),(()=>{!0===g.value&&S(v.value)}));const T={left(e,t,n,r){const i=-1===u.slice(t-1).indexOf(d);let s=Math.max(0,t-1);for(;s>=0;s--)if(u[s]===d){t=s,!0===i&&t++;break}if(s<0&&void 0!==u[t]&&u[t]!==d)return T.right(e,0,0);t>=0&&e.setSelectionRange(t,!0===r?n:t,"backward")},right(e,t,n,r){const i=e.value.length;let s=Math.min(i,n+1);for(;s<=i;s++){if(u[s]===d){n=s;break}u[s-1]===d&&(n=s)}if(s>i&&void 0!==u[n-1]&&u[n-1]!==d)return T.left(e,i,i);e.setSelectionRange(r?t:n,n,"forward")},leftReverse(e,t,n,r){const i=w(e.value.length);let s=Math.max(0,t-1);for(;s>=0;s--){if(i[s-1]===d){t=s;break}if(i[s]===d&&(t=s,0===s))break}if(s<0&&void 0!==i[t]&&i[t]!==d)return T.rightReverse(e,0,0);t>=0&&e.setSelectionRange(t,!0===r?n:t,"backward")},rightReverse(e,t,n,r){const i=e.value.length,s=w(i),o=-1===s.slice(0,n+1).indexOf(d);let a=Math.min(i,n+1);for(;a<=i;a++)if(s[a-1]===d){n=a,n>0&&!0===o&&n--;break}if(a>i&&void 0!==s[n-1]&&s[n-1]!==d)return T.leftReverse(e,i,i);e.setSelectionRange(!0===r?t:n,n,"forward")}};function I(t){if(!0===(0,o.Wm)(t))return;const n=s.value,r=n.selectionStart,i=n.selectionEnd;if(37===t.keyCode||39===t.keyCode){const s=T[(39===t.keyCode?"right":"left")+(!0===e.reverseFillMask?"Reverse":"")];t.preventDefault(),s(n,r,i,t.shiftKey)}else 8===t.keyCode&&!0!==e.reverseFillMask&&r===i?T.left(n,r,i,!0):46===t.keyCode&&!0===e.reverseFillMask&&r===i&&T.rightReverse(n,r,i,!0)}function E(t){if(void 0===t||null===t||""===t)return"";if(!0===e.reverseFillMask)return C(t);const n=p;let r=0,i="";for(let e=0;e<n.length;e++){const s=t[r],o=n[e];if("string"===typeof o)i+=o,s===o&&r++;else{if(void 0===s||!o.regex.test(s))return i;i+=void 0!==o.transform?o.transform(s):s,r++}}return i}function C(e){const t=p,n=u.indexOf(d);let r=e.length-1,i="";for(let s=t.length-1;s>=0&&r>-1;s--){const o=t[s];let a=e[r];if("string"===typeof o)i=o+i,a===o&&r--;else{if(void 0===a||!o.regex.test(a))return i;do{i=(void 0!==o.transform?o.transform(a):a)+i,r--,a=e[r]}while(n===s&&void 0!==a&&o.regex.test(a))}}return i}function x(e){return"string"!==typeof e||void 0===m?"number"===typeof e?m(""+e):e:m(e)}function A(t){return f.length-t.length<=0?t:!0===e.reverseFillMask&&t.length>0?f.slice(0,-t.length)+t:t+f.slice(t.length)}return{innerValue:v,hasMask:g,moveCursorForPaste:k,updateMaskValue:S,onMaskedKeydown:I}}var m=n(9256);function g(e,t){function n(){const t=e.modelValue;try{const e="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(t)===t&&("length"in t?Array.from(t):[t]).forEach((t=>{e.items.add(t)})),{files:e.files}}catch(n){return{files:void 0}}}return!0===t?(0,i.Fl)((()=>{if("file"===e.type)return n()})):(0,i.Fl)(n)}var v=n(2802),y=n(5987),_=n(1384),w=n(7026);const b=(0,y.L)({name:"QInput",inheritAttrs:!1,props:{...s.Cl,...f,...m.Fz,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...s.HJ,"paste","change"],setup(e,{emit:t,attrs:n}){const o={};let a,l,u,c,h=NaN;const d=(0,r.iH)(null),f=(0,m.Do)(e),{innerValue:y,hasMask:b,moveCursorForPaste:S,updateMaskValue:k,onMaskedKeydown:T}=p(e,t,F,d),I=g(e,!0),E=(0,i.Fl)((()=>(0,s.yV)(y.value))),C=(0,v.Z)(M),x=(0,s.tL)(),A=(0,i.Fl)((()=>"textarea"===e.type||!0===e.autogrow)),R=(0,i.Fl)((()=>!0===A.value||["text","search","url","tel","password"].includes(e.type))),P=(0,i.Fl)((()=>{const t={...x.splitAttrs.listeners.value,onInput:M,onPaste:L,onChange:U,onBlur:V,onFocus:_.sT};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=C,!0===b.value&&(t.onKeydown=T),!0===e.autogrow&&(t.onAnimationend=q),t})),N=(0,i.Fl)((()=>{const t={tabindex:0,"data-autofocus":!0===e.autofocus||void 0,rows:"textarea"===e.type?6:void 0,"aria-label":e.label,name:f.value,...x.splitAttrs.attributes.value,id:x.targetUid.value,maxlength:e.maxlength,disabled:!0===e.disable,readonly:!0===e.readonly};return!1===A.value&&(t.type=e.type),!0===e.autogrow&&(t.rows=1),t}));function O(){(0,w.jd)((()=>{const e=document.activeElement;null===d.value||d.value===e||null!==e&&e.id===x.targetUid.value||d.value.focus({preventScroll:!0})}))}function D(){null!==d.value&&d.value.select()}function L(n){if(!0===b.value&&!0!==e.reverseFillMask){const e=n.target;S(e,e.selectionStart,e.selectionEnd)}t("paste",n)}function M(n){if(!n||!n.target||!0===n.target.composing)return;if("file"===e.type)return void t("update:modelValue",n.target.files);const r=n.target.value;if(!0===b.value)k(r,!1,n.inputType);else if(F(r),!0===R.value&&n.target===document.activeElement){const{selectionStart:e,selectionEnd:t}=n.target;void 0!==e&&void 0!==t&&(0,i.Y3)((()=>{n.target===document.activeElement&&0===r.indexOf(n.target.value)&&n.target.setSelectionRange(e,t)}))}!0===e.autogrow&&q()}function F(n,r){c=()=>{"number"!==e.type&&!0===o.hasOwnProperty("value")&&delete o.value,e.modelValue!==n&&h!==n&&(!0===r&&(l=!0),t("update:modelValue",n),(0,i.Y3)((()=>{h===n&&(h=NaN)}))),c=void 0},"number"===e.type&&(a=!0,o.value=n),void 0!==e.debounce?(clearTimeout(u),o.value=n,u=setTimeout(c,e.debounce)):c()}function q(){const e=d.value;if(null!==e){const t=e.parentNode.style;t.marginBottom=e.scrollHeight-1+"px",e.style.height="1px",e.style.height=e.scrollHeight+"px",t.marginBottom=""}}function U(e){C(e),clearTimeout(u),void 0!==c&&c(),t("change",e.target.value)}function V(t){void 0!==t&&(0,_.sT)(t),clearTimeout(u),void 0!==c&&c(),a=!1,l=!1,delete o.value,"file"!==e.type&&setTimeout((()=>{null!==d.value&&(d.value.value=void 0!==y.value?y.value:"")}))}function B(){return!0===o.hasOwnProperty("value")?o.value:void 0!==y.value?y.value:""}(0,i.YP)((()=>e.type),(()=>{d.value&&(d.value.value=e.modelValue)})),(0,i.YP)((()=>e.modelValue),(t=>{if(!0===b.value){if(!0===l&&(l=!1,String(t)===h))return;k(t)}else y.value!==t&&(y.value=t,"number"===e.type&&!0===o.hasOwnProperty("value")&&(!0===a?a=!1:delete o.value));!0===e.autogrow&&(0,i.Y3)(q)})),(0,i.YP)((()=>e.autogrow),(e=>{!0===e?(0,i.Y3)(q):null!==d.value&&n.rows>0&&(d.value.style.height="auto")})),(0,i.YP)((()=>e.dense),(()=>{!0===e.autogrow&&(0,i.Y3)(q)})),(0,i.Jd)((()=>{V()})),(0,i.bv)((()=>{!0===e.autogrow&&q()})),Object.assign(x,{innerValue:y,fieldClass:(0,i.Fl)((()=>"q-"+(!0===A.value?"textarea":"input")+(!0===e.autogrow?" q-textarea--autogrow":""))),hasShadow:(0,i.Fl)((()=>"file"!==e.type&&"string"===typeof e.shadowText&&e.shadowText.length>0)),inputRef:d,emitValue:F,hasValue:E,floatingLabel:(0,i.Fl)((()=>!0===E.value||(0,s.yV)(e.displayValue))),getControl:()=>(0,i.h)(!0===A.value?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...N.value,...P.value,..."file"!==e.type?{value:B()}:I.value}),getShadowControl:()=>(0,i.h)("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(!0===A.value?"":" text-no-wrap")},[(0,i.h)("span",{class:"invisible"},B()),(0,i.h)("span",e.shadowText)])});const j=(0,s.ZP)(x),$=(0,i.FN)();return Object.assign($.proxy,{focus:O,select:D,getNativeElement:()=>d.value}),j}})},490:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(9835),i=n(499),s=n(8234),o=n(945),a=n(5987),l=n(2026),u=n(1384),c=n(1705);const h=(0,a.L)({name:"QItem",props:{...s.S,...o.$,tag:{type:String,default:"div"},active:Boolean,clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=(0,r.FN)(),h=(0,s.Z)(e,a),{hasRouterLink:d,hasLink:f,linkProps:p,linkClass:m,linkTag:g,navigateToRouterLink:v}=(0,o.Z)(),y=(0,i.iH)(null),_=(0,i.iH)(null),w=(0,r.Fl)((()=>!0===e.clickable||!0===f.value||"label"===e.tag)),b=(0,r.Fl)((()=>!0!==e.disable&&!0===w.value)),S=(0,r.Fl)((()=>"q-item q-item-type row no-wrap"+(!0===e.dense?" q-item--dense":"")+(!0===h.value?" q-item--dark":"")+(!0===f.value?m.value:!0===e.active?(void 0!==e.activeClass?` ${e.activeClass}`:"")+" q-item--active":"")+(!0===e.disable?" disabled":"")+(!0===b.value?" q-item--clickable q-link cursor-pointer "+(!0===e.manualFocus?"q-manual-focusable":"q-focusable q-hoverable")+(!0===e.focused?" q-manual-focusable--focused":""):""))),k=(0,r.Fl)((()=>{if(void 0===e.insetLevel)return null;const t=!0===a.lang.rtl?"Right":"Left";return{["padding"+t]:16+56*e.insetLevel+"px"}}));function T(e){!0===b.value&&(null!==_.value&&(!0!==e.qKeyEvent&&document.activeElement===y.value?_.value.focus():document.activeElement===_.value&&y.value.focus()),!0===d.value&&v(e),n("click",e))}function I(e){if(!0===b.value&&!0===(0,c.So)(e,13)){(0,u.NS)(e),e.qKeyEvent=!0;const t=new MouseEvent("click",e);t.qKeyEvent=!0,y.value.dispatchEvent(t)}n("keyup",e)}function E(){const e=(0,l.Bl)(t.default,[]);return!0===b.value&&e.unshift((0,r.h)("div",{class:"q-focus-helper",tabindex:-1,ref:_})),e}return()=>{const t={ref:y,class:S.value,style:k.value,onClick:T,onKeyup:I};return!0===b.value?(t.tabindex=e.tabindex||"0",Object.assign(t,p.value)):!0===w.value&&(t["aria-disabled"]="true"),(0,r.h)(g.value,t,E())}}})},3115:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9835),i=n(5987),s=n(2026);const o=(0,i.L)({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=(0,r.Fl)((()=>parseInt(e.lines,10))),i=(0,r.Fl)((()=>"q-item__label"+(!0===e.overline?" q-item__label--overline text-overline":"")+(!0===e.caption?" q-item__label--caption text-caption":"")+(!0===e.header?" q-item__label--header":"")+(1===n.value?" ellipsis":""))),o=(0,r.Fl)((()=>void 0!==e.lines&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null));return()=>(0,r.h)("div",{style:o.value,class:i.value},(0,s.KR)(t.default))}})},1233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9835),i=n(5987),s=n(2026);const o=(0,i.L)({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=(0,r.Fl)((()=>"q-item__section column q-item__section--"+(!0===e.avatar||!0===e.side||!0===e.thumbnail?"side":"main")+(!0===e.top?" q-item__section--top justify-start":" justify-center")+(!0===e.avatar?" q-item__section--avatar":"")+(!0===e.thumbnail?" q-item__section--thumbnail":"")+(!0===e.noWrap?" q-item__section--nowrap":"")));return()=>(0,r.h)("div",{class:n.value},(0,s.KR)(t.default))}})},3246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9835),i=n(5987),s=n(8234),o=n(2026);const a=(0,i.L)({name:"QList",props:{...s.S,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(e,{slots:t}){const n=(0,r.FN)(),i=(0,s.Z)(e,n.proxy.$q),a=(0,r.Fl)((()=>"q-list"+(!0===e.bordered?" q-list--bordered":"")+(!0===e.dense?" q-list--dense":"")+(!0===e.separator?" q-list--separator":"")+(!0===i.value?" q-list--dark":"")+(!0===e.padding?" q-list--padding":"")));return()=>(0,r.h)("div",{class:a.value},(0,o.KR)(t.default))}})},7605:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(9835),i=n(499),s=n(7506),o=(n(6727),n(702),n(5987)),a=n(3701),l=n(1384);const{passive:u}=l.rU,c=["both","horizontal","vertical"],h=(0,o.L)({name:"QScrollObserver",props:{axis:{type:String,validator:e=>c.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:t}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i,s,o=null;function c(){null!==o&&o();const r=Math.max(0,(0,a.u3)(i)),s=(0,a.OI)(i),l={top:r-n.position.top,left:s-n.position.left};if("vertical"===e.axis&&0===l.top||"horizontal"===e.axis&&0===l.left)return;const u=Math.abs(l.top)>=Math.abs(l.left)?l.top<0?"up":"down":l.left<0?"left":"right";n.position={top:r,left:s},n.directionChanged=n.direction!==u,n.delta=l,!0===n.directionChanged&&(n.direction=u,n.inflectionPoint=n.position),t("scroll",{...n})}function h(){i=(0,a.b0)(s,e.scrollTarget),i.addEventListener("scroll",f,u),f(!0)}function d(){void 0!==i&&(i.removeEventListener("scroll",f,u),i=void 0)}function f(t){if(!0===t||0===e.debounce||"0"===e.debounce)c();else if(null===o){const[t,n]=e.debounce?[setTimeout(c,e.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];o=()=>{n(t),o=null}}}(0,r.YP)((()=>e.scrollTarget),(()=>{d(),h()}));const p=(0,r.FN)();return(0,r.bv)((()=>{s=p.proxy.$el.parentNode,h()})),(0,r.Jd)((()=>{null!==o&&o(),d()})),Object.assign(p.proxy,{trigger:f,getPosition:()=>n}),l.ZT}});var d=n(883),f=n(2026),p=n(5439);const m=(0,o.L)({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=(0,r.FN)(),l=(0,i.iH)(null),u=(0,i.iH)(o.screen.height),c=(0,i.iH)(!0===e.container?0:o.screen.width),m=(0,i.iH)({position:0,direction:"down",inflectionPoint:0}),g=(0,i.iH)(0),v=(0,i.iH)(!0===s.uX.value?0:(0,a.np)()),y=(0,r.Fl)((()=>"q-layout q-layout--"+(!0===e.container?"containerized":"standard"))),_=(0,r.Fl)((()=>!1===e.container?{minHeight:o.screen.height+"px"}:null)),w=(0,r.Fl)((()=>0!==v.value?{[!0===o.lang.rtl?"left":"right"]:`${v.value}px`}:null)),b=(0,r.Fl)((()=>0!==v.value?{[!0===o.lang.rtl?"right":"left"]:0,[!0===o.lang.rtl?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null));function S(t){if(!0===e.container||!0!==document.qScrollPrevented){const r={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};m.value=r,void 0!==e.onScroll&&n("scroll",r)}}function k(t){const{height:r,width:i}=t;let s=!1;u.value!==r&&(s=!0,u.value=r,void 0!==e.onScrollHeight&&n("scroll-height",r),I()),c.value!==i&&(s=!0,c.value=i),!0===s&&void 0!==e.onResize&&n("resize",t)}function T({height:e}){g.value!==e&&(g.value=e,I())}function I(){if(!0===e.container){const e=u.value>g.value?(0,a.np)():0;v.value!==e&&(v.value=e)}}let E;const C={instances:{},view:(0,r.Fl)((()=>e.view)),isContainer:(0,r.Fl)((()=>e.container)),rootRef:l,height:u,containerHeight:g,scrollbarWidth:v,totalWidth:(0,r.Fl)((()=>c.value+v.value)),rows:(0,r.Fl)((()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}})),header:(0,i.qj)({size:0,offset:0,space:!1}),right:(0,i.qj)({size:300,offset:0,space:!1}),footer:(0,i.qj)({size:0,offset:0,space:!1}),left:(0,i.qj)({size:300,offset:0,space:!1}),scroll:m,animate(){void 0!==E?clearTimeout(E):document.body.classList.add("q-body--layout-animate"),E=setTimeout((()=>{document.body.classList.remove("q-body--layout-animate"),E=void 0}),155)},update(e,t,n){C[e][t]=n}};if((0,r.JJ)(p.YE,C),(0,a.np)()>0){let x=null;const A=document.body;function R(){x=null,A.classList.remove("hide-scrollbar")}function P(){if(null===x){if(A.scrollHeight>o.screen.height)return;A.classList.add("hide-scrollbar")}else clearTimeout(x);x=setTimeout(R,300)}function N(e){null!==x&&"remove"===e&&(clearTimeout(x),R()),window[`${e}EventListener`]("resize",P)}(0,r.YP)((()=>!0!==e.container?"add":"remove"),N),!0!==e.container&&N("add"),(0,r.Ah)((()=>{N("remove")}))}return()=>{const n=(0,f.vs)(t.default,[(0,r.h)(h,{onScroll:S}),(0,r.h)(d.Z,{onResize:k})]),i=(0,r.h)("div",{class:y.value,style:_.value,ref:!0===e.container?void 0:l},n);return!0===e.container?(0,r.h)("div",{class:"q-layout-container overflow-hidden",ref:l},[(0,r.h)(d.Z,{onResize:T}),(0,r.h)("div",{class:"absolute-full",style:w.value},[(0,r.h)("div",{class:"scroll",style:b.value},[i])])]):i}}})},9885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9835),i=n(5987),s=n(2026),o=n(5439);const a=(0,i.L)({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),i=(0,r.f3)(o.YE);(0,r.f3)(o.Mw,(()=>{console.error("QPage needs to be child of QPageContainer")}));const a=(0,r.Fl)((()=>{const t=(!0===i.header.space?i.header.size:0)+(!0===i.footer.space?i.footer.size:0);if("function"===typeof e.styleFn){const r=!0===i.isContainer.value?i.containerHeight.value:n.screen.height;return e.styleFn(t,r)}return{minHeight:!0===i.isContainer.value?i.containerHeight.value-t+"px":0===n.screen.height?0!==t?`calc(100vh - ${t}px)`:"100vh":n.screen.height-t+"px"}})),l=(0,r.Fl)((()=>"q-page "+(!0===e.padding?" q-layout-padding":"")));return()=>(0,r.h)("main",{class:l.value,style:a.value},(0,s.KR)(t.default))}})},2133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9835),i=n(5987),s=n(2026),o=n(5439);const a=(0,i.L)({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),i=(0,r.f3)(o.YE,(()=>{console.error("QPageContainer needs to be child of QLayout")}));(0,r.JJ)(o.Mw,!0);const a=(0,r.Fl)((()=>{const e={};return!0===i.header.space&&(e.paddingTop=`${i.header.size}px`),!0===i.right.space&&(e["padding"+(!0===n.lang.rtl?"Left":"Right")]=`${i.right.size}px`),!0===i.footer.space&&(e.paddingBottom=`${i.footer.size}px`),!0===i.left.space&&(e["padding"+(!0===n.lang.rtl?"Right":"Left")]=`${i.left.size}px`),e}));return()=>(0,r.h)("div",{class:"q-page-container",style:a.value},(0,s.KR)(t.default))}})},883:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(9835),i=n(499),s=n(7506);function o(){const e=(0,i.iH)(!s.uX.value);return!1===e.value&&(0,r.bv)((()=>{e.value=!0})),e}var a=n(5987),l=n(1384);const u="undefined"!==typeof ResizeObserver,c=!0===u?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},h=(0,a.L)({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n,i=null,s={width:-1,height:-1};function a(t){!0===t||0===e.debounce||"0"===e.debounce?h():null===i&&(i=setTimeout(h,e.debounce))}function h(){if(clearTimeout(i),i=null,n){const{offsetWidth:e,offsetHeight:r}=n;e===s.width&&r===s.height||(s={width:e,height:r},t("resize",s))}}const d=(0,r.FN)();if(Object.assign(d.proxy,{trigger:a}),!0===u){let f;return(0,r.bv)((()=>{(0,r.Y3)((()=>{n=d.proxy.$el.parentNode,n&&(f=new ResizeObserver(a),f.observe(n),h())}))})),(0,r.Jd)((()=>{clearTimeout(i),void 0!==f&&(void 0!==f.disconnect?f.disconnect():n&&f.unobserve(n))})),l.ZT}{const p=o();let m;function g(){clearTimeout(i),void 0!==m&&(void 0!==m.removeEventListener&&m.removeEventListener("resize",a,l.rU.passive),m=void 0)}function v(){g(),n&&n.contentDocument&&(m=n.contentDocument.defaultView,m.addEventListener("resize",a,l.rU.passive),h())}return(0,r.bv)((()=>{(0,r.Y3)((()=>{n=d.proxy.$el,n&&v()}))})),(0,r.Jd)(g),()=>{if(!0===p.value)return(0,r.h)("object",{style:c.style,tabindex:-1,type:"text/html",data:c.url,"aria-hidden":"true",onLoad:v})}}}})},7873:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ye});n(6727),n(702);var r=n(9835),i=n(499),s=n(8149),o=n(2857),a=n(7691),l=n(490),u=n(1233),c=n(3115),h=n(1957),d=n(2589),f=n(1384),p=n(1705);const m={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function g({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:s,proxy:o,emit:a}=(0,r.FN)(),l=(0,i.iH)(null);let u;function c(e){return null!==l.value&&(void 0===e||void 0===e.touches||e.touches.length<=1)}const h={};function m(){(0,f.ul)(h,"anchor")}function g(e){l.value=e;while(l.value.classList.contains("q-anchor--skip"))l.value=l.value.parentNode;n()}function v(){if(!1===s.target||""===s.target)l.value=null;else if(!0===s.target)g(o.$el.parentNode);else{let t=s.target;if("string"===typeof s.target)try{t=document.querySelector(s.target)}catch(e){t=void 0}void 0!==t&&null!==t?(l.value=t.$el||t,n()):(l.value=null,console.error(`Anchor: target "${s.target}" not found`))}}return void 0===n&&(Object.assign(h,{hide(e){o.hide(e)},toggle(e){o.toggle(e),e.qAnchorHandled=!0},toggleKey(e){!0===(0,p.So)(e,13)&&h.toggle(e)},contextClick(e){o.hide(e),(0,f.X$)(e),(0,r.Y3)((()=>{o.show(e),e.qAnchorHandled=!0}))},prevent:f.X$,mobileTouch(e){if(h.mobileCleanup(e),!0!==c(e))return;o.hide(e),l.value.classList.add("non-selectable");const t=e.target;(0,f.M0)(h,"anchor",[[t,"touchmove","mobileCleanup","passive"],[t,"touchend","mobileCleanup","passive"],[t,"touchcancel","mobileCleanup","passive"],[l.value,"contextmenu","prevent","notPassive"]]),u=setTimeout((()=>{o.show(e),e.qAnchorHandled=!0}),300)},mobileCleanup(t){l.value.classList.remove("non-selectable"),clearTimeout(u),!0===e.value&&void 0!==t&&(0,d.M)()}}),n=function(e=s.contextMenu){if(!0===s.noParentEvent||null===l.value)return;let t;t=!0===e?!0===o.$q.platform.is.mobile?[[l.value,"touchstart","mobileTouch","passive"]]:[[l.value,"mousedown","hide","passive"],[l.value,"contextmenu","contextClick","notPassive"]]:[[l.value,"click","toggle","passive"],[l.value,"keyup","toggleKey","passive"]],(0,f.M0)(h,"anchor",t)}),(0,r.YP)((()=>s.contextMenu),(e=>{null!==l.value&&(m(),n(e))})),(0,r.YP)((()=>s.target),(()=>{null!==l.value&&m(),v()})),(0,r.YP)((()=>s.noParentEvent),(e=>{null!==l.value&&(!0===e?m():n())})),(0,r.bv)((()=>{v(),!0!==t&&!0===s.modelValue&&null===l.value&&a("update:modelValue",!1)})),(0,r.Jd)((()=>{clearTimeout(u),m()})),{anchorEl:l,canShow:c,anchorEvents:h}}function v(e,t){const n=(0,i.iH)(null);let s;function o(e,t){const n=(void 0!==t?"add":"remove")+"EventListener",r=void 0!==t?t:s;e!==window&&e[n]("scroll",r,f.rU.passive),window[n]("scroll",r,f.rU.passive),s=t}function a(){null!==n.value&&(o(n.value),n.value=null)}const l=(0,r.YP)((()=>e.noParentEvent),(()=>{null!==n.value&&(a(),t())}));return(0,r.Jd)(l),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:o}}var y=n(3842),_=n(8234),w=n(1518),b=n(431),S=n(6916),k=n(2695),T=n(5987),I=n(2909),E=n(3701),C=n(2026),x=n(6532),A=n(4173),R=n(223);let P;const{notPassiveCapture:N}=f.rU,O=[];function D(e){clearTimeout(P);const t=e.target;if(void 0===t||8===t.nodeType||!0===t.classList.contains("no-pointer-events"))return;let n=I.wN.length-1;while(n>=0){const e=I.wN[n].$;if("QDialog"!==e.type.name)break;if(!0!==e.props.seamless)return;n--}for(let r=O.length-1;r>=0;r--){const n=O[r];if(null!==n.anchorEl.value&&!1!==n.anchorEl.value.contains(t)||t!==document.body&&(null===n.innerRef.value||!1!==n.innerRef.value.contains(t)))return;e.qClickOutside=!0,n.onClickOutside(e)}}function L(e){O.push(e),1===O.length&&(document.addEventListener("mousedown",D,N),document.addEventListener("touchstart",D,N))}function M(e){const t=O.findIndex((t=>t===e));t>-1&&(O.splice(t,1),0===O.length&&(clearTimeout(P),document.removeEventListener("mousedown",D,N),document.removeEventListener("touchstart",D,N)))}var F=n(7026),q=n(7506);let U,V;function B(e){const t=e.split(" ");return 2===t.length&&(!0!==["top","center","bottom"].includes(t[0])?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):!0===["left","middle","right","start","end"].includes(t[1])||(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1))}function j(e){return!e||2===e.length&&("number"===typeof e[0]&&"number"===typeof e[1])}const $={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};function z(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:$[`${n[1]}#${!0===t?"rtl":"ltr"}`]}}function H(e,t){let{top:n,left:r,right:i,bottom:s,width:o,height:a}=e.getBoundingClientRect();return void 0!==t&&(n-=t[1],r-=t[0],s+=t[1],i+=t[0],o+=t[0],a+=t[1]),{top:n,left:r,right:i,bottom:s,width:o,height:a,middle:r+(i-r)/2,center:n+(s-n)/2}}function W(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function K(e){if(!0===q.Lp.is.ios&&void 0!==window.visualViewport){const e=document.body.style,{offsetLeft:t,offsetTop:n}=window.visualViewport;t!==U&&(e.setProperty("--q-pe-left",t+"px"),U=t),n!==V&&(e.setProperty("--q-pe-top",n+"px"),V=n)}let t;const{scrollLeft:n,scrollTop:r}=e.el;if(void 0===e.absoluteOffset)t=H(e.anchorEl,!0===e.cover?[0,0]:e.offset);else{const{top:n,left:r}=e.anchorEl.getBoundingClientRect(),i=n+e.absoluteOffset.top,s=r+e.absoluteOffset.left;t={top:i,left:s,width:1,height:1,right:s+1,center:i,middle:s,bottom:i+1}}let i={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};!0!==e.fit&&!0!==e.cover||(i.minWidth=t.width+"px",!0===e.cover&&(i.minHeight=t.height+"px")),Object.assign(e.el.style,i);const s=W(e.el),o={top:t[e.anchorOrigin.vertical]-s[e.selfOrigin.vertical],left:t[e.anchorOrigin.horizontal]-s[e.selfOrigin.horizontal]};G(o,t,s,e.anchorOrigin,e.selfOrigin),i={top:o.top+"px",left:o.left+"px"},void 0!==o.maxHeight&&(i.maxHeight=o.maxHeight+"px",t.height>o.maxHeight&&(i.minHeight=i.maxHeight)),void 0!==o.maxWidth&&(i.maxWidth=o.maxWidth+"px",t.width>o.maxWidth&&(i.minWidth=i.maxWidth)),Object.assign(e.el.style,i),e.el.scrollTop!==r&&(e.el.scrollTop=r),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function G(e,t,n,r,i){const s=n.bottom,o=n.right,a=(0,E.np)(),l=window.innerHeight-a,u=document.body.clientWidth;if(e.top<0||e.top+s>l)if("center"===i.vertical)e.top=t[r.vertical]>l/2?Math.max(0,l-s):0,e.maxHeight=Math.min(s,l);else if(t[r.vertical]>l/2){const n=Math.min(l,"center"===r.vertical?t.center:r.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(s,n),e.top=Math.max(0,n-s)}else e.top=Math.max(0,"center"===r.vertical?t.center:r.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(s,l-e.top);if(e.left<0||e.left+o>u)if(e.maxWidth=Math.min(o,u),"middle"===i.horizontal)e.left=t[r.horizontal]>u/2?Math.max(0,u-o):0;else if(t[r.horizontal]>u/2){const n=Math.min(u,"middle"===r.horizontal?t.middle:r.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(o,n),e.left=Math.max(0,n-e.maxWidth)}else e.left=Math.max(0,"middle"===r.horizontal?t.middle:r.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(o,u-e.left)}["left","middle","right"].forEach((e=>{$[`${e}#ltr`]=e,$[`${e}#rtl`]=e}));const Y=(0,T.L)({name:"QMenu",inheritAttrs:!1,props:{...m,...y.vr,..._.S,...b.D,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:B},self:{type:String,validator:B},offset:{type:Array,validator:j},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...y.gH,"click","escape-key"],setup(e,{slots:t,emit:n,attrs:s}){let o,a,l,u=null;const c=(0,r.FN)(),{proxy:d}=c,{$q:p}=d,m=(0,i.iH)(null),T=(0,i.iH)(!1),P=(0,r.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss)),N=(0,_.Z)(e,p),{registerTick:O,removeTick:D}=(0,S.Z)(),{registerTimeout:q,removeTimeout:U}=(0,k.Z)(),{transition:V,transitionStyle:B}=(0,b.Z)(e,T),{localScrollTarget:j,changeScrollEvent:$,unconfigureScrollTarget:H}=v(e,ue),{anchorEl:W,canShow:G}=g({showing:T}),{hide:Y}=(0,y.ZP)({showing:T,canShow:G,handleShow:oe,handleHide:ae,hideOnRouteChange:P,processOnMount:!0}),{showPortal:Z,hidePortal:Q,renderPortal:J}=(0,w.Z)(c,m,pe),X={anchorEl:W,innerRef:m,onClickOutside(t){if(!0!==e.persistent&&!0===T.value)return Y(t),("touchstart"===t.type||t.target.classList.contains("q-dialog__backdrop"))&&(0,f.NS)(t),!0}},ee=(0,r.Fl)((()=>z(e.anchor||(!0===e.cover?"center middle":"bottom start"),p.lang.rtl))),te=(0,r.Fl)((()=>!0===e.cover?ee.value:z(e.self||"top start",p.lang.rtl))),ne=(0,r.Fl)((()=>(!0===e.square?" q-menu--square":"")+(!0===N.value?" q-menu--dark q-dark":""))),re=(0,r.Fl)((()=>!0===e.autoClose?{onClick:ce}:{})),ie=(0,r.Fl)((()=>!0===T.value&&!0!==e.persistent));function se(){(0,F.jd)((()=>{let e=m.value;e&&!0!==e.contains(document.activeElement)&&(e=e.querySelector("[autofocus], [data-autofocus]")||e,e.focus({preventScroll:!0}))}))}function oe(t){if(D(),U(),u=!1===e.noRefocus?document.activeElement:null,(0,A.i)(he),Z(),ue(),o=void 0,void 0!==t&&(e.touchPosition||e.contextMenu)){const e=(0,f.FK)(t);if(void 0!==e.left){const{top:t,left:n}=W.value.getBoundingClientRect();o={left:e.left-n,top:e.top-t}}}void 0===a&&(a=(0,r.YP)((()=>p.screen.width+"|"+p.screen.height+"|"+e.self+"|"+e.anchor+"|"+p.lang.rtl),fe)),!0!==e.noFocus&&document.activeElement.blur(),O((()=>{fe(),!0!==e.noFocus&&se()})),q((()=>{!0===p.platform.is.ios&&(l=e.autoClose,m.value.click()),fe(),Z(!0),n("show",t)}),e.transitionDuration)}function ae(t){D(),U(),Q(),le(!0),null===u||void 0!==t&&!0===t.qClickOutside||(u.focus(),u=null),q((()=>{Q(!0),n("hide",t)}),e.transitionDuration)}function le(e){o=void 0,void 0!==a&&(a(),a=void 0),!0!==e&&!0!==T.value||((0,A.H)(he),H(),M(X),(0,x.k)(de)),!0!==e&&(u=null)}function ue(){null===W.value&&void 0===e.scrollTarget||(j.value=(0,E.b0)(W.value,e.scrollTarget),$(j.value,fe))}function ce(e){!0!==l?((0,I.AH)(d,e),n("click",e)):l=!1}function he(t){!0===ie.value&&!0!==e.noFocus&&!0!==(0,R.mY)(m.value,t.target)&&se()}function de(e){n("escape-key"),Y(e)}function fe(){const t=m.value;null!==t&&null!==W.value&&K({el:t,offset:e.offset,anchorEl:W.value,anchorOrigin:ee.value,selfOrigin:te.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function pe(){return(0,r.h)(h.uT,{name:V.value,appear:!0},(()=>!0===T.value?(0,r.h)("div",{...s,ref:m,tabindex:-1,class:["q-menu q-position-engine scroll"+ne.value,s.class],style:[s.style,B.value],...re.value},(0,C.KR)(t.default)):null))}return(0,r.YP)(ie,(e=>{!0===e?((0,x.c)(de),L(X)):((0,x.k)(de),M(X))})),(0,r.Jd)(le),Object.assign(d,{focus:se,updatePosition:fe}),J}});var Z=n(2074),Q=n(4006),J=(n(8964),n(5583),n(899));let X=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,X=e.scrollLeft>=0,e.remove()}const ee=1e3,te=["start","center","end","start-force","center-force","end-force"],ne=Array.prototype.filter,re=void 0===window.getComputedStyle(document.body).overflowAnchor?f.ZT:function(e,t){requestAnimationFrame((()=>{if(void 0===e)return;const n=e.children||[];ne.call(n,(e=>e.dataset&&void 0!==e.dataset.qVsAnchor)).forEach((e=>{delete e.dataset.qVsAnchor}));const r=n[t];r&&r.dataset&&(r.dataset.qVsAnchor="")}))};function ie(e,t){return e+t}function se(e,t,n,r,i,s,o,a){const l=e===window?document.scrollingElement||document.documentElement:e,u=!0===i?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-o-a,scrollMaxSize:0,offsetStart:-o,offsetEnd:-a};if(!0===i?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=l.scrollLeft,c.scrollViewSize+=l.clientWidth),c.scrollMaxSize=l.scrollWidth,!0===s&&(c.scrollStart=(!0===X?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=l.scrollTop,c.scrollViewSize+=l.clientHeight),c.scrollMaxSize=l.scrollHeight),null!==n)for(let h=n.previousElementSibling;null!==h;h=h.previousElementSibling)!1===h.classList.contains("q-virtual-scroll--skip")&&(c.offsetStart+=h[u]);if(null!==r)for(let h=r.nextElementSibling;null!==h;h=h.nextElementSibling)!1===h.classList.contains("q-virtual-scroll--skip")&&(c.offsetEnd+=h[u]);if(t!==e){const n=l.getBoundingClientRect(),r=t.getBoundingClientRect();!0===i?(c.offsetStart+=r.left-n.left,c.offsetEnd-=r.width):(c.offsetStart+=r.top-n.top,c.offsetEnd-=r.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function oe(e,t,n,r){"end"===t&&(t=(e===window?document.body:e)[!0===n?"scrollWidth":"scrollHeight"]),e===window?!0===n?(!0===r&&(t=(!0===X?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):!0===n?(!0===r&&(t=(!0===X?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function ae(e,t,n,r){if(n>=r)return 0;const i=t.length,s=Math.floor(n/ee),o=Math.floor((r-1)/ee)+1;let a=e.slice(s,o).reduce(ie,0);return n%ee!==0&&(a-=t.slice(s*ee,n).reduce(ie,0)),r%ee!==0&&r!==i&&(a-=t.slice(r,o*ee).reduce(ie,0)),a}const le={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ue=(Object.keys(le),{virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...le});function ce({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:s}){const o=(0,r.FN)(),{props:a,emit:l,proxy:u}=o,{$q:c}=u;let h,d,f,p,m=[];const g=(0,i.iH)(0),v=(0,i.iH)(0),y=(0,i.iH)({}),_=(0,i.iH)(null),w=(0,i.iH)(null),b=(0,i.iH)(null),S=(0,i.iH)({from:0,to:0}),k=(0,r.Fl)((()=>void 0!==a.tableColspan?a.tableColspan:100));void 0===s&&(s=(0,r.Fl)((()=>a.virtualScrollItemSize)));const T=(0,r.Fl)((()=>s.value+";"+a.virtualScrollHorizontal)),I=(0,r.Fl)((()=>T.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter));function E(){O(d,!0)}function C(e){O(void 0===e?d:e)}function x(r,i){const s=t();if(void 0===s||null===s||8===s.nodeType)return;const o=se(s,n(),_.value,w.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);f!==o.scrollViewSize&&D(o.scrollViewSize),R(s,o,Math.min(e.value-1,Math.max(0,parseInt(r,10)||0)),0,te.indexOf(i)>-1?i:d>-1&&r>d?"end":"start")}function A(){const r=t();if(void 0===r||null===r||8===r.nodeType)return;const i=se(r,n(),_.value,w.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),s=e.value-1,o=i.scrollMaxSize-i.offsetStart-i.offsetEnd-v.value;if(h===i.scrollStart)return;if(i.scrollMaxSize<=0)return void R(r,i,0,0);f!==i.scrollViewSize&&D(i.scrollViewSize),P(S.value.from);const l=Math.floor(i.scrollMaxSize-Math.max(i.scrollViewSize,i.offsetEnd)-Math.min(p[s],i.scrollViewSize/2));if(l>0&&Math.ceil(i.scrollStart)>=l)return void R(r,i,s,i.scrollMaxSize-i.offsetEnd-m.reduce(ie,0));let u=0,d=i.scrollStart-i.offsetStart,y=d;if(d<=o&&d+i.scrollViewSize>=g.value)d-=g.value,u=S.value.from,y=d;else for(let e=0;d>=m[e]&&u<s;e++)d-=m[e],u+=ee;while(d>0&&u<s)d-=p[u],d>-i.scrollViewSize?(u++,y=d):y=p[u]+d;R(r,i,u,y)}function R(t,n,r,i,s){const o="string"===typeof s&&s.indexOf("-force")>-1,l=!0===o?s.replace("-force",""):s,u=void 0!==l?l:"start";let d=Math.max(0,r-y.value[u]),f=d+y.value.total;f>e.value&&(f=e.value,d=Math.max(0,f-y.value.total)),h=n.scrollStart;const _=d!==S.value.from||f!==S.value.to;if(!1===_&&void 0===l)return void M(r);const{activeElement:w}=document,k=b.value;!0===_&&null!==k&&k!==w&&!0===k.contains(w)&&(k.addEventListener("focusout",N),setTimeout((()=>{void 0!==k&&k.removeEventListener("focusout",N)}))),re(k,r-d);const T=void 0!==l?p.slice(d,r).reduce(ie,0):0;if(!0===_){const t=f>=S.value.from&&d<=S.value.to?S.value.to:f;S.value={from:d,to:t},g.value=ae(m,p,0,d),v.value=ae(m,p,f,e.value),requestAnimationFrame((()=>{S.value.to!==f&&h===n.scrollStart&&(S.value={from:S.value.from,to:f},v.value=ae(m,p,f,e.value))}))}requestAnimationFrame((()=>{if(h!==n.scrollStart)return;!0===_&&P(d);const e=p.slice(d,r).reduce(ie,0),s=e+n.offsetStart+g.value,u=s+p[r];let f=s+i;if(void 0!==l){const t=e-T,i=n.scrollStart+t;f=!0!==o&&i<s&&u<i+n.scrollViewSize?i:"end"===l?u-n.scrollViewSize:s-("start"===l?0:Math.round((n.scrollViewSize-p[r])/2))}h=f,oe(t,f,a.virtualScrollHorizontal,c.lang.rtl),M(r)}))}function P(e){const t=b.value;if(t){const n=ne.call(t.children,(e=>e.classList&&!1===e.classList.contains("q-virtual-scroll--skip"))),r=n.length,i=!0===a.virtualScrollHorizontal?e=>e.getBoundingClientRect().width:e=>e.offsetHeight;let s,o,l=e;for(let e=0;e<r;){s=i(n[e]),e++;while(e<r&&!0===n[e].classList.contains("q-virtual-scroll--with-prev"))s+=i(n[e]),e++;o=s-p[l],0!==o&&(p[l]+=o,m[Math.floor(l/ee)]+=o),l++}}}function N(){void 0!==b.value&&b.value.focus()}function O(t,n){const i=1*s.value;!0!==n&&!1!==Array.isArray(p)||(p=[]);const o=p.length;p.length=e.value;for(let r=e.value-1;r>=o;r--)p[r]=i;const a=Math.floor((e.value-1)/ee);m=[];for(let r=0;r<=a;r++){let t=0;const n=Math.min((r+1)*ee,e.value);for(let e=r*ee;e<n;e++)t+=p[e];m.push(t)}d=-1,h=void 0,g.value=ae(m,p,0,S.value.from),v.value=ae(m,p,S.value.to,e.value),t>=0?(P(S.value.from),(0,r.Y3)((()=>{x(t)}))):F()}function D(e){if(void 0===e&&"undefined"!==typeof window){const r=t();void 0!==r&&null!==r&&8!==r.nodeType&&(e=se(r,n(),_.value,w.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}f=e;const r=parseFloat(a.virtualScrollSliceRatioBefore)||0,i=parseFloat(a.virtualScrollSliceRatioAfter)||0,o=1+r+i,l=void 0===e||e<=0?1:Math.ceil(e/s.value),u=Math.max(1,l,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/o));y.value={total:Math.ceil(u*o),start:Math.ceil(u*r),center:Math.ceil(u*(.5+r)),end:Math.ceil(u*(1+r)),view:l}}function L(e,t){const n=!0===a.virtualScrollHorizontal?"width":"height",i={["--q-virtual-scroll-item-"+n]:s.value+"px"};return["tbody"===e?(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"before",ref:_},[(0,r.h)("tr",[(0,r.h)("td",{style:{[n]:`${g.value}px`,...i},colspan:k.value})])]):(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"before",ref:_,style:{[n]:`${g.value}px`,...i}}),(0,r.h)(e,{class:"q-virtual-scroll__content",key:"content",ref:b,tabindex:-1},t.flat()),"tbody"===e?(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"after",ref:w},[(0,r.h)("tr",[(0,r.h)("td",{style:{[n]:`${v.value}px`,...i},colspan:k.value})])]):(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"after",ref:w,style:{[n]:`${v.value}px`,...i}})]}function M(e){d!==e&&(void 0!==a.onVirtualScroll&&l("virtual-scroll",{index:e,from:S.value.from,to:S.value.to-1,direction:e<d?"decrease":"increase",ref:u}),d=e)}(0,r.YP)(I,(()=>{D()})),(0,r.YP)(T,E),D();const F=(0,J.Z)(A,!0===c.platform.is.ios?120:35);(0,r.wF)((()=>{D()}));let q=!1;return(0,r.se)((()=>{q=!0})),(0,r.dl)((()=>{if(!0!==q)return;const e=t();void 0!==h&&void 0!==e&&null!==e&&8!==e.nodeType?oe(e,h,a.virtualScrollHorizontal,c.lang.rtl):x(d)})),(0,r.Jd)((()=>{F.cancel()})),Object.assign(u,{scrollTo:x,reset:E,refresh:C}),{virtualScrollSliceRange:S,virtualScrollSliceSizeComputed:y,setVirtualScrollSize:D,onVirtualScrollEvt:F,localResetVirtualScroll:O,padVirtualScroll:L,scrollTo:x,reset:E,refresh:C}}var he=n(9256),de=n(2802),fe=n(6254),pe=n(321);const me=e=>["add","add-unique","toggle"].includes(e),ge=".*+?^${}()|[]\\",ve=Object.keys(Q.Cl),ye=(0,T.L)({name:"QSelect",inheritAttrs:!1,props:{...ue,...he.Fz,...Q.Cl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:me},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Q.HJ,"add","remove","input-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:t,emit:n}){const{proxy:h}=(0,r.FN)(),{$q:d}=h,m=(0,i.iH)(!1),g=(0,i.iH)(!1),v=(0,i.iH)(-1),y=(0,i.iH)(""),_=(0,i.iH)(!1),w=(0,i.iH)(!1);let b,S,k,T,I,E,x,A,R;const P=(0,i.iH)(null),N=(0,i.iH)(null),O=(0,i.iH)(null),D=(0,i.iH)(null),L=(0,i.iH)(null),M=(0,he.Do)(e),F=(0,de.Z)(Ye),q=(0,r.Fl)((()=>Array.isArray(e.options)?e.options.length:0)),U=(0,r.Fl)((()=>void 0===e.virtualScrollItemSize?!0===e.dense?24:48:e.virtualScrollItemSize)),{virtualScrollSliceRange:V,virtualScrollSliceSizeComputed:B,localResetVirtualScroll:j,padVirtualScroll:$,onVirtualScrollEvt:z,reset:H,scrollTo:W,setVirtualScrollSize:K}=ce({virtualScrollLength:q,getVirtualScrollTarget:He,getVirtualScrollEl:ze,virtualScrollItemSizeComputed:U}),G=(0,Q.tL)(),J=(0,r.Fl)((()=>{const t=!0===e.mapOptions&&!0!==e.multiple,n=void 0===e.modelValue||null===e.modelValue&&!0!==t?[]:!0===e.multiple&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue];if(!0===e.mapOptions&&!0===Array.isArray(e.options)){const r=!0===e.mapOptions&&void 0!==S?S:[],i=n.map((e=>Me(e,r)));return null===e.modelValue&&!0===t?i.filter((e=>null!==e)):i}return n})),X=(0,r.Fl)((()=>{const t={};return ve.forEach((n=>{const r=e[n];void 0!==r&&(t[n]=r)})),t})),ee=(0,r.Fl)((()=>null===e.optionsDark?G.isDark.value:e.optionsDark)),te=(0,r.Fl)((()=>(0,Q.yV)(J.value))),ne=(0,r.Fl)((()=>{let t="q-field__input q-placeholder col";return!0===e.hideSelected||0===J.value.length?[t,e.inputClass]:(t+=" q-field__input--padding",void 0===e.inputClass?t:[t,e.inputClass])})),re=(0,r.Fl)((()=>(!0===e.virtualScrollHorizontal?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:""))),ie=(0,r.Fl)((()=>0===q.value)),se=(0,r.Fl)((()=>J.value.map((e=>Ie.value(e))).join(", "))),oe=(0,r.Fl)((()=>!0===e.optionsHtml?()=>!0:e=>void 0!==e&&null!==e&&!0===e.html)),ae=(0,r.Fl)((()=>!0===e.displayValueHtml||void 0===e.displayValue&&(!0===e.optionsHtml||J.value.some(oe.value)))),le=(0,r.Fl)((()=>!0===G.focused.value?e.tabindex:-1)),ue=(0,r.Fl)((()=>({tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":!0===e.useInput?"list":"none","aria-expanded":!0===m.value?"true":"false","aria-owns":`${G.targetUid.value}_lb`,"aria-controls":`${G.targetUid.value}_lb`}))),ye=(0,r.Fl)((()=>{const t={id:`${G.targetUid.value}_lb`,role:"listbox","aria-multiselectable":!0===e.multiple?"true":"false"};return v.value>=0&&(t["aria-activedescendant"]=`${G.targetUid.value}_${v.value}`),t})),_e=(0,r.Fl)((()=>J.value.map(((e,t)=>({index:t,opt:e,html:oe.value(e),selected:!0,removeAtIndex:Pe,toggleOption:Oe,tabindex:le.value}))))),we=(0,r.Fl)((()=>{if(0===q.value)return[];const{from:t,to:n}=V.value;return e.options.slice(t,n).map(((n,r)=>{const i=!0===Ee.value(n),s=t+r,o={clickable:!0,active:!1,activeClass:ke.value,manualFocus:!0,focused:!1,disable:i,tabindex:-1,dense:e.optionsDense,dark:ee.value,role:"option",id:`${G.targetUid.value}_${s}`,onClick:()=>{Oe(n)}};return!0!==i&&(!0===qe(n)&&(o.active=!0),v.value===s&&(o.focused=!0),o["aria-selected"]=!0===o.active?"true":"false",!0===d.platform.is.desktop&&(o.onMousemove=()=>{!0===m.value&&De(s)})),{index:s,opt:n,html:oe.value(n),label:Ie.value(n),selected:o.active,focused:o.focused,toggleOption:Oe,setOptionIndex:De,itemProps:o}}))})),be=(0,r.Fl)((()=>void 0!==e.dropdownIcon?e.dropdownIcon:d.iconSet.arrow.dropdown)),Se=(0,r.Fl)((()=>!1===e.optionsCover&&!0!==e.outlined&&!0!==e.standout&&!0!==e.borderless&&!0!==e.rounded)),ke=(0,r.Fl)((()=>void 0!==e.optionsSelectedClass?e.optionsSelectedClass:void 0!==e.color?`text-${e.color}`:"")),Te=(0,r.Fl)((()=>Fe(e.optionValue,"value"))),Ie=(0,r.Fl)((()=>Fe(e.optionLabel,"label"))),Ee=(0,r.Fl)((()=>Fe(e.optionDisable,"disable"))),Ce=(0,r.Fl)((()=>J.value.map((e=>Te.value(e))))),xe=(0,r.Fl)((()=>{const e={onInput:Ye,onChange:F,onKeydown:$e,onKeyup:Be,onKeypress:je,onFocus:Ue,onClick(e){!0===k&&(0,f.sT)(e)}};return e.onCompositionstart=e.onCompositionupdate=e.onCompositionend=F,e}));function Ae(t){return!0===e.emitValue?Te.value(t):t}function Re(t){if(t>-1&&t<J.value.length)if(!0===e.multiple){const r=e.modelValue.slice();n("remove",{index:t,value:r.splice(t,1)[0]}),n("update:modelValue",r)}else n("update:modelValue",null)}function Pe(e){Re(e),G.focus()}function Ne(t,r){const i=Ae(t);if(!0!==e.multiple)return!0===e.fillInput&&Qe(Ie.value(t),!0,!0),void n("update:modelValue",i);if(0===J.value.length)return n("add",{index:0,value:i}),void n("update:modelValue",!0===e.multiple?[i]:i);if(!0===r&&!0===qe(t))return;if(void 0!==e.maxValues&&e.modelValue.length>=e.maxValues)return;const s=e.modelValue.slice();n("add",{index:s.length,value:i}),s.push(i),n("update:modelValue",s)}function Oe(t,r){if(!0!==G.editable.value||void 0===t||!0===Ee.value(t))return;const i=Te.value(t);if(!0!==e.multiple)return!0!==r&&(Qe(!0===e.fillInput?Ie.value(t):"",!0,!0),ct()),null!==N.value&&N.value.focus(),void(0!==J.value.length&&!0===(0,fe.xb)(Te.value(J.value[0]),i)||n("update:modelValue",!0===e.emitValue?i:t));if((!0!==k||!0===_.value)&&G.focus(),Ue(),0===J.value.length){const r=!0===e.emitValue?i:t;return n("add",{index:0,value:r}),void n("update:modelValue",!0===e.multiple?[r]:r)}const s=e.modelValue.slice(),o=Ce.value.findIndex((e=>(0,fe.xb)(e,i)));if(o>-1)n("remove",{index:o,value:s.splice(o,1)[0]});else{if(void 0!==e.maxValues&&s.length>=e.maxValues)return;const r=!0===e.emitValue?i:t;n("add",{index:s.length,value:r}),s.push(r)}n("update:modelValue",s)}function De(e){if(!0!==d.platform.is.desktop)return;const t=e>-1&&e<q.value?e:-1;v.value!==t&&(v.value=t)}function Le(t=1,n){if(!0===m.value){let r=v.value;do{r=(0,pe.Uz)(r+t,-1,q.value-1)}while(-1!==r&&r!==v.value&&!0===Ee.value(e.options[r]));v.value!==r&&(De(r),W(r),!0!==n&&!0===e.useInput&&!0===e.fillInput&&Ze(r>=0?Ie.value(e.options[r]):E))}}function Me(t,n){const r=e=>(0,fe.xb)(Te.value(e),t);return e.options.find(r)||n.find(r)||t}function Fe(e,t){const n=void 0!==e?e:t;return"function"===typeof n?n:e=>null!==e&&"object"===typeof e&&n in e?e[n]:e}function qe(e){const t=Te.value(e);return void 0!==Ce.value.find((e=>(0,fe.xb)(e,t)))}function Ue(t){!0===e.useInput&&null!==N.value&&(void 0===t||N.value===t.target&&t.target.value===se.value)&&N.value.select()}function Ve(e){!0===(0,p.So)(e,27)&&!0===m.value&&((0,f.sT)(e),ct(),ht()),n("keyup",e)}function Be(t){const{value:n}=t.target;if(void 0===t.keyCode)if(t.target.value="",clearTimeout(b),ht(),"string"===typeof n&&n.length>0){const t=n.toLocaleLowerCase(),r=n=>{const r=e.options.find((e=>n.value(e).toLocaleLowerCase()===t));return void 0!==r&&(-1===J.value.indexOf(r)?Oe(r):ct(),!0)},i=e=>{!0!==r(Te)&&!0!==r(Ie)&&!0!==e&&Je(n,!0,(()=>i(!0)))};i()}else G.clearValue(t);else Ve(t)}function je(e){n("keypress",e)}function $e(t){if(n("keydown",t),!0===(0,p.Wm)(t))return;const i=y.value.length>0&&(void 0!==e.newValueMode||void 0!==e.onNewValue),s=!0!==t.shiftKey&&!0!==e.multiple&&(v.value>-1||!0===i);if(27===t.keyCode)return void(0,f.X$)(t);if(9===t.keyCode&&!1===s)return void lt();if(void 0===t.target||t.target.id!==G.targetUid.value)return;if(40===t.keyCode&&!0!==G.innerLoading.value&&!1===m.value)return(0,f.NS)(t),void ut();if(8===t.keyCode&&!0!==e.hideSelected&&0===y.value.length)return void(!0===e.multiple&&!0===Array.isArray(e.modelValue)?Re(e.modelValue.length-1):!0!==e.multiple&&null!==e.modelValue&&n("update:modelValue",null));35!==t.keyCode&&36!==t.keyCode||"string"===typeof y.value&&0!==y.value.length||((0,f.NS)(t),v.value=-1,Le(36===t.keyCode?1:-1,e.multiple)),33!==t.keyCode&&34!==t.keyCode||void 0===B.value||((0,f.NS)(t),v.value=Math.max(-1,Math.min(q.value,v.value+(33===t.keyCode?-1:1)*B.value.view)),Le(33===t.keyCode?1:-1,e.multiple)),38!==t.keyCode&&40!==t.keyCode||((0,f.NS)(t),Le(38===t.keyCode?-1:1,e.multiple));const o=q.value;if((void 0===A||R<Date.now())&&(A=""),o>0&&!0!==e.useInput&&void 0!==t.key&&1===t.key.length&&t.altKey===t.ctrlKey&&(32!==t.keyCode||A.length>0)){!0!==m.value&&ut(t);const n=t.key.toLocaleLowerCase(),i=1===A.length&&A[0]===n;R=Date.now()+1500,!1===i&&((0,f.NS)(t),A+=n);const s=new RegExp("^"+A.split("").map((e=>ge.indexOf(e)>-1?"\\"+e:e)).join(".*"),"i");let a=v.value;if(!0===i||a<0||!0!==s.test(Ie.value(e.options[a])))do{a=(0,pe.Uz)(a+1,-1,o-1)}while(a!==v.value&&(!0===Ee.value(e.options[a])||!0!==s.test(Ie.value(e.options[a]))));v.value!==a&&(0,r.Y3)((()=>{De(a),W(a),a>=0&&!0===e.useInput&&!0===e.fillInput&&Ze(Ie.value(e.options[a]))}))}else if(13===t.keyCode||32===t.keyCode&&!0!==e.useInput&&""===A||9===t.keyCode&&!1!==s)if(9!==t.keyCode&&(0,f.NS)(t),v.value>-1&&v.value<o)Oe(e.options[v.value]);else{if(!0===i){const t=(t,n)=>{if(n){if(!0!==me(n))return}else n=e.newValueMode;if(void 0===t||null===t)return;Qe("",!0!==e.multiple,!0);const r="toggle"===n?Oe:Ne;r(t,"add-unique"===n),!0!==e.multiple&&(null!==N.value&&N.value.focus(),ct())};if(void 0!==e.onNewValue?n("new-value",y.value,t):t(y.value),!0!==e.multiple)return}!0===m.value?lt():!0!==G.innerLoading.value&&ut()}}function ze(){return!0===k?L.value:null!==O.value&&null!==O.value.__qPortalInnerRef.value?O.value.__qPortalInnerRef.value:void 0}function He(){return ze()}function We(){return!0===e.hideSelected?[]:void 0!==t["selected-item"]?_e.value.map((e=>t["selected-item"](e))).slice():void 0!==t.selected?[].concat(t.selected()):!0===e.useChips?_e.value.map(((t,n)=>(0,r.h)(a.Z,{key:"option-"+n,removable:!0===G.editable.value&&!0!==Ee.value(t.opt),dense:!0,textColor:e.color,tabindex:le.value,onRemove(){t.removeAtIndex(n)}},(()=>(0,r.h)("span",{class:"ellipsis",[!0===t.html?"innerHTML":"textContent"]:Ie.value(t.opt)}))))):[(0,r.h)("span",{[!0===ae.value?"innerHTML":"textContent"]:void 0!==e.displayValue?e.displayValue:se.value})]}function Ke(){if(!0===ie.value)return void 0!==t["no-option"]?t["no-option"]({inputValue:y.value}):void 0;const e=void 0!==t.option?t.option:e=>(0,r.h)(l.Z,{key:e.index,...e.itemProps},(()=>(0,r.h)(u.Z,(()=>(0,r.h)(c.Z,(()=>(0,r.h)("span",{[!0===e.html?"innerHTML":"textContent"]:e.label})))))));let n=$("div",we.value.map(e));return void 0!==t["before-options"]&&(n=t["before-options"]().concat(n)),(0,C.vs)(t["after-options"],n)}function Ge(t,n){const i=!0===n?{...ue.value,...G.splitAttrs.attributes.value}:void 0,s={ref:!0===n?N:void 0,key:"i_t",class:ne.value,style:e.inputStyle,value:void 0!==y.value?y.value:"",type:"search",...i,id:!0===n?G.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":!0!==t&&!0===e.autofocus||void 0,disabled:!0===e.disable,readonly:!0===e.readonly,...xe.value};return!0!==t&&!0===k&&(!0===Array.isArray(s.class)?s.class=[...s.class,"no-pointer-events"]:s.class+=" no-pointer-events"),(0,r.h)("input",s)}function Ye(t){clearTimeout(b),t&&t.target&&!0===t.target.composing||(Ze(t.target.value||""),T=!0,E=y.value,!0===G.focused.value||!0===k&&!0!==_.value||G.focus(),void 0!==e.onFilter&&(b=setTimeout((()=>{Je(y.value)}),e.inputDebounce)))}function Ze(e){y.value!==e&&(y.value=e,n("input-value",e))}function Qe(t,n,r){T=!0!==r,!0===e.useInput&&(Ze(t),!0!==n&&!0===r||(E=t),!0!==n&&Je(t))}function Je(t,i,s){if(void 0===e.onFilter||!0!==i&&!0!==G.focused.value)return;!0===G.innerLoading.value?n("filter-abort"):(G.innerLoading.value=!0,w.value=!0),""!==t&&!0!==e.multiple&&J.value.length>0&&!0!==T&&t===Ie.value(J.value[0])&&(t="");const o=setTimeout((()=>{!0===m.value&&(m.value=!1)}),10);clearTimeout(I),I=o,n("filter",t,((e,t)=>{!0!==i&&!0!==G.focused.value||I!==o||(clearTimeout(I),"function"===typeof e&&e(),w.value=!1,(0,r.Y3)((()=>{G.innerLoading.value=!1,!0===G.editable.value&&(!0===i?!0===m.value&&ct():!0===m.value?dt(!0):m.value=!0),"function"===typeof t&&(0,r.Y3)((()=>{t(h)})),"function"===typeof s&&(0,r.Y3)((()=>{s(h)}))})))}),(()=>{!0===G.focused.value&&I===o&&(clearTimeout(I),G.innerLoading.value=!1,w.value=!1),!0===m.value&&(m.value=!1)}))}function Xe(){return(0,r.h)(Y,{ref:O,class:re.value,style:e.popupContentStyle,modelValue:m.value,fit:!0!==e.menuShrink,cover:!0===e.optionsCover&&!0!==ie.value&&!0!==e.useInput,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ee.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Se.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ye.value,onScrollPassive:z,onBeforeShow:mt,onBeforeHide:et,onShow:tt},Ke)}function et(e){gt(e),lt()}function tt(){K()}function nt(e){(0,f.sT)(e),null!==N.value&&N.value.focus(),_.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function rt(e){(0,f.sT)(e),(0,r.Y3)((()=>{_.value=!1}))}function it(){const n=[(0,r.h)(s.Z,{class:`col-auto ${G.fieldClass.value}`,...X.value,for:G.targetUid.value,dark:ee.value,square:!0,loading:w.value,itemAligned:!1,filled:!0,stackLabel:y.value.length>0,...G.splitAttrs.listeners.value,onFocus:nt,onBlur:rt},{...t,rawControl:()=>G.getControl(!0),before:void 0,after:void 0})];return!0===m.value&&n.push((0,r.h)("div",{ref:L,class:re.value+" scroll",style:e.popupContentStyle,...ye.value,onClick:f.X$,onScrollPassive:z},Ke())),(0,r.h)(Z.Z,{ref:D,modelValue:g.value,position:!0===e.useInput?"top":void 0,transitionShow:x,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:mt,onBeforeHide:st,onHide:ot,onShow:at},(()=>(0,r.h)("div",{class:"q-select__dialog"+(!0===ee.value?" q-select__dialog--dark q-dark":"")+(!0===_.value?" q-select__dialog--focused":"")},n)))}function st(e){gt(e),null!==D.value&&D.value.__updateRefocusTarget(G.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),G.focused.value=!1}function ot(e){ct(),!1===G.focused.value&&n("blur",e),ht()}function at(){const e=document.activeElement;null!==e&&e.id===G.targetUid.value||null===N.value||N.value===e||N.value.focus(),K()}function lt(){!0!==g.value&&(v.value=-1,!0===m.value&&(m.value=!1),!1===G.focused.value&&(clearTimeout(I),I=void 0,!0===G.innerLoading.value&&(n("filter-abort"),G.innerLoading.value=!1,w.value=!1)))}function ut(n){!0===G.editable.value&&(!0===k?(G.onControlFocusin(n),g.value=!0,(0,r.Y3)((()=>{G.focus()}))):G.focus(),void 0!==e.onFilter?Je(y.value):!0===ie.value&&void 0===t["no-option"]||(m.value=!0))}function ct(){g.value=!1,lt()}function ht(){!0===e.useInput&&Qe(!0!==e.multiple&&!0===e.fillInput&&J.value.length>0&&Ie.value(J.value[0])||"",!0,!0)}function dt(t){let n=-1;if(!0===t){if(J.value.length>0){const t=Te.value(J.value[0]);n=e.options.findIndex((e=>(0,fe.xb)(Te.value(e),t)))}j(n)}De(n)}function ft(){!0===m.value&&!1===G.innerLoading.value&&(H(),(0,r.Y3)((()=>{!0===m.value&&!1===G.innerLoading.value&&dt(!0)})))}function pt(){!1===g.value&&null!==O.value&&O.value.updatePosition()}function mt(e){void 0!==e&&(0,f.sT)(e),n("popup-show",e),G.hasPopupOpen=!0,G.onControlFocusin(e)}function gt(e){void 0!==e&&(0,f.sT)(e),n("popup-hide",e),G.hasPopupOpen=!1,G.onControlFocusout(e)}function vt(){k=(!0===d.platform.is.mobile||"dialog"===e.behavior)&&("menu"!==e.behavior&&(!0!==e.useInput||(void 0!==t["no-option"]||void 0!==e.onFilter||!1===ie.value))),x=!0===d.platform.is.ios&&!0===k&&!0===e.useInput?"fade":e.transitionShow}return(0,r.YP)(J,(t=>{S=t,!0===e.useInput&&!0===e.fillInput&&!0!==e.multiple&&!0!==G.innerLoading.value&&(!0!==g.value&&!0!==m.value||!0!==te.value)&&(!0!==T&&ht(),!0!==g.value&&!0!==m.value||Je(""))}),{immediate:!0}),(0,r.YP)((()=>e.fillInput),ht),(0,r.YP)(m,dt),(0,r.YP)(q,ft),(0,r.Xn)(vt),(0,r.ic)(pt),vt(),(0,r.Jd)((()=>{clearTimeout(b)})),Object.assign(h,{showPopup:ut,hidePopup:ct,removeAtIndex:Re,add:Ne,toggleOption:Oe,getOptionIndex:()=>v.value,setOptionIndex:De,moveOptionSelection:Le,filter:Je,updateMenuPosition:pt,updateInputValue:Qe,isOptionSelected:qe,getEmittingOptionValue:Ae,isOptionDisabled:(...e)=>!0===Ee.value.apply(null,e),getOptionValue:(...e)=>Te.value.apply(null,e),getOptionLabel:(...e)=>Ie.value.apply(null,e)}),Object.assign(G,{innerValue:J,fieldClass:(0,r.Fl)((()=>`q-select q-field--auto-height q-select--with${!0!==e.useInput?"out":""}-input q-select--with${!0!==e.useChips?"out":""}-chips q-select--`+(!0===e.multiple?"multiple":"single"))),inputRef:P,targetRef:N,hasValue:te,showPopup:ut,floatingLabel:(0,r.Fl)((()=>(!0===e.hideSelected?y.value.length>0:!0===te.value)||(0,Q.yV)(e.displayValue))),getControlChild:()=>{if(!1!==G.editable.value&&(!0===g.value||!0!==ie.value||void 0!==t["no-option"]))return!0===k?it():Xe();!0===G.hasPopupOpen&&(G.hasPopupOpen=!1)},controlEvents:{onFocusin(e){G.onControlFocusin(e)},onFocusout(e){G.onControlFocusout(e,(()=>{ht(),lt()}))},onClick(e){if((0,f.X$)(e),!0!==k&&!0===m.value)return lt(),void(null!==N.value&&N.value.focus());ut(e)}},getControl:t=>{const n=We(),i=!0===t||!0!==g.value||!0!==k;if(!0===e.useInput)n.push(Ge(t,i));else if(!0===G.editable.value){const t=!0===i?ue.value:void 0;n.push((0,r.h)("input",{ref:!0===i?N:void 0,key:"d_t",class:"q-select__focus-target",id:!0===i?G.targetUid.value:void 0,readonly:!0,...t,onKeydown:$e,onKeyup:Ve,onKeypress:je})),!0===i&&"string"===typeof e.autocomplete&&e.autocomplete.length>0&&n.push((0,r.h)("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:Be}))}if(void 0!==M.value&&!0!==e.disable&&Ce.value.length>0){const t=Ce.value.map((e=>(0,r.h)("option",{value:e,selected:!0})));n.push((0,r.h)("select",{class:"hidden",name:M.value,multiple:e.multiple},t))}const s=!0===e.useInput||!0!==i?void 0:G.splitAttrs.attributes.value;return(0,r.h)("div",{class:"q-field__native row items-center",...s},n)},getInnerAppend:()=>!0!==e.loading&&!0!==w.value&&!0!==e.hideDropdownIcon?[(0,r.h)(o.Z,{class:"q-select__dropdown-icon"+(!0===m.value?" rotate-180":""),name:be.value})]:null}),(0,Q.ZP)(G)}})},926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(9835),i=n(8234),s=n(5987);const o={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},a={xs:2,sm:4,md:8,lg:16,xl:24},l=(0,s.L)({name:"QSeparator",props:{...i.S,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=(0,r.FN)(),n=(0,i.Z)(e,t.proxy.$q),s=(0,r.Fl)((()=>!0===e.vertical?"vertical":"horizontal")),l=(0,r.Fl)((()=>` q-separator--${s.value}`)),u=(0,r.Fl)((()=>!1!==e.inset?`${l.value}-${o[e.inset]}`:"")),c=(0,r.Fl)((()=>`q-separator${l.value}${u.value}`+(void 0!==e.color?` bg-${e.color}`:"")+(!0===n.value?" q-separator--dark":""))),h=(0,r.Fl)((()=>{const t={};if(void 0!==e.size&&(t[!0===e.vertical?"width":"height"]=e.size),!1!==e.spaced){const n=!0===e.spaced?`${a.md}px`:e.spaced in a?`${a[e.spaced]}px`:e.spaced,r=!0===e.vertical?["Left","Right"]:["Top","Bottom"];t[`margin${r[0]}`]=t[`margin${r[1]}`]=n}return t}));return()=>(0,r.h)("hr",{class:c.value,style:h.value,"aria-orientation":s.value})}})},136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9835),i=n(5987);const s=(0,r.h)("div",{class:"q-space"}),o=(0,i.L)({name:"QSpace",setup(){return()=>s}})},3940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(9835),i=n(244);const s={size:{type:[Number,String],default:"1em"},color:String};function o(e){return{cSize:(0,r.Fl)((()=>e.size in i.Ok?`${i.Ok[e.size]}px`:e.size)),classes:(0,r.Fl)((()=>"q-spinner"+(e.color?` text-${e.color}`:"")))}}var a=n(5987);const l=(0,a.L)({name:"QSpinner",props:{...s,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:n}=o(e);return()=>(0,r.h)("svg",{class:n.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[(0,r.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}})},1663:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9835),i=n(5987),s=n(2026);const o=(0,i.L)({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const n=(0,r.Fl)((()=>"q-toolbar row no-wrap items-center"+(!0===e.inset?" q-toolbar--inset":"")));return()=>(0,r.h)("div",{class:n.value},(0,s.KR)(t.default))}})},1973:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9835),i=n(5987),s=n(2026);const o=(0,i.L)({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const n=(0,r.Fl)((()=>"q-toolbar__title ellipsis"+(!0===e.shrink?" col-shrink":"")));return()=>(0,r.h)("div",{class:n.value},(0,s.KR)(t.default))}})},5065:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a,jO:()=>o});n(6727);var r=n(9835);const i={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},s=Object.keys(i),o={align:{type:String,validator:e=>s.includes(e)}};function a(e){return(0,r.Fl)((()=>{const t=void 0===e.align?!0===e.vertical?"stretch":"left":e.align;return`${!0===e.vertical?"items":"justify"}-${i[t]}`}))}},8234:(e,t,n)=>{"use strict";n.d(t,{S:()=>i,Z:()=>s});var r=n(9835);const i={dark:{type:Boolean,default:null}};function s(e,t){return(0,r.Fl)((()=>null===e.dark?t.dark.isActive:e.dark))}},4006:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>J,yV:()=>G,HJ:()=>Z,Cl:()=>Y,tL:()=>Q});var r=n(9835),i=n(499),s=n(1957),o=n(7506),a=n(2857),l=n(3940),u=n(8234),c=(n(6727),n(702),n(5439));function h({validate:e,resetValidation:t,requiresQForm:n}){const i=(0,r.f3)(c.vh,!1);if(!1!==i){const{props:n,proxy:s}=(0,r.FN)();Object.assign(s,{validate:e,resetValidation:t}),(0,r.YP)((()=>n.disable),(e=>{!0===e?("function"===typeof t&&t(),i.unbindComponent(s)):i.bindComponent(s)})),!0!==n.disable&&i.bindComponent(s),(0,r.Jd)((()=>{!0!==n.disable&&i.unbindComponent(s)}))}else!0===n&&console.error("Parent QForm not found on useFormChild()!")}const d=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,f=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,p=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,m=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,g=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,v={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>d.test(e),hexaColor:e=>f.test(e),hexOrHexaColor:e=>p.test(e),rgbColor:e=>m.test(e),rgbaColor:e=>g.test(e),rgbOrRgbaColor:e=>m.test(e)||g.test(e),hexOrRgbColor:e=>d.test(e)||m.test(e),hexaOrRgbaColor:e=>f.test(e)||g.test(e),anyColor:e=>p.test(e)||m.test(e)||g.test(e)};n(6822),n(8964);Object.prototype.toString,Object.prototype.hasOwnProperty;const y={};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach((e=>{y["[object "+e+"]"]=e.toLowerCase()}));n(5583),n(4641),n(3269),n(4455);var _=n(244);const w={..._.LU,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean};var b=n(5987),S=n(2026),k=n(321);const T=50,I=2*T,E=I*Math.PI,C=Math.round(1e3*E)/1e3;(0,b.L)({name:"QCircularProgress",props:{...w,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),i=(0,_.ZP)(e),s=(0,r.Fl)((()=>{const t=(!0===n.lang.rtl?-1:1)*e.angle;return{transform:e.reverse!==(!0===n.lang.rtl)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-t}deg)`:`rotate3d(0, 0, 1, ${t-90}deg)`}})),o=(0,r.Fl)((()=>!0!==e.instantFeedback&&!0!==e.indeterminate?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:"")),a=(0,r.Fl)((()=>I/(1-e.thickness/2))),l=(0,r.Fl)((()=>`${a.value/2} ${a.value/2} ${a.value} ${a.value}`)),u=(0,r.Fl)((()=>(0,k.vX)(e.value,e.min,e.max))),c=(0,r.Fl)((()=>E*(1-(u.value-e.min)/(e.max-e.min)))),h=(0,r.Fl)((()=>e.thickness/2*a.value));function d({thickness:e,offset:t,color:n,cls:i}){return(0,r.h)("circle",{class:"q-circular-progress__"+i+(void 0!==n?` text-${n}`:""),style:o.value,fill:"transparent",stroke:"currentColor","stroke-width":e,"stroke-dasharray":C,"stroke-dashoffset":t,cx:a.value,cy:a.value,r:T})}return()=>{const n=[];void 0!==e.centerColor&&"transparent"!==e.centerColor&&n.push((0,r.h)("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:T-h.value/2,cx:a.value,cy:a.value})),void 0!==e.trackColor&&"transparent"!==e.trackColor&&n.push(d({cls:"track",thickness:h.value,offset:0,color:e.trackColor})),n.push(d({cls:"circle",thickness:h.value,offset:c.value,color:e.color}));const o=[(0,r.h)("svg",{class:"q-circular-progress__svg",style:s.value,viewBox:l.value,"aria-hidden":"true"},n)];return!0===e.showValue&&o.push((0,r.h)("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},void 0!==t.default?t.default():[(0,r.h)("div",u.value)])),(0,r.h)("div",{class:`q-circular-progress q-circular-progress--${!0===e.indeterminate?"in":""}determinate`,style:i.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":!0===e.indeterminate?void 0:u.value},(0,S.pf)(t.internal,o))}}});var x=n(1384);const A={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},R=["rejected"];u.S,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean;const P=[...R,"start","finish","added","removed"];var N=n(5309);n(6254);(0,N.Z)(P);n(3558);var O=n(899);n(223);n(3701),n(7674),n(8170),n(5231),n(9359),n(6408);let D,L=0;const M=new Array(256);for(let X=0;X<256;X++)M[X]=(X+256).toString(16).substring(1);const F=(()=>{const e="undefined"!==typeof crypto?crypto:"undefined"!==typeof window?window.crypto||window.msCrypto:void 0;if(void 0!==e){if(void 0!==e.randomBytes)return e.randomBytes;if(void 0!==e.getRandomValues)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return e=>{const t=[];for(let n=e;n>0;n--)t.push(Math.floor(256*Math.random()));return t}})(),q=4096;function U(){(void 0===D||L+16>q)&&(L=0,D=F(q));const e=Array.prototype.slice.call(D,L,L+=16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,M[e[0]]+M[e[1]]+M[e[2]]+M[e[3]]+"-"+M[e[4]]+M[e[5]]+"-"+M[e[6]]+M[e[7]]+"-"+M[e[8]]+M[e[9]]+"-"+M[e[10]]+M[e[11]]+M[e[12]]+M[e[13]]+M[e[14]]+M[e[15]]}var V=n(3251);const B=[!0,!1,"ondemand"],j={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>B.includes(e)}};function $(e,t){const{props:n,proxy:s}=(0,r.FN)(),o=(0,i.iH)(!1),a=(0,i.iH)(null),l=(0,i.iH)(null);h({validate:y,resetValidation:g});let u,c=0;const d=(0,r.Fl)((()=>void 0!==n.rules&&null!==n.rules&&n.rules.length>0)),f=(0,r.Fl)((()=>!0!==n.disable&&!0===d.value)),p=(0,r.Fl)((()=>!0===n.error||!0===o.value)),m=(0,r.Fl)((()=>"string"===typeof n.errorMessage&&n.errorMessage.length>0?n.errorMessage:a.value));function g(){c++,t.value=!1,l.value=null,o.value=!1,a.value=null,w.cancel()}function y(e=n.modelValue){if(!0!==f.value)return!0;const r=++c;!0!==t.value&&!0!==n.lazyRules&&(l.value=!0);const i=(e,n)=>{o.value!==e&&(o.value=e);const r=n||void 0;a.value!==r&&(a.value=r),t.value=!1},s=[];for(let t=0;t<n.rules.length;t++){const r=n.rules[t];let o;if("function"===typeof r?o=r(e):"string"===typeof r&&void 0!==v[r]&&(o=v[r](e)),!1===o||"string"===typeof o)return i(!0,o),!1;!0!==o&&void 0!==o&&s.push(o)}return 0===s.length?(i(!1),!0):(t.value=!0,Promise.all(s).then((e=>{if(void 0===e||!1===Array.isArray(e)||0===e.length)return r===c&&i(!1),!0;const t=e.find((e=>!1===e||"string"===typeof e));return r===c&&i(void 0!==t,t),void 0===t}),(e=>(r===c&&(console.error(e),i(!0)),!1))))}function _(e){!0===f.value&&"ondemand"!==n.lazyRules&&(!0===l.value||!0!==n.lazyRules&&!0!==e)&&w()}(0,r.YP)((()=>n.modelValue),(()=>{_()})),(0,r.YP)((()=>n.reactiveRules),(e=>{!0===e?void 0===u&&(u=(0,r.YP)((()=>n.rules),(()=>{_(!0)}))):void 0!==u&&(u(),u=void 0)}),{immediate:!0}),(0,r.YP)(e,(e=>{!0===e?null===l.value&&(l.value=!1):!1===l.value&&(l.value=!0,!0===f.value&&"ondemand"!==n.lazyRules&&!1===t.value&&w())}));const w=(0,O.Z)(y,0);return(0,r.Jd)((()=>{void 0!==u&&u(),w.cancel()})),Object.assign(s,{resetValidation:g,validate:y}),(0,V.g)(s,"hasError",(()=>p.value)),{isDirtyModel:l,hasRules:d,hasError:p,errorMessage:m,validate:y,resetValidation:g}}const z=/^on[A-Z]/;function H(e,t){const n={listeners:(0,i.iH)({}),attributes:(0,i.iH)({})};function s(){const r={},i={};for(const t in e)"class"!==t&&"style"!==t&&!1===z.test(t)&&(r[t]=e[t]);for(const e in t.props)!0===z.test(e)&&(i[e]=t.props[e]);n.attributes.value=r,n.listeners.value=i}return(0,r.Xn)(s),s(),n}var W=n(7026);function K(e){return void 0===e?`f_${U()}`:e}function G(e){return void 0!==e&&null!==e&&(""+e).length>0}const Y={...u.S,...j,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},Z=["update:modelValue","clear","focus","blur","popup-show","popup-hide"];function Q(){const{props:e,attrs:t,proxy:n,vnode:s}=(0,r.FN)(),o=(0,u.Z)(e,n.$q);return{isDark:o,editable:(0,r.Fl)((()=>!0!==e.disable&&!0!==e.readonly)),innerLoading:(0,i.iH)(!1),focused:(0,i.iH)(!1),hasPopupOpen:!1,splitAttrs:H(t,s),targetUid:(0,i.iH)(K(e.for)),rootRef:(0,i.iH)(null),targetRef:(0,i.iH)(null),controlRef:(0,i.iH)(null)}}function J(e){const{props:t,emit:n,slots:i,attrs:u,proxy:c}=(0,r.FN)(),{$q:h}=c;let d;void 0===e.hasValue&&(e.hasValue=(0,r.Fl)((()=>G(t.modelValue)))),void 0===e.emitValue&&(e.emitValue=e=>{n("update:modelValue",e)}),void 0===e.controlEvents&&(e.controlEvents={onFocusin:N,onFocusout:O}),Object.assign(e,{clearValue:D,onControlFocusin:N,onControlFocusout:O,focus:R}),void 0===e.computedCounter&&(e.computedCounter=(0,r.Fl)((()=>{if(!1!==t.counter){const e="string"===typeof t.modelValue||"number"===typeof t.modelValue?(""+t.modelValue).length:!0===Array.isArray(t.modelValue)?t.modelValue.length:0,n=void 0!==t.maxlength?t.maxlength:t.maxValues;return e+(void 0!==n?" / "+n:"")}})));const{isDirtyModel:f,hasRules:p,hasError:m,errorMessage:g,resetValidation:v}=$(e.focused,e.innerLoading),y=void 0!==e.floatingLabel?(0,r.Fl)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.floatingLabel.value)):(0,r.Fl)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.hasValue.value)),_=(0,r.Fl)((()=>!0===t.bottomSlots||void 0!==t.hint||!0===p.value||!0===t.counter||null!==t.error)),w=(0,r.Fl)((()=>!0===t.filled?"filled":!0===t.outlined?"outlined":!0===t.borderless?"borderless":t.standout?"standout":"standard")),b=(0,r.Fl)((()=>`q-field row no-wrap items-start q-field--${w.value}`+(void 0!==e.fieldClass?` ${e.fieldClass.value}`:"")+(!0===t.rounded?" q-field--rounded":"")+(!0===t.square?" q-field--square":"")+(!0===y.value?" q-field--float":"")+(!0===T.value?" q-field--labeled":"")+(!0===t.dense?" q-field--dense":"")+(!0===t.itemAligned?" q-field--item-aligned q-item-type":"")+(!0===e.isDark.value?" q-field--dark":"")+(void 0===e.getControl?" q-field--auto-height":"")+(!0===e.focused.value?" q-field--focused":"")+(!0===m.value?" q-field--error":"")+(!0===m.value||!0===e.focused.value?" q-field--highlighted":"")+(!0!==t.hideBottomSpace&&!0===_.value?" q-field--with-bottom":"")+(!0===t.disable?" q-field--disabled":!0===t.readonly?" q-field--readonly":""))),k=(0,r.Fl)((()=>"q-field__control relative-position row no-wrap"+(void 0!==t.bgColor?` bg-${t.bgColor}`:"")+(!0===m.value?" text-negative":"string"===typeof t.standout&&t.standout.length>0&&!0===e.focused.value?` ${t.standout}`:void 0!==t.color?` text-${t.color}`:""))),T=(0,r.Fl)((()=>!0===t.labelSlot||void 0!==t.label)),I=(0,r.Fl)((()=>"q-field__label no-pointer-events absolute ellipsis"+(void 0!==t.labelColor&&!0!==m.value?` text-${t.labelColor}`:""))),E=(0,r.Fl)((()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:y.value,modelValue:t.modelValue,emitValue:e.emitValue}))),C=(0,r.Fl)((()=>{const n={for:e.targetUid.value};return!0===t.disable?n["aria-disabled"]="true":!0===t.readonly&&(n["aria-readonly"]="true"),n}));function A(){const t=document.activeElement;let n=void 0!==e.targetRef&&e.targetRef.value;!n||null!==t&&t.id===e.targetUid.value||(!0===n.hasAttribute("tabindex")||(n=n.querySelector("[tabindex]")),n&&n!==t&&n.focus({preventScroll:!0}))}function R(){(0,W.jd)(A)}function P(){(0,W.fP)(A);const t=document.activeElement;null!==t&&e.rootRef.value.contains(t)&&t.blur()}function N(t){clearTimeout(d),!0===e.editable.value&&!1===e.focused.value&&(e.focused.value=!0,n("focus",t))}function O(t,r){clearTimeout(d),d=setTimeout((()=>{(!0!==document.hasFocus()||!0!==e.hasPopupOpen&&void 0!==e.controlRef&&null!==e.controlRef.value&&!1===e.controlRef.value.contains(document.activeElement))&&(!0===e.focused.value&&(e.focused.value=!1,n("blur",t)),void 0!==r&&r())}))}function D(i){if((0,x.NS)(i),!0!==h.platform.is.mobile){const t=void 0!==e.targetRef&&e.targetRef.value||e.rootRef.value;t.focus()}else!0===e.rootRef.value.contains(document.activeElement)&&document.activeElement.blur();"file"===t.type&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),(0,r.Y3)((()=>{v(),!0!==h.platform.is.mobile&&(f.value=!1)}))}function L(){const n=[];return void 0!==i.prepend&&n.push((0,r.h)("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:x.X$},i.prepend())),n.push((0,r.h)("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},M())),!0===m.value&&!1===t.noErrorIcon&&n.push(q("error",[(0,r.h)(a.Z,{name:h.iconSet.field.error,color:"negative"})])),!0===t.loading||!0===e.innerLoading.value?n.push(q("inner-loading-append",void 0!==i.loading?i.loading():[(0,r.h)(l.Z,{color:t.color})])):!0===t.clearable&&!0===e.hasValue.value&&!0===e.editable.value&&n.push(q("inner-clearable-append",[(0,r.h)(a.Z,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||h.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:D})])),void 0!==i.append&&n.push((0,r.h)("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:x.X$},i.append())),void 0!==e.getInnerAppend&&n.push(q("inner-append",e.getInnerAppend())),void 0!==e.getControlChild&&n.push(e.getControlChild()),n}function M(){const n=[];return void 0!==t.prefix&&null!==t.prefix&&n.push((0,r.h)("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),void 0!==e.getShadowControl&&!0===e.hasShadow.value&&n.push(e.getShadowControl()),void 0!==e.getControl?n.push(e.getControl()):void 0!==i.rawControl?n.push(i.rawControl()):void 0!==i.control&&n.push((0,r.h)("div",{ref:e.targetRef,class:"q-field__native row",...e.splitAttrs.attributes.value,"data-autofocus":!0===t.autofocus||void 0},i.control(E.value))),!0===T.value&&n.push((0,r.h)("div",{class:I.value},(0,S.KR)(i.label,t.label))),void 0!==t.suffix&&null!==t.suffix&&n.push((0,r.h)("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),n.concat((0,S.KR)(i.default))}function F(){let n,o;!0===m.value?null!==g.value?(n=[(0,r.h)("div",{role:"alert"},g.value)],o=`q--slot-error-${g.value}`):(n=(0,S.KR)(i.error),o="q--slot-error"):!0===t.hideHint&&!0!==e.focused.value||(void 0!==t.hint?(n=[(0,r.h)("div",t.hint)],o=`q--slot-hint-${t.hint}`):(n=(0,S.KR)(i.hint),o="q--slot-hint"));const a=!0===t.counter||void 0!==i.counter;if(!0===t.hideBottomSpace&&!1===a&&void 0===n)return;const l=(0,r.h)("div",{key:o,class:"q-field__messages col"},n);return(0,r.h)("div",{class:"q-field__bottom row items-start q-field__bottom--"+(!0!==t.hideBottomSpace?"animated":"stale")},[!0===t.hideBottomSpace?l:(0,r.h)(s.uT,{name:"q-transition--field-message"},(()=>l)),!0===a?(0,r.h)("div",{class:"q-field__counter"},void 0!==i.counter?i.counter():e.computedCounter.value):null])}function q(e,t){return null===t?null:(0,r.h)("div",{key:e,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},t)}(0,r.YP)((()=>t.for),(t=>{e.targetUid.value=K(t)})),Object.assign(c,{focus:R,blur:P});let U=!1;return(0,r.se)((()=>{U=!0})),(0,r.dl)((()=>{!0===U&&!0===t.autofocus&&c.focus()})),(0,r.bv)((()=>{!0===o.uX.value&&void 0===t.for&&(e.targetUid.value=K()),!0===t.autofocus&&c.focus()})),(0,r.Jd)((()=>{clearTimeout(d)})),function(){const n=void 0===e.getControl&&void 0===i.control?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus,...C.value}:C.value;return(0,r.h)("label",{ref:e.rootRef,class:[b.value,u.class],style:u.style,...n},[void 0!==i.before?(0,r.h)("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:x.X$},i.before()):null,(0,r.h)("div",{class:"q-field__inner relative-position col self-stretch"},[(0,r.h)("div",{ref:e.controlRef,class:k.value,tabindex:-1,...e.controlEvents},L()),!0===_.value?F():null]),void 0!==i.after?(0,r.h)("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:x.X$},i.after()):null])}}},9256:(e,t,n)=>{"use strict";n.d(t,{Do:()=>o,Fz:()=>i,eX:()=>s});var r=n(9835);const i={name:String};function s(e={}){return(t,n,i)=>{t[n]((0,r.h)("input",{class:"hidden"+(i||""),...e.value}))}}function o(e){return(0,r.Fl)((()=>e.name||e.for))}},4953:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(9835),i=n(5310);function s(e,t,n){let s;function o(){void 0!==s&&(i.Z.remove(s),s=void 0)}return(0,r.Jd)((()=>{!0===e.value&&o()})),{removeFromHistory:o,addToHistory(){s={condition:()=>!0===n.value,handler:t},i.Z.add(s)}}}},2802:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const r=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,i=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,s=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/;function o(e){return function(t){if("compositionend"===t.type||"change"===t.type){if(!0!==t.target.composing)return;t.target.composing=!1,e(t)}else"compositionupdate"===t.type?"string"===typeof t.data&&!1===r.test(t.data)&&!1===i.test(t.data)&&!1===s.test(t.data)&&(t.target.composing=!1):t.target.composing=!0}}},3842:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a,gH:()=>o,vr:()=>s});var r=n(9835),i=n(2046);const s={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},o=["before-show","show","before-hide","hide"];function a({showing:e,canShow:t,hideOnRouteChange:n,handleShow:s,handleHide:o,processOnMount:a}){const l=(0,r.FN)(),{props:u,emit:c,proxy:h}=l;let d;function f(t){!0===e.value?g(t):p(t)}function p(e){if(!0===u.disable||void 0!==e&&!0===e.qAnchorHandled||void 0!==t&&!0!==t(e))return;const n=void 0!==u["onUpdate:modelValue"];!0===n&&(c("update:modelValue",!0),d=e,(0,r.Y3)((()=>{d===e&&(d=void 0)}))),null!==u.modelValue&&!1!==n||m(e)}function m(t){!0!==e.value&&(e.value=!0,c("before-show",t),void 0!==s?s(t):c("show",t))}function g(e){if(!0===u.disable)return;const t=void 0!==u["onUpdate:modelValue"];!0===t&&(c("update:modelValue",!1),d=e,(0,r.Y3)((()=>{d===e&&(d=void 0)}))),null!==u.modelValue&&!1!==t||v(e)}function v(t){!1!==e.value&&(e.value=!1,c("before-hide",t),void 0!==o?o(t):c("hide",t))}function y(t){if(!0===u.disable&&!0===t)void 0!==u["onUpdate:modelValue"]&&c("update:modelValue",!1);else if(!0===t!==e.value){const e=!0===t?m:v;e(d)}}(0,r.YP)((()=>u.modelValue),y),void 0!==n&&!0===(0,i.Rb)(l)&&(0,r.YP)((()=>h.$route.fullPath),(()=>{!0===n.value&&!0===e.value&&g()})),!0===a&&(0,r.bv)((()=>{y(u.modelValue)}));const _={show:p,hide:g,toggle:f};return Object.assign(h,_),_}},1518:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(499),i=n(9835),s=(n(1384),n(7026)),o=n(6669),a=n(2909);function l(e){e=e.parent;while(void 0!==e&&null!==e){if("QGlobalDialog"===e.type.name)return!0;if("QDialog"===e.type.name||"QMenu"===e.type.name)return!1;e=e.parent}return!1}function u(e,t,n,u){const c=(0,r.iH)(!1),h=(0,r.iH)(!1);let d=null;const f={},p=!0===u&&l(e);function m(t){if(!0===t)return(0,s.xF)(f),void(h.value=!0);h.value=!1,!1===c.value&&(!1===p&&null===d&&(d=(0,o.q_)()),c.value=!0,a.wN.push(e.proxy),(0,s.YX)(f))}function g(t){if(h.value=!1,!0!==t)return;(0,s.xF)(f),c.value=!1;const n=a.wN.indexOf(e.proxy);n>-1&&a.wN.splice(n,1),null!==d&&((0,o.pB)(d),d=null)}return(0,i.Ah)((()=>{g(!0)})),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:m,hidePortal:g,portalIsActive:c,portalIsAccessible:h,renderPortal:()=>!0===p?n():!0===c.value?[(0,i.h)(i.lR,{to:d},n())]:void 0}}},9754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(1384),i=n(3701),s=n(7506);let o,a,l,u,c,h,d=0,f=!1;function p(e){m(e)&&(0,r.NS)(e)}function m(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=(0,r.AZ)(e),n=e.shiftKey&&!e.deltaX,s=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),o=n||s?e.deltaY:e.deltaX;for(let r=0;r<t.length;r++){const e=t[r];if((0,i.QA)(e,s))return s?o<0&&0===e.scrollTop||o>0&&e.scrollTop+e.clientHeight===e.scrollHeight:o<0&&0===e.scrollLeft||o>0&&e.scrollLeft+e.clientWidth===e.scrollWidth}return!0}function g(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function v(e){!0!==f&&(f=!0,requestAnimationFrame((()=>{f=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:r}=document.scrollingElement;void 0!==l&&t===window.innerHeight||(l=n-t,document.scrollingElement.scrollTop=r),r>l&&(document.scrollingElement.scrollTop-=Math.ceil((r-l)/8))})))}function y(e){const t=document.body,n=void 0!==window.visualViewport;if("add"===e){const{overflowY:e,overflowX:l}=window.getComputedStyle(t);o=(0,i.OI)(window),a=(0,i.u3)(window),u=t.style.left,c=t.style.top,t.style.left=`-${o}px`,t.style.top=`-${a}px`,"hidden"!==l&&("scroll"===l||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),"hidden"!==e&&("scroll"===e||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,!0===s.Lp.is.ios&&(!0===n?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",v,r.rU.passiveCapture),window.visualViewport.addEventListener("scroll",v,r.rU.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",g,r.rU.passiveCapture))}!0===s.Lp.is.desktop&&!0===s.Lp.is.mac&&window[`${e}EventListener`]("wheel",p,r.rU.notPassive),"remove"===e&&(!0===s.Lp.is.ios&&(!0===n?(window.visualViewport.removeEventListener("resize",v,r.rU.passiveCapture),window.visualViewport.removeEventListener("scroll",v,r.rU.passiveCapture)):window.removeEventListener("scroll",g,r.rU.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=u,t.style.top=c,window.scrollTo(o,a),l=void 0)}function _(e){let t="add";if(!0===e){if(d++,void 0!==h)return clearTimeout(h),void(h=void 0);if(d>1)return}else{if(0===d)return;if(d--,d>0)return;if(t="remove",!0===s.Lp.is.ios&&!0===s.Lp.is.nativeMobile)return clearTimeout(h),void(h=setTimeout((()=>{y(t),h=void 0}),100))}y(t)}function w(){let e;return{preventBodyScroll(t){t===e||void 0===e&&!0!==t||(e=t,_(t))}}}},945:(e,t,n)=>{"use strict";n.d(t,{$:()=>d,Z:()=>f});n(8964);var r=n(9835),i=n(1384),s=n(2046);function o(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function a(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function l(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!1===Array.isArray(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function u(e,t){return!0===Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function c(e,t){return!0===Array.isArray(e)?u(e,t):!0===Array.isArray(t)?u(t,e):e===t}function h(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!1===c(e[n],t[n]))return!1;return!0}const d={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function f(e){const t=(0,r.FN)(),{props:n,proxy:u}=t,c=(0,s.Rb)(t),d=(0,r.Fl)((()=>!0!==n.disable&&void 0!==n.href)),f=(0,r.Fl)((()=>!0===c&&!0!==n.disable&&!0!==d.value&&void 0!==n.to&&null!==n.to&&""!==n.to)),p=(0,r.Fl)((()=>{if(!0===f.value)try{return u.$router.resolve(n.to)}catch(e){}return null})),m=(0,r.Fl)((()=>null!==p.value)),g=(0,r.Fl)((()=>!0===d.value||!0===m.value)),v=(0,r.Fl)((()=>"a"===n.type||!0===g.value?"a":n.tag||e||"div")),y=(0,r.Fl)((()=>!0===d.value?{href:n.href,target:n.target}:!0===m.value?{href:p.value.href,target:n.target}:{})),_=(0,r.Fl)((()=>{if(!1===m.value)return null;const{matched:e}=p.value,{length:t}=e,n=e[t-1];if(void 0===n)return-1;const r=u.$route.matched;if(0===r.length)return-1;const i=r.findIndex(a.bind(null,n));if(i>-1)return i;const s=o(e[t-2]);return t>1&&o(n)===s&&r[r.length-1].path!==s?r.findIndex(a.bind(null,e[t-2])):i})),w=(0,r.Fl)((()=>!0===m.value&&_.value>-1&&l(u.$route.params,p.value.params))),b=(0,r.Fl)((()=>!0===w.value&&_.value===u.$route.matched.length-1&&h(u.$route.params,p.value.params))),S=(0,r.Fl)((()=>!0===m.value?!0===b.value?` ${n.exactActiveClass} ${n.activeClass}`:!0===n.exact?"":!0===w.value?` ${n.activeClass}`:"":""));function k(e){return!(!0===n.disable||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||!0!==e.__qNavigate&&!0===e.defaultPrevented||void 0!==e.button&&0!==e.button||"_blank"===n.target)&&((0,i.X$)(e),u.$router[!0===n.replace?"replace":"push"](n.to).catch((e=>e)))}return{hasRouterLink:m,hasHrefLink:d,hasLink:g,linkTag:v,linkRoute:p,linkIsActive:w,linkIsExactActive:b,linkClass:S,linkProps:y,navigateToRouterLink:k}}},244:(e,t,n)=>{"use strict";n.d(t,{LU:()=>s,Ok:()=>i,ZP:()=>o});var r=n(9835);const i={xs:18,sm:24,md:32,lg:38,xl:46},s={size:String};function o(e,t=i){return(0,r.Fl)((()=>void 0!==e.size?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null))}},6916:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9835);function i(){let e;return(0,r.Jd)((()=>{e=void 0})),{registerTick(t){e=t,(0,r.Y3)((()=>{e===t&&(e(),e=void 0)}))},removeTick(){e=void 0}}}},2695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9835);function i(){let e;return(0,r.Jd)((()=>{clearTimeout(e)})),{registerTimeout(t,n){clearTimeout(e),e=setTimeout(t,n)},removeTimeout(){clearTimeout(e)}}}},431:(e,t,n)=>{"use strict";n.d(t,{D:()=>s,Z:()=>o});var r=n(499),i=n(9835);const s={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function o(e,t){const n=(0,r.iH)(t.value);return(0,i.YP)(t,(e=>{(0,i.Y3)((()=>{n.value=e}))})),{transition:(0,i.Fl)((()=>"q-transition--"+(!0===n.value?e.transitionHide:e.transitionShow))),transitionStyle:(0,i.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`))}}},4182:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(9835),i=n(499),s=n(5309);function o(){const{emit:e,proxy:t}=(0,r.FN)(),n=(0,i.iH)(null);function s(){n.value.show()}function o(){n.value.hide()}function a(t){e("ok",t),o()}function l(){e("hide")}return Object.assign(t,{show:s,hide:o}),{dialogRef:n,onDialogHide:l,onDialogOK:a,onDialogCancel:o}}const a=["ok","hide"];o.emits=a,o.emitsObject=(0,s.Z)(a);const l=o},1446:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(9835),i=n(5439);function s(){return(0,r.f3)(i.Ng)}},1136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});n(6727);var r=n(5987),i=n(223),s=n(1384),o=n(1705);function a(e,t=250){let n,r=!1;return function(){return!1===r&&(r=!0,setTimeout((()=>{r=!1}),t),n=e.apply(this,arguments)),n}}function l(e,t,n,r){!0===n.modifiers.stop&&(0,s.sT)(e);const o=n.modifiers.color;let a=n.modifiers.center;a=!0===a||!0===r;const l=document.createElement("span"),u=document.createElement("span"),c=(0,s.FK)(e),{left:h,top:d,width:f,height:p}=t.getBoundingClientRect(),m=Math.sqrt(f*f+p*p),g=m/2,v=(f-m)/2+"px",y=a?v:c.left-h-g+"px",_=(p-m)/2+"px",w=a?_:c.top-d-g+"px";u.className="q-ripple__inner",(0,i.iv)(u,{height:`${m}px`,width:`${m}px`,transform:`translate3d(${y},${w},0) scale3d(.2,.2,1)`,opacity:0}),l.className="q-ripple"+(o?" text-"+o:""),l.setAttribute("dir","ltr"),l.appendChild(u),t.appendChild(l);const b=()=>{l.remove(),clearTimeout(S)};n.abort.push(b);let S=setTimeout((()=>{u.classList.add("q-ripple__inner--enter"),u.style.transform=`translate3d(${v},${_},0) scale3d(1,1,1)`,u.style.opacity=.2,S=setTimeout((()=>{u.classList.remove("q-ripple__inner--enter"),u.classList.add("q-ripple__inner--leave"),u.style.opacity=0,S=setTimeout((()=>{l.remove(),n.abort.splice(n.abort.indexOf(b),1)}),275)}),250)}),50)}function u(e,{modifiers:t,value:n,arg:r,instance:i}){const s=Object.assign({},i.$q.config.ripple,t,n);e.modifiers={early:!0===s.early,stop:!0===s.stop,center:!0===s.center,color:s.color||r,keyCodes:[].concat(s.keyCodes||13)}}const c=(0,r.f)({name:"ripple",beforeMount(e,t){const n={enabled:!1!==t.value,modifiers:{},abort:[],start(t){!0===n.enabled&&!0!==t.qSkipRipple&&(!0===n.modifiers.early?!0===["mousedown","touchstart"].includes(t.type):"click"===t.type)&&l(t,e,n,!0===t.qKeyEvent)},keystart:a((t=>{!0===n.enabled&&!0!==t.qSkipRipple&&!0===(0,o.So)(t,n.modifiers.keyCodes)&&t.type==="key"+(!0===n.modifiers.early?"down":"up")&&l(t,e,n,!0)}),300)};u(n,t),e.__qripple=n,(0,s.M0)(n,"main",[[e,"mousedown","start","passive"],[e,"touchstart","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const n=e.__qripple;n.enabled=!1!==t.value,!0===n.enabled&&Object(t.value)===t.value&&u(n,t)}},beforeUnmount(e){const t=e.__qripple;t.abort.forEach((e=>{e()})),(0,s.ul)(t,"main"),delete e._qripple}})},5310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(702),n(6727);var r=n(7506),i=n(1384);const s=()=>!0;function o(e){return"string"===typeof e&&""!==e&&"/"!==e&&"#/"!==e}function a(e){return!0===e.startsWith("#")&&(e=e.substring(1)),!1===e.startsWith("/")&&(e="/"+e),!0===e.endsWith("/")&&(e=e.substring(0,e.length-1)),"#"+e}function l(e){if(!1===e.backButtonExit)return()=>!1;if("*"===e.backButtonExit)return s;const t=["#/"];return!0===Array.isArray(e.backButtonExit)&&t.push(...e.backButtonExit.filter(o).map(a)),()=>t.includes(window.location.hash)}const u={__history:[],add:i.ZT,remove:i.ZT,install({$q:e}){if(!0===this.__installed)return;const{cordova:t,capacitor:n}=r.Lp.is;if(!0!==t&&!0!==n)return;const i=e.config[!0===t?"cordova":"capacitor"];if(void 0!==i&&!1===i.backButton)return;if(!0===n&&(void 0===window.Capacitor||void 0===window.Capacitor.Plugins.App))return;this.add=e=>{void 0===e.condition&&(e.condition=s),this.__history.push(e)},this.remove=e=>{const t=this.__history.indexOf(e);t>=0&&this.__history.splice(t,1)};const o=l(Object.assign({backButtonExit:!0},i)),a=()=>{if(this.__history.length){const e=this.__history[this.__history.length-1];!0===e.condition()&&(this.__history.pop(),e.handler())}else!0===o()?navigator.app.exitApp():window.history.back()};!0===t?document.addEventListener("deviceready",(()=>{document.addEventListener("backbutton",a,!1)})):window.Capacitor.Plugins.App.addListener("backButton",a)}}},2289:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(4124),i=n(3251);const s={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},o=(0,r.Z)({iconMapFn:null,__icons:{}},{set(e,t){const n={...e,rtl:!0===e.rtl};n.set=o.set,Object.assign(o.__icons,n)},install({$q:e,iconSet:t,ssrContext:n}){void 0!==e.config.iconMapFn&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__icons,(0,i.g)(e,"iconMapFn",(()=>this.iconMapFn),(e=>{this.iconMapFn=e})),!0===this.__installed?void 0!==t&&this.set(t):this.set(t||s)}}),a=o},1583:(e,t,n)=>{"use strict";n.d(t,{$:()=>C,Z:()=>R});n(6727);var r=n(1957),i=n(7506),s=(n(702),n(4124)),o=n(1384),a=n(899);const l=["sm","md","lg","xl"],{passive:u}=o.rU,c=(0,s.Z)({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:o.ZT,setDebounce:o.ZT,install({$q:e,onSSRHydrated:t}){if(e.screen=this,!0===this.__installed)return void(void 0!==e.config.screen&&(!1===e.config.screen.bodyClasses?document.body.classList.remove(`screen--${this.name}`):this.__update(!0)));const{visualViewport:n}=window,r=n||window,s=document.scrollingElement||document.documentElement,o=void 0===n||!0===i.Lp.is.mobile?()=>[Math.max(window.innerWidth,s.clientWidth),Math.max(window.innerHeight,s.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-s.clientWidth,n.height*n.scale+window.innerHeight-s.clientHeight],c=void 0!==e.config.screen&&!0===e.config.screen.bodyClasses;this.__update=e=>{const[t,n]=o();if(n!==this.height&&(this.height=n),t!==this.width)this.width=t;else if(!0!==e)return;let r=this.sizes;this.gt.xs=t>=r.sm,this.gt.sm=t>=r.md,this.gt.md=t>=r.lg,this.gt.lg=t>=r.xl,this.lt.sm=t<r.sm,this.lt.md=t<r.md,this.lt.lg=t<r.lg,this.lt.xl=t<r.xl,this.xs=this.lt.sm,this.sm=!0===this.gt.xs&&!0===this.lt.md,this.md=!0===this.gt.sm&&!0===this.lt.lg,this.lg=!0===this.gt.md&&!0===this.lt.xl,this.xl=this.gt.lg,r=(!0===this.xs?"xs":!0===this.sm&&"sm")||!0===this.md&&"md"||!0===this.lg&&"lg"||"xl",r!==this.name&&(!0===c&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${r}`)),this.name=r)};let h,d={},f=16;this.setSizes=e=>{l.forEach((t=>{void 0!==e[t]&&(d[t]=e[t])}))},this.setDebounce=e=>{f=e};const p=()=>{const e=getComputedStyle(document.body);e.getPropertyValue("--q-size-sm")&&l.forEach((t=>{this.sizes[t]=parseInt(e.getPropertyValue(`--q-size-${t}`),10)})),this.setSizes=e=>{l.forEach((t=>{e[t]&&(this.sizes[t]=e[t])})),this.__update(!0)},this.setDebounce=e=>{void 0!==h&&r.removeEventListener("resize",h,u),h=e>0?(0,a.Z)(this.__update,e):this.__update,r.addEventListener("resize",h,u)},this.setDebounce(f),Object.keys(d).length>0?(this.setSizes(d),d=void 0):this.__update(),!0===c&&"xs"===this.name&&document.body.classList.add("screen--xs")};!0===i.uX.value?t.push(p):p()}});n(8964);const h=(0,s.Z)({isActive:!1,mode:!1},{__media:void 0,set(e){h.mode=e,"auto"===e?(void 0===h.__media&&(h.__media=window.matchMedia("(prefers-color-scheme: dark)"),h.__updateMedia=()=>{h.set("auto")},h.__media.addListener(h.__updateMedia)),e=h.__media.matches):void 0!==h.__media&&(h.__media.removeListener(h.__updateMedia),h.__media=void 0),h.isActive=!0===e,document.body.classList.remove("body--"+(!0===e?"light":"dark")),document.body.classList.add("body--"+(!0===e?"dark":"light"))},toggle(){h.set(!1===h.isActive)},install({$q:e,onSSRHydrated:t,ssrContext:n}){const{dark:r}=e.config;if(e.dark=this,!0===this.__installed&&void 0===r)return;this.isActive=!0===r;const s=void 0!==r&&r;if(!0===i.uX.value){const e=e=>{this.__fromSSR=e},n=this.set;this.set=e,e(s),t.push((()=>{this.set=n,this.set(this.__fromSSR)}))}else this.set(s)}}),d=h;var f=n(5310),p=n(3558),m=n(7674),g=n(1705);function v(e){return!0===e.ios?"ios":!0===e.android?"android":void 0}function y({is:e,has:t,within:n},r){const i=[!0===e.desktop?"desktop":"mobile",(!1===t.touch?"no-":"")+"touch"];if(!0===e.mobile){const t=v(e);void 0!==t&&i.push("platform-"+t)}if(!0===e.nativeMobile){const t=e.nativeMobileWrapper;i.push(t),i.push("native-mobile"),!0!==e.ios||void 0!==r[t]&&!1===r[t].iosStatusBarPadding||i.push("q-ios-padding")}else!0===e.electron?i.push("electron"):!0===e.bex&&i.push("bex");return!0===n.iframe&&i.push("within-iframe"),i}function _(){const e=document.body.className;let t=e;void 0!==i.aG&&(t=t.replace("desktop","platform-ios mobile")),!0===i.Lp.has.touch&&(t=t.replace("no-touch","touch")),!0===i.Lp.within.iframe&&(t+=" within-iframe"),e!==t&&(document.body.className=t)}function w(e){for(const t in e)(0,m.Z)(t,e[t])}const b={install(e){if(!0!==this.__installed){if(!0===i.uX.value)_();else{const{$q:t}=e;void 0!==t.config.brand&&w(t.config.brand);const n=y(i.Lp,t.config);document.body.classList.add.apply(document.body.classList,n)}!0===i.Lp.is.ios&&document.body.addEventListener("touchstart",o.ZT),window.addEventListener("keydown",g.ZK,!0)}}};var S=n(2289),k=n(5439),T=n(7495),I=n(6254);const E=[i.ZP,b,d,c,f.Z,p.Z,S.Z];function C(e,t){const n=(0,r.ri)(e);n.config.globalProperties=t.config.globalProperties;const{reload:i,...s}=t._context;return Object.assign(n._context,s),n}function x(e,t){t.forEach((t=>{t.install(e),t.__installed=!0}))}function A(e,t,n){e.config.globalProperties.$q=n.$q,e.provide(k.Ng,n.$q),x(n,E),void 0!==t.components&&Object.values(t.components).forEach((t=>{!0===(0,I.Kn)(t)&&void 0!==t.name&&e.component(t.name,t)})),void 0!==t.directives&&Object.values(t.directives).forEach((t=>{!0===(0,I.Kn)(t)&&void 0!==t.name&&e.directive(t.name,t)})),void 0!==t.plugins&&x(n,Object.values(t.plugins).filter((e=>"function"===typeof e.install&&!1===E.includes(e)))),!0===i.uX.value&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach((e=>{e()})),n.$q.onSSRHydrated=()=>{}})}const R=function(e,t={}){const n={version:"2.6.6"};!1===T.Uf?(void 0!==t.config&&Object.assign(T.w6,t.config),n.config={...T.w6},(0,T.tP)()):n.config=t.config||{},A(e,t,{parentApp:e,$q:n,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})}},3558:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,F:()=>i});n(8964);var r=n(4124);const i={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>1===e?"1 record selected.":(0===e?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function s(){const e=!0===Array.isArray(navigator.languages)&&navigator.languages.length>0?navigator.languages[0]:navigator.language;if("string"===typeof e)return e.split(/[-_]/).map(((e,t)=>0===t?e.toLowerCase():t>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase())).join("-")}const o=(0,r.Z)({__langPack:{}},{getLocale:s,set(e=i,t){const n={...e,rtl:!0===e.rtl,getLocale:s};{const e=document.documentElement;e.setAttribute("dir",!0===n.rtl?"rtl":"ltr"),e.setAttribute("lang",n.isoName),n.set=o.set,Object.assign(o.__langPack,n),o.props=n,o.isoName=n.isoName,o.nativeName=n.nativeName}},install({$q:e,lang:t,ssrContext:n}){e.lang=o.__langPack,!0===this.__installed?void 0!==t&&this.set(t):this.set(t||i)}}),a=o},7220:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});n(6727);var r=n(9835),i=n(499),s=n(2074),o=n(4455),a=n(4458),l=n(3190),u=n(5065),c=n(5987),h=n(2026);const d=(0,c.L)({name:"QCardActions",props:{...u.jO,vertical:Boolean},setup(e,{slots:t}){const n=(0,u.ZP)(e),i=(0,r.Fl)((()=>`q-card__actions ${n.value} q-card__actions--`+(!0===e.vertical?"vert column":"horiz row")));return()=>(0,r.h)("div",{class:i.value},(0,h.KR)(t.default))}});var f=n(926),p=n(6611),m=n(2857),g=n(8234),v=n(244);function y(e,t){const n=(0,i.iH)(null),s=(0,r.Fl)((()=>!0!==e.disable?null:(0,r.h)("span",{ref:n,class:"no-outline",tabindex:-1})));function o(e){const r=t.value;void 0!==e&&0===e.type.indexOf("key")?null!==r&&document.activeElement!==r&&!0===r.contains(document.activeElement)&&r.focus():null!==n.value&&(void 0===e||null!==r&&!0===r.contains(e.target))&&n.value.focus()}return{refocusTargetEl:s,refocusTarget:o}}var _=n(9256);const w={xs:30,sm:35,md:40,lg:50,xl:60};var b=n(1384);const S=(0,r.h)("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24","aria-hidden":"true"},[(0,r.h)("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),(0,r.h)("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),k=(0,c.L)({name:"QRadio",props:{...g.S,...v.LU,..._.Fz,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:s}=(0,r.FN)(),o=(0,g.Z)(e,s.$q),a=(0,v.ZP)(e,w),l=(0,i.iH)(null),{refocusTargetEl:u,refocusTarget:c}=y(e,l),d=(0,r.Fl)((()=>e.modelValue===e.val)),f=(0,r.Fl)((()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(!0===e.disable?" disabled":"")+(!0===o.value?" q-radio--dark":"")+(!0===e.dense?" q-radio--dense":"")+(!0===e.leftLabel?" reverse":""))),p=(0,r.Fl)((()=>{const t=void 0===e.color||!0!==e.keepColor&&!0!==d.value?"":` text-${e.color}`;return`q-radio__inner relative-position q-radio__inner--${!0===d.value?"truthy":"falsy"}${t}`})),k=(0,r.Fl)((()=>(!0===d.value?e.checkedIcon:e.uncheckedIcon)||null)),T=(0,r.Fl)((()=>!0===e.disable?-1:e.tabindex||0)),I=(0,r.Fl)((()=>{const t={type:"radio"};return void 0!==e.name&&Object.assign(t,{"^checked":!0===d.value?"checked":void 0,name:e.name,value:e.val}),t})),E=(0,_.eX)(I);function C(t){void 0!==t&&((0,b.NS)(t),c(t)),!0!==e.disable&&!0!==d.value&&n("update:modelValue",e.val,t)}function x(e){13!==e.keyCode&&32!==e.keyCode||(0,b.NS)(e)}function A(e){13!==e.keyCode&&32!==e.keyCode||C(e)}return Object.assign(s,{set:C}),()=>{const n=null!==k.value?[(0,r.h)("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[(0,r.h)(m.Z,{class:"q-radio__icon",name:k.value})])]:[S];!0!==e.disable&&E(n,"unshift"," q-radio__native q-ma-none q-pa-none");const i=[(0,r.h)("div",{class:p.value,style:a.value},n)];null!==u.value&&i.push(u.value);const s=void 0!==e.label?(0,h.vs)(t.default,[e.label]):(0,h.KR)(t.default);return void 0!==s&&i.push((0,r.h)("div",{class:"q-radio__label q-anchor--skip"},s)),(0,r.h)("div",{ref:l,class:f.value,tabindex:T.value,role:"radio","aria-label":e.label,"aria-checked":!0===d.value?"true":"false","aria-disabled":!0===e.disable?"true":void 0,onClick:C,onKeydown:x,onKeyup:A},i)}}}),T={...g.S,...v.LU,..._.Fz,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>"tf"===e||"ft"===e},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},I=["update:modelValue"];function E(e,t){const{props:n,slots:s,emit:o,proxy:a}=(0,r.FN)(),{$q:l}=a,u=(0,g.Z)(n,l),c=(0,i.iH)(null),{refocusTargetEl:d,refocusTarget:f}=y(n,c),p=(0,v.ZP)(n,w),m=(0,r.Fl)((()=>void 0!==n.val&&Array.isArray(n.modelValue))),S=(0,r.Fl)((()=>!0===m.value?n.modelValue.indexOf(n.val):-1)),k=(0,r.Fl)((()=>!0===m.value?S.value>-1:n.modelValue===n.trueValue)),T=(0,r.Fl)((()=>!0===m.value?-1===S.value:n.modelValue===n.falseValue)),I=(0,r.Fl)((()=>!1===k.value&&!1===T.value)),E=(0,r.Fl)((()=>!0===n.disable?-1:n.tabindex||0)),C=(0,r.Fl)((()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(!0===n.disable?" disabled":"")+(!0===u.value?` q-${e}--dark`:"")+(!0===n.dense?` q-${e}--dense`:"")+(!0===n.leftLabel?" reverse":""))),x=(0,r.Fl)((()=>{const t=!0===k.value?"truthy":!0===T.value?"falsy":"indet",r=void 0===n.color||!0!==n.keepColor&&("toggle"===e?!0!==k.value:!0===T.value)?"":` text-${n.color}`;return`q-${e}__inner relative-position non-selectable q-${e}__inner--${t}${r}`})),A=(0,r.Fl)((()=>{const e={type:"checkbox"};return void 0!==n.name&&Object.assign(e,{"^checked":!0===k.value?"checked":void 0,name:n.name,value:!0===m.value?n.val:n.trueValue}),e})),R=(0,_.eX)(A),P=(0,r.Fl)((()=>{const e={tabindex:E.value,role:"checkbox","aria-label":n.label,"aria-checked":!0===I.value?"mixed":!0===k.value?"true":"false"};return!0===n.disable&&(e["aria-disabled"]="true"),e}));function N(e){void 0!==e&&((0,b.NS)(e),f(e)),!0!==n.disable&&o("update:modelValue",O(),e)}function O(){if(!0===m.value){if(!0===k.value){const e=n.modelValue.slice();return e.splice(S.value,1),e}return n.modelValue.concat([n.val])}if(!0===k.value){if("ft"!==n.toggleOrder||!1===n.toggleIndeterminate)return n.falseValue}else{if(!0!==T.value)return"ft"!==n.toggleOrder?n.trueValue:n.falseValue;if("ft"===n.toggleOrder||!1===n.toggleIndeterminate)return n.trueValue}return n.indeterminateValue}function D(e){13!==e.keyCode&&32!==e.keyCode||(0,b.NS)(e)}function L(e){13!==e.keyCode&&32!==e.keyCode||N(e)}const M=t(k,I);return Object.assign(a,{toggle:N}),()=>{const t=M();!0!==n.disable&&R(t,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const i=[(0,r.h)("div",{class:x.value,style:p.value},t)];null!==d.value&&i.push(d.value);const o=void 0!==n.label?(0,h.vs)(s.default,[n.label]):(0,h.KR)(s.default);return void 0!==o&&i.push((0,r.h)("div",{class:`q-${e}__label q-anchor--skip`},o)),(0,r.h)("div",{ref:c,class:C.value,...P.value,onClick:N,onKeydown:D,onKeyup:L},i)}}const C=(0,r.h)("div",{key:"svg",class:"q-checkbox__bg absolute"},[(0,r.h)("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[(0,r.h)("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),(0,r.h)("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),x=(0,c.L)({name:"QCheckbox",props:T,emits:I,setup(e){function t(t,n){const i=(0,r.Fl)((()=>(!0===t.value?e.checkedIcon:!0===n.value?e.indeterminateIcon:e.uncheckedIcon)||null));return()=>null!==i.value?[(0,r.h)("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[(0,r.h)(m.Z,{class:"q-checkbox__icon",name:i.value})])]:[C]}return E("checkbox",t)}}),A=(0,c.L)({name:"QToggle",props:{...T,icon:String,iconColor:String},emits:I,setup(e){function t(t,n){const i=(0,r.Fl)((()=>(!0===t.value?e.checkedIcon:!0===n.value?e.indeterminateIcon:e.uncheckedIcon)||e.icon)),s=(0,r.Fl)((()=>!0===t.value?e.iconColor:null));return()=>[(0,r.h)("div",{class:"q-toggle__track"}),(0,r.h)("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},void 0!==i.value?[(0,r.h)(m.Z,{name:i.value,color:s.value})]:void 0)]}return E("toggle",t)}}),R={radio:k,checkbox:x,toggle:A},P=Object.keys(R),N=(0,c.L)({name:"QOptionGroup",props:{...g.S,modelValue:{required:!0},options:{type:Array,validator:e=>e.every((e=>"value"in e&&"label"in e))},name:String,type:{default:"radio",validator:e=>P.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{proxy:{$q:i}}=(0,r.FN)(),s=Array.isArray(e.modelValue);"radio"===e.type?!0===s&&console.error("q-option-group: model should not be array"):!1===s&&console.error("q-option-group: model should be array in your case");const o=(0,g.Z)(e,i),a=(0,r.Fl)((()=>R[e.type])),l=(0,r.Fl)((()=>"q-option-group q-gutter-x-sm"+(!0===e.inline?" q-option-group--inline":""))),u=(0,r.Fl)((()=>{const t={};return"radio"===e.type&&(t.role="radiogroup",!0===e.disable&&(t["aria-disabled"]="true")),t}));function c(e){t("update:modelValue",e)}return()=>(0,r.h)("div",{class:l.value,...u.value},e.options.map(((t,i)=>{const s=void 0!==n["label-"+i]?()=>n["label-"+i](t):void 0!==n.label?()=>n.label(t):void 0;return(0,r.h)("div",[(0,r.h)(a.value,{modelValue:e.modelValue,val:t.value,name:void 0===t.name?e.name:t.name,disable:e.disable||t.disable,label:void 0===s?t.label:null,leftLabel:void 0===t.leftLabel?e.leftLabel:t.leftLabel,color:void 0===t.color?e.color:t.color,checkedIcon:t.checkedIcon,uncheckedIcon:t.uncheckedIcon,dark:t.dark||o.value,size:void 0===t.size?e.size:t.size,dense:e.dense,keepColor:void 0===t.keepColor?e.keepColor:t.keepColor,"onUpdate:modelValue":c},s)])})))}});var O=n(3940),D=n(1705),L=n(6254);const M=(0,c.L)({name:"DialogPlugin",props:{...g.S,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:e=>["ok","cancel","none"].includes(e)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:n}=(0,r.FN)(),{$q:u}=n,c=(0,g.Z)(e,u),h=(0,i.iH)(null),m=(0,i.iH)(void 0!==e.prompt?e.prompt.model:void 0!==e.options?e.options.model:void 0),v=(0,r.Fl)((()=>"q-dialog-plugin"+(!0===c.value?" q-dialog-plugin--dark q-dark":"")+(!1!==e.progress?" q-dialog-plugin--progress":""))),y=(0,r.Fl)((()=>e.color||(!0===c.value?"amber":"primary"))),_=(0,r.Fl)((()=>!1===e.progress?null:!0===(0,L.Kn)(e.progress)?{component:e.progress.spinner||O.Z,props:{color:e.progress.color||y.value}}:{component:O.Z,props:{color:y.value}})),w=(0,r.Fl)((()=>void 0!==e.prompt||void 0!==e.options)),b=(0,r.Fl)((()=>{if(!0!==w.value)return{};const{model:t,isValid:n,items:r,...i}=void 0!==e.prompt?e.prompt:e.options;return i})),S=(0,r.Fl)((()=>!0===(0,L.Kn)(e.ok)||!0===e.ok?u.lang.label.ok:e.ok)),k=(0,r.Fl)((()=>!0===(0,L.Kn)(e.cancel)||!0===e.cancel?u.lang.label.cancel:e.cancel)),T=(0,r.Fl)((()=>void 0!==e.prompt?void 0!==e.prompt.isValid&&!0!==e.prompt.isValid(m.value):void 0!==e.options&&(void 0!==e.options.isValid&&!0!==e.options.isValid(m.value)))),I=(0,r.Fl)((()=>({color:y.value,label:S.value,ripple:!1,disable:T.value,...!0===(0,L.Kn)(e.ok)?e.ok:{flat:!0},"data-autofocus":"ok"===e.focus&&!0!==w.value||void 0,onClick:A}))),E=(0,r.Fl)((()=>({color:y.value,label:k.value,ripple:!1,...!0===(0,L.Kn)(e.cancel)?e.cancel:{flat:!0},"data-autofocus":"cancel"===e.focus&&!0!==w.value||void 0,onClick:R})));function C(){h.value.show()}function x(){h.value.hide()}function A(){t("ok",(0,i.IU)(m.value)),x()}function R(){x()}function P(){t("hide")}function M(e){m.value=e}function F(t){!0!==T.value&&"textarea"!==e.prompt.type&&!0===(0,D.So)(t,13)&&A()}function q(t,n){return!0===e.html?(0,r.h)(l.Z,{class:t,innerHTML:n}):(0,r.h)(l.Z,{class:t},(()=>n))}function U(){return[(0,r.h)(p.Z,{modelValue:m.value,...b.value,color:y.value,dense:!0,autofocus:!0,dark:c.value,"onUpdate:modelValue":M,onKeyup:F})]}function V(){return[(0,r.h)(N,{modelValue:m.value,...b.value,color:y.value,options:e.options.items,dark:c.value,"onUpdate:modelValue":M})]}function B(){const t=[];return e.cancel&&t.push((0,r.h)(o.Z,E.value)),e.ok&&t.push((0,r.h)(o.Z,I.value)),(0,r.h)(d,{class:!0===e.stackButtons?"items-end":"",vertical:e.stackButtons,align:"right"},(()=>t))}function j(){const t=[];return e.title&&t.push(q("q-dialog__title",e.title)),!1!==e.progress&&t.push((0,r.h)(l.Z,{class:"q-dialog__progress"},(()=>(0,r.h)(_.value.component,_.value.props)))),e.message&&t.push(q("q-dialog__message",e.message)),void 0!==e.prompt?t.push((0,r.h)(l.Z,{class:"scroll q-dialog-plugin__form"},U)):void 0!==e.options&&t.push((0,r.h)(f.Z,{dark:c.value}),(0,r.h)(l.Z,{class:"scroll q-dialog-plugin__form"},V),(0,r.h)(f.Z,{dark:c.value})),(e.ok||e.cancel)&&t.push(B()),t}function $(){return[(0,r.h)(a.Z,{class:[v.value,e.cardClass],style:e.cardStyle,dark:c.value},j)]}return(0,r.YP)((()=>e.prompt&&e.prompt.model),M),(0,r.YP)((()=>e.options&&e.options.model),M),Object.assign(n,{show:C,hide:x}),()=>(0,r.h)(s.Z,{ref:h,onHide:P},$)}});var F=n(1583),q=n(6669);function U(e,t){for(const n in t)"spinner"!==n&&Object(t[n])===t[n]?(e[n]=Object(e[n])!==e[n]?{}:{...e[n]},U(e[n],t[n])):e[n]=t[n]}function V(e,t,n){return s=>{let o,a;const l=!0===t&&void 0!==s.component;if(!0===l){const{component:e,componentProps:t}=s;o="string"===typeof e?n.component(e):e,a=t}else{const{class:t,style:n,...r}=s;o=e,a=r,void 0!==t&&(r.cardClass=t),void 0!==n&&(r.cardStyle=n)}let u,c=!1;const h=(0,i.iH)(null),d=(0,q.q_)(),f=e=>{null!==h.value&&void 0!==h.value[e]?h.value[e]():u.$.subTree&&u.$.subTree.component&&u.$.subTree.component.proxy&&u.$.subTree.component.proxy[e]?u.$.subTree.component.proxy[e]():console.error("[Quasar] Incorrectly defined Dialog component")},p=[],m=[],g={onOk(e){return p.push(e),g},onCancel(e){return m.push(e),g},onDismiss(e){return p.push(e),m.push(e),g},hide(){return f("hide"),g},update(e){if(null!==u){if(!0===l)Object.assign(a,e);else{const{class:t,style:n,...r}=e;void 0!==t&&(r.cardClass=t),void 0!==n&&(r.cardStyle=n),U(a,r)}u.$forceUpdate()}return g}},v=e=>{c=!0,p.forEach((t=>{t(e)}))},y=()=>{_.unmount(d),(0,q.pB)(d),_=null,u=null,!0!==c&&m.forEach((e=>{e()}))};let _=(0,F.$)({name:"QGlobalDialog",setup:()=>()=>(0,r.h)(o,{...a,ref:h,onOk:v,onHide:y})},n);function w(){f("show")}return u=_.mount(d),"function"===typeof o.__asyncLoader?o.__asyncLoader().then((()=>{(0,r.Y3)(w)})):(0,r.Y3)(w),g}}const B={install({$q:e,parentApp:t}){e.dialog=V(M,!0,t),!0!==this.__installed&&(this.create=e.dialog)}}},7506:(e,t,n)=>{"use strict";n.d(t,{Lp:()=>m,ZP:()=>v,aG:()=>o,uX:()=>s});var r=n(499),i=n(3251);const s=(0,r.iH)(!1);let o,a=!1;function l(e,t){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[2]||n[4]||"0",versionNumber:n[4]||n[2]||"0",platform:t[0]||""}}function u(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const c="ontouchstart"in window||window.navigator.maxTouchPoints>0;function h(e){o={is:{...e}},delete e.mac,delete e.desktop;const t=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(e,{mobile:!0,ios:!0,platform:t,[t]:!0})}function d(e){const t=e.toLowerCase(),n=u(t),r=l(t,n),i={};r.browser&&(i[r.browser]=!0,i.version=r.version,i.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(i[r.platform]=!0);const s=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];return!0===s||t.indexOf("mobile")>-1?(i.mobile=!0,i.edga||i.edgios?(i.edge=!0,r.browser="edge"):i.crios?(i.chrome=!0,r.browser="chrome"):i.fxios&&(i.firefox=!0,r.browser="firefox")):i.desktop=!0,(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),(i.chrome||i.opr||i.safari||i.vivaldi||!0===i.mobile&&!0!==i.ios&&!0!==s)&&(i.webkit=!0),i.edg&&(r.browser="edgechromium",i.edgeChromium=!0),(i.safari&&i.blackberry||i.bb)&&(r.browser="blackberry",i.blackberry=!0),i.safari&&i.playbook&&(r.browser="playbook",i.playbook=!0),i.opr&&(r.browser="opera",i.opera=!0),i.safari&&i.android&&(r.browser="android",i.android=!0),i.safari&&i.kindle&&(r.browser="kindle",i.kindle=!0),i.safari&&i.silk&&(r.browser="silk",i.silk=!0),i.vivaldi&&(r.browser="vivaldi",i.vivaldi=!0),i.name=r.browser,i.platform=r.platform,t.indexOf("electron")>-1?i.electron=!0:document.location.href.indexOf("-extension://")>-1?i.bex=!0:(void 0!==window.Capacitor?(i.capacitor=!0,i.nativeMobile=!0,i.nativeMobileWrapper="capacitor"):void 0===window._cordovaNative&&void 0===window.cordova||(i.cordova=!0,i.nativeMobile=!0,i.nativeMobileWrapper="cordova"),!0===c&&!0===i.mac&&(!0===i.desktop&&!0===i.safari||!0===i.nativeMobile&&!0!==i.android&&!0!==i.ios&&!0!==i.ipad)&&h(i)),i}const f=navigator.userAgent||navigator.vendor||window.opera,p={has:{touch:!1,webStorage:!1},within:{iframe:!1}},m={userAgent:f,is:d(f),has:{touch:c},within:{iframe:window.self!==window.top}},g={install(e){const{$q:t}=e;!0===s.value?(e.onSSRHydrated.push((()=>{s.value=!1,Object.assign(t.platform,m),o=void 0})),t.platform=(0,r.qj)(this)):t.platform=this}};{let e;(0,i.g)(m.has,"webStorage",(()=>{if(void 0!==e)return e;try{if(window.localStorage)return e=!0,!0}catch(t){}return e=!1,!1})),a=!0===m.is.ios&&-1===window.navigator.vendor.toLowerCase().indexOf("apple"),!0===s.value?Object.assign(g,m,o,p):Object.assign(g,m)}const v=g},899:(e,t,n)=>{"use strict";function r(e,t=250,n){let r;function i(){const i=arguments,s=()=>{r=void 0,!0!==n&&e.apply(this,i)};clearTimeout(r),!0===n&&void 0===r&&e.apply(this,i),r=setTimeout(s,t)}return i.cancel=()=>{clearTimeout(r)},i}n.d(t,{Z:()=>r})},223:(e,t,n)=>{"use strict";n.d(t,{iv:()=>i,mY:()=>o,sb:()=>s});var r=n(499);function i(e,t){const n=e.style;for(const r in t)n[r]=t[r]}function s(e){if(void 0===e||null===e)return;if("string"===typeof e)try{return document.querySelector(e)||void 0}catch(n){return}const t=!0===(0,r.dq)(e)?e.value:e;return t?t.$el||t:void 0}function o(e,t){if(void 0===e||null===e||!0===e.contains(t))return!0;for(let n=e.nextElementSibling;null!==n;n=n.nextElementSibling)if(n.contains(t))return!0;return!1}},1384:(e,t,n)=>{"use strict";n.d(t,{AZ:()=>a,FK:()=>o,Jf:()=>h,M0:()=>d,NS:()=>c,X$:()=>u,ZT:()=>i,du:()=>s,rU:()=>r,sT:()=>l,ul:()=>f});n(702);const r={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(r,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch(p){}function i(){}function s(e){return 0===e.button}function o(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function a(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;while(n){if(t.push(n),"HTML"===n.tagName)return t.push(document),t.push(window),t;n=n.parentElement}}function l(e){e.stopPropagation()}function u(e){!1!==e.cancelable&&e.preventDefault()}function c(e){!1!==e.cancelable&&e.preventDefault(),e.stopPropagation()}function h(e,t){if(void 0===e||!0===t&&!0===e.__dragPrevented)return;const n=!0===t?e=>{e.__dragPrevented=!0,e.addEventListener("dragstart",u,r.notPassiveCapture)}:e=>{delete e.__dragPrevented,e.removeEventListener("dragstart",u,r.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function d(e,t,n){const i=`__q_${t}_evt`;e[i]=void 0!==e[i]?e[i].concat(n):n,n.forEach((t=>{t[0].addEventListener(t[1],e[t[2]],r[t[3]])}))}function f(e,t){const n=`__q_${t}_evt`;void 0!==e[n]&&(e[n].forEach((t=>{t[0].removeEventListener(t[1],e[t[2]],r[t[3]])})),e[n]=void 0)}},321:(e,t,n)=>{"use strict";n.d(t,{Uz:()=>s,kC:()=>r,vX:()=>i,vk:()=>o});function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function s(e,t,n){if(n<=t)return t;const r=n-t+1;let i=t+(e-t)%r;return i<t&&(i=r+i),0===i?0:i}function o(e,t=2,n="0"){if(void 0===e||null===e)return e;const r=""+e;return r.length>=t?r:new Array(t-r.length+1).join(n)+r}},5987:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,f:()=>o});var r=n(499),i=n(9835);const s=e=>(0,r.Xl)((0,i.aZ)(e)),o=e=>(0,r.Xl)(e)},4124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(499),i=n(3251);const s=(e,t)=>{const n=(0,r.qj)(e);for(const r in e)(0,i.g)(t,r,(()=>n[r]),(e=>{n[r]=e}));return t}},6532:(e,t,n)=>{"use strict";n.d(t,{c:()=>h,k:()=>d});var r=n(7506),i=n(1705);const s=[];let o;function a(e){o=27===e.keyCode}function l(){!0===o&&(o=!1)}function u(e){!0===o&&(o=!1,!0===(0,i.So)(e,27)&&s[s.length-1](e))}function c(e){window[e]("keydown",a),window[e]("blur",l),window[e]("keyup",u),o=!1}function h(e){!0===r.Lp.is.desktop&&(s.push(e),1===s.length&&c("addEventListener"))}function d(e){const t=s.indexOf(e);t>-1&&(s.splice(t,1),0===s.length&&c("removeEventListener"))}},7026:(e,t,n)=>{"use strict";n.d(t,{YX:()=>o,fP:()=>u,jd:()=>l,xF:()=>a});let r=[],i=[];function s(e){i=i.filter((t=>t!==e))}function o(e){s(e),i.push(e)}function a(e){s(e),0===i.length&&r.length>0&&(r[r.length-1](),r=[])}function l(e){0===i.length?e():r.push(e)}function u(e){r=r.filter((t=>t!==e))}},4173:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,i:()=>o});var r=n(7506);const i=[];function s(e){i[i.length-1](e)}function o(e){!0===r.Lp.is.desktop&&(i.push(e),1===i.length&&document.body.addEventListener("focusin",s))}function a(e){const t=i.indexOf(e);t>-1&&(i.splice(t,1),0===i.length&&document.body.removeEventListener("focusin",s))}},5309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=()=>!0;function i(e){const t={};return e.forEach((e=>{t[e]=r})),t}},7495:(e,t,n)=>{"use strict";n.d(t,{Uf:()=>i,tP:()=>s,w6:()=>r});const r={};let i=!1;function s(){i=!0}},6669:(e,t,n)=>{"use strict";n.d(t,{pB:()=>a,q_:()=>o});var r=n(7495);const i=[];let s=document.body;function o(e){const t=document.createElement("div");if(void 0!==e&&(t.id=e),void 0!==r.w6.globalNodes){const e=r.w6.globalNodes["class"];void 0!==e&&(t.className=e)}return s.appendChild(t),i.push(t),t}function a(e){i.splice(i.indexOf(e),1),e.remove()}},3251:(e,t,n)=>{"use strict";function r(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0})}n.d(t,{g:()=>r})},6254:(e,t,n)=>{"use strict";n.d(t,{J_:()=>l,Kn:()=>a,xb:()=>o});n(702);const r="function"===typeof Map,i="function"===typeof Set,s="function"===typeof ArrayBuffer;function o(e,t){if(e===t)return!0;if(null!==e&&null!==t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;let n,a;if(e.constructor===Array){if(n=e.length,n!==t.length)return!1;for(a=n;0!==a--;)if(!0!==o(e[a],t[a]))return!1;return!0}if(!0===r&&e.constructor===Map){if(e.size!==t.size)return!1;a=e.entries().next();while(!0!==a.done){if(!0!==t.has(a.value[0]))return!1;a=a.next()}a=e.entries().next();while(!0!==a.done){if(!0!==o(a.value[1],t.get(a.value[0])))return!1;a=a.next()}return!0}if(!0===i&&e.constructor===Set){if(e.size!==t.size)return!1;a=e.entries().next();while(!0!==a.done){if(!0!==t.has(a.value[0]))return!1;a=a.next()}return!0}if(!0===s&&null!=e.buffer&&e.buffer.constructor===ArrayBuffer){if(n=e.length,n!==t.length)return!1;for(a=n;0!==a--;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const l=Object.keys(e).filter((t=>void 0!==e[t]));if(n=l.length,n!==Object.keys(t).filter((e=>void 0!==t[e])).length)return!1;for(a=n;0!==a--;){const n=l[a];if(!0!==o(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function a(e){return null!==e&&"object"===typeof e&&!0!==Array.isArray(e)}function l(e){return"[object Date]"===Object.prototype.toString.call(e)}},1705:(e,t,n)=>{"use strict";n.d(t,{So:()=>o,Wm:()=>s,ZK:()=>i});n(6727);let r=!1;function i(e){r=!0===e.isComposing}function s(e){return!0===r||e!==Object(e)||!0===e.isComposing||!0===e.qKeyEvent}function o(e,t){return!0!==s(e)&&[].concat(t).includes(e.keyCode)}},2909:(e,t,n)=>{"use strict";n.d(t,{AH:()=>s,wN:()=>i});var r=n(2046);const i=[];function s(e,t){do{if("QMenu"===e.$options.name){if(e.hide(t),!0===e.$props.separateClosePopup)return(0,r.Kq)(e)}else if(void 0!==e.__qPortalInnerRef){const n=(0,r.Kq)(e);return void 0!==n&&"QPopupProxy"===n.$options.name?(e.hide(t),n):e}e=(0,r.Kq)(e)}while(void 0!==e&&null!==e)}},2026:(e,t,n)=>{"use strict";n.d(t,{Bl:()=>s,Jl:()=>l,KR:()=>i,pf:()=>a,vs:()=>o});var r=n(9835);function i(e,t){return void 0!==e&&e()||t}function s(e,t){if(void 0!==e){const t=e();if(void 0!==t&&null!==t)return t.slice()}return t}function o(e,t){return void 0!==e?t.concat(e()):t}function a(e,t){return void 0===e?t:void 0!==t?t.concat(e()):e()}function l(e,t,n,i,s,o){t.key=i+s;const a=(0,r.h)(e,t,n);return!0===s?(0,r.wy)(a,o()):a}},2589:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(7506);function i(){if(void 0!==window.getSelection){const e=window.getSelection();void 0!==e.empty?e.empty():void 0!==e.removeAllRanges&&(e.removeAllRanges(),!0!==r.ZP.is.mobile&&e.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}},5439:(e,t,n)=>{"use strict";n.d(t,{Mw:()=>s,Ng:()=>r,YE:()=>i,vh:()=>o});const r="_q_",i="_q_l_",s="_q_pc_",o="_q_fo_"},2046:(e,t,n)=>{"use strict";n.d(t,{Kq:()=>r,Rb:()=>i});n(702);function r(e){if(Object(e.$parent)===e.$parent)return e.$parent;e=e.$.parent;while(Object(e)===e){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function i(e){return void 0!==e.appContext.config.globalProperties.$router}},3701:(e,t,n)=>{"use strict";n.d(t,{OI:()=>a,QA:()=>c,b0:()=>s,np:()=>u,u3:()=>o});n(6727);var r=n(223);const i=[null,document,document.body,document.scrollingElement,document.documentElement];function s(e,t){let n=(0,r.sb)(t);if(void 0===n){if(void 0===e||null===e)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return i.includes(n)?window:n}function o(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function a(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let l;function u(){if(void 0!==l)return l;const e=document.createElement("p"),t=document.createElement("div");(0,r.iv)(e,{width:"100%",height:"200px"}),(0,r.iv)(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),l=n-i,l}function c(e,t=!0){return!(!e||e.nodeType!==Node.ELEMENT_NODE)&&(t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"])))}},7674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(6822);function r(e,t,n=document.body){if("string"!==typeof e)throw new TypeError("Expected a string as propName");if("string"!==typeof t)throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${e}`,t)}},1947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(1583),i=n(3558),s=n(2289);const o={version:"2.6.6",install:r.Z,lang:i.Z,iconSet:s.Z}},8762:(e,t,n)=>{var r=n(3834),i=n(6107),s=n(7545),o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(s(e)+" is not a function")}},9667:(e,t,n)=>{var r=n(3834),i=n(9627),s=n(7545),o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(s(e)+" is not a constructor")}},9220:(e,t,n)=>{var r=n(3834),i=n(6107),s=r.String,o=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+s(e)+" as a prototype")}},5323:(e,t,n)=>{var r=n(4103),i=n(5267),s=n(1012),o=r("unscopables"),a=Array.prototype;void 0==a[o]&&s.f(a,o,{configurable:!0,value:i(null)}),e.exports=function(e){a[o][e]=!0}},3366:(e,t,n)=>{"use strict";var r=n(6823).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},8406:(e,t,n)=>{var r=n(3834),i=n(6123),s=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw s("Incorrect invocation")}},616:(e,t,n)=>{var r=n(3834),i=n(1419),s=r.String,o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(s(e)+" is not an object")}},2884:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},8086:(e,t,n)=>{"use strict";var r,i,s,o=n(2884),a=n(4133),l=n(3834),u=n(6107),c=n(1419),h=n(2924),d=n(4239),f=n(7545),p=n(4722),m=n(4076),g=n(1012).f,v=n(6123),y=n(7886),_=n(6534),w=n(4103),b=n(3965),S=l.Int8Array,k=S&&S.prototype,T=l.Uint8ClampedArray,I=T&&T.prototype,E=S&&y(S),C=k&&y(k),x=Object.prototype,A=l.TypeError,R=w("toStringTag"),P=b("TYPED_ARRAY_TAG"),N=b("TYPED_ARRAY_CONSTRUCTOR"),O=o&&!!_&&"Opera"!==d(l.opera),D=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},F=function(e){if(!c(e))return!1;var t=d(e);return"DataView"===t||h(L,t)||h(M,t)},q=function(e){if(!c(e))return!1;var t=d(e);return h(L,t)||h(M,t)},U=function(e){if(q(e))return e;throw A("Target is not a typed array")},V=function(e){if(u(e)&&(!_||v(E,e)))return e;throw A(f(e)+" is not a typed array constructor")},B=function(e,t,n,r){if(a){if(n)for(var i in L){var s=l[i];if(s&&h(s.prototype,e))try{delete s.prototype[e]}catch(o){try{s.prototype[e]=t}catch(u){}}}C[e]&&!n||m(C,e,n?t:O&&k[e]||t,r)}},j=function(e,t,n){var r,i;if(a){if(_){if(n)for(r in L)if(i=l[r],i&&h(i,e))try{delete i[e]}catch(s){}if(E[e]&&!n)return;try{return m(E,e,n?t:O&&E[e]||t)}catch(s){}}for(r in L)i=l[r],!i||i[e]&&!n||m(i,e,t)}};for(r in L)i=l[r],s=i&&i.prototype,s?p(s,N,i):O=!1;for(r in M)i=l[r],s=i&&i.prototype,s&&p(s,N,i);if((!O||!u(E)||E===Function.prototype)&&(E=function(){throw A("Incorrect invocation")},O))for(r in L)l[r]&&_(l[r],E);if((!O||!C||C===x)&&(C=E.prototype,O))for(r in L)l[r]&&_(l[r].prototype,C);if(O&&y(I)!==C&&_(I,C),a&&!h(C,R))for(r in D=!0,g(C,R,{get:function(){return c(this)?this[P]:void 0}}),L)l[r]&&p(l[r],P,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_CONSTRUCTOR:N,TYPED_ARRAY_TAG:D&&P,aTypedArray:U,aTypedArrayConstructor:V,exportTypedArrayMethod:B,exportTypedArrayStaticMethod:j,isView:F,isTypedArray:q,TypedArray:E,TypedArrayPrototype:C}},2248:(e,t,n)=>{"use strict";var r=n(3834),i=n(1636),s=n(4133),o=n(2884),a=n(9104),l=n(4722),u=n(2714),c=n(8814),h=n(8406),d=n(6675),f=n(7302),p=n(4686),m=n(9798),g=n(7886),v=n(6534),y=n(3450).f,_=n(1012).f,w=n(5408),b=n(6378),S=n(2365),k=n(780),T=a.PROPER,I=a.CONFIGURABLE,E=k.get,C=k.set,x="ArrayBuffer",A="DataView",R="prototype",P="Wrong length",N="Wrong index",O=r[x],D=O,L=D&&D[R],M=r[A],F=M&&M[R],q=Object.prototype,U=r.Array,V=r.RangeError,B=i(w),j=i([].reverse),$=m.pack,z=m.unpack,H=function(e){return[255&e]},W=function(e){return[255&e,e>>8&255]},K=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},G=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Y=function(e){return $(e,23,4)},Z=function(e){return $(e,52,8)},Q=function(e,t){_(e[R],t,{get:function(){return E(this)[t]}})},J=function(e,t,n,r){var i=p(n),s=E(e);if(i+t>s.byteLength)throw V(N);var o=E(s.buffer).bytes,a=i+s.byteOffset,l=b(o,a,a+t);return r?l:j(l)},X=function(e,t,n,r,i,s){var o=p(n),a=E(e);if(o+t>a.byteLength)throw V(N);for(var l=E(a.buffer).bytes,u=o+a.byteOffset,c=r(+i),h=0;h<t;h++)l[u+h]=c[s?h:t-h-1]};if(o){var ee=T&&O.name!==x;if(c((function(){O(1)}))&&c((function(){new O(-1)}))&&!c((function(){return new O,new O(1.5),new O(NaN),ee&&!I})))ee&&I&&l(O,"name",x);else{D=function(e){return h(this,L),new O(p(e))},D[R]=L;for(var te,ne=y(O),re=0;ne.length>re;)(te=ne[re++])in D||l(D,te,O[te]);L.constructor=D}v&&g(F)!==q&&v(F,q);var ie=new M(new D(2)),se=i(F.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||u(F,{setInt8:function(e,t){se(this,e,t<<24>>24)},setUint8:function(e,t){se(this,e,t<<24>>24)}},{unsafe:!0})}else D=function(e){h(this,L);var t=p(e);C(this,{bytes:B(U(t),0),byteLength:t}),s||(this.byteLength=t)},L=D[R],M=function(e,t,n){h(this,F),h(e,L);var r=E(e).byteLength,i=d(t);if(i<0||i>r)throw V("Wrong offset");if(n=void 0===n?r-i:f(n),i+n>r)throw V(P);C(this,{buffer:e,byteLength:n,byteOffset:i}),s||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},F=M[R],s&&(Q(D,"byteLength"),Q(M,"buffer"),Q(M,"byteLength"),Q(M,"byteOffset")),u(F,{getInt8:function(e){return J(this,1,e)[0]<<24>>24},getUint8:function(e){return J(this,1,e)[0]},getInt16:function(e){var t=J(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=J(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return G(J(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return G(J(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return z(J(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return z(J(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,H,t)},setUint8:function(e,t){X(this,1,e,H,t)},setInt16:function(e,t){X(this,2,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,W,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,Y,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,Z,t,arguments.length>2?arguments[2]:void 0)}});S(D,x),S(M,A),e.exports={ArrayBuffer:D,DataView:M}},5408:(e,t,n)=>{"use strict";var r=n(8332),i=n(2661),s=n(8600);e.exports=function(e){var t=r(this),n=s(t),o=arguments.length,a=i(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);while(u>a)t[a++]=e;return t}},7508:(e,t,n)=>{"use strict";var r=n(3834),i=n(6158),s=n(6654),o=n(8332),a=n(1108),l=n(5712),u=n(9627),c=n(8600),h=n(5976),d=n(4021),f=n(3395),p=r.Array;e.exports=function(e){var t=o(e),n=u(this),r=arguments.length,m=r>1?arguments[1]:void 0,g=void 0!==m;g&&(m=i(m,r>2?arguments[2]:void 0));var v,y,_,w,b,S,k=f(t),T=0;if(!k||this==p&&l(k))for(v=c(t),y=n?new this(v):p(v);v>T;T++)S=g?m(t[T],T):t[T],h(y,T,S);else for(w=d(t,k),b=w.next,y=n?new this:[];!(_=s(b,w)).done;T++)S=g?a(w,m,[_.value,T],!0):_.value,h(y,T,S);return y.length=T,y}},7714:(e,t,n)=>{var r=n(7447),i=n(2661),s=n(8600),o=function(e){return function(t,n,o){var a,l=r(t),u=s(l),c=i(o,u);if(e&&n!=n){while(u>c)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},9226:(e,t,n)=>{var r=n(6158),i=n(1636),s=n(3972),o=n(8332),a=n(8600),l=n(4837),u=i([].push),c=function(e){var t=1==e,n=2==e,i=3==e,c=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,m,g,v){for(var y,_,w=o(p),b=s(w),S=r(m,g),k=a(b),T=0,I=v||l,E=t?I(p,k):n||d?I(p,0):void 0;k>T;T++)if((f||T in b)&&(y=b[T],_=S(y,T,w),e))if(t)E[T]=_;else if(_)switch(e){case 3:return!0;case 5:return y;case 6:return T;case 2:u(E,y)}else switch(e){case 4:return!1;case 7:u(E,y)}return h?-1:i||c?c:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},6378:(e,t,n)=>{var r=n(3834),i=n(2661),s=n(8600),o=n(5976),a=r.Array,l=Math.max;e.exports=function(e,t,n){for(var r=s(e),u=i(t,r),c=i(void 0===n?r:n,r),h=a(l(c-u,0)),d=0;u<c;u++,d++)o(h,d,e[u]);return h.length=d,h}},7085:(e,t,n)=>{var r=n(6378),i=Math.floor,s=function(e,t){var n=e.length,l=i(n/2);return n<8?o(e,t):a(e,s(r(e,0,l),t),s(r(e,l),t),t)},o=function(e,t){var n,r,i=e.length,s=1;while(s<i){r=s,n=e[s];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==s++&&(e[r]=n)}return e},a=function(e,t,n,r){var i=t.length,s=n.length,o=0,a=0;while(o<i||a<s)e[o+a]=o<i&&a<s?r(t[o],n[a])<=0?t[o++]:n[a++]:o<i?t[o++]:n[a++];return e};e.exports=s},4622:(e,t,n)=>{var r=n(3834),i=n(6555),s=n(9627),o=n(1419),a=n(4103),l=a("species"),u=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,s(t)&&(t===u||i(t.prototype))?t=void 0:o(t)&&(t=t[l],null===t&&(t=void 0))),void 0===t?u:t}},4837:(e,t,n)=>{var r=n(4622);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},1108:(e,t,n)=>{var r=n(616),i=n(4829);e.exports=function(e,t,n,s){try{return s?t(r(n)[0],n[1]):t(n)}catch(o){i(e,"throw",o)}}},8272:(e,t,n)=>{var r=n(4103),i=r("iterator"),s=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){s=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!s)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(l){}return n}},6749:(e,t,n)=>{var r=n(1636),i=r({}.toString),s=r("".slice);e.exports=function(e){return s(i(e),8,-1)}},4239:(e,t,n)=>{var r=n(3834),i=n(4130),s=n(6107),o=n(6749),a=n(4103),l=a("toStringTag"),u=r.Object,c="Arguments"==o(function(){return arguments}()),h=function(e,t){try{return e[t]}catch(n){}};e.exports=i?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=h(t=u(e),l))?n:c?o(t):"Object"==(r=o(t))&&s(t.callee)?"Arguments":r}},1328:(e,t,n)=>{var r=n(1636),i=Error,s=r("".replace),o=function(e){return String(i(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=s(e,a,"");return e}},7366:(e,t,n)=>{var r=n(2924),i=n(1240),s=n(863),o=n(1012);e.exports=function(e,t,n){for(var a=i(t),l=o.f,u=s.f,c=0;c<a.length;c++){var h=a[c];r(e,h)||n&&r(n,h)||l(e,h,u(t,h))}}},911:(e,t,n)=>{var r=n(8814);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1551:(e,t,n)=>{"use strict";var r=n(619).IteratorPrototype,i=n(5267),s=n(3386),o=n(2365),a=n(1366),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=i(r,{next:s(+!u,n)}),o(e,c,!1,!0),a[c]=l,e}},4722:(e,t,n)=>{var r=n(4133),i=n(1012),s=n(3386);e.exports=r?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},3386:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5976:(e,t,n)=>{"use strict";var r=n(1017),i=n(1012),s=n(3386);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,s(0,n)):e[o]=n}},9570:(e,t,n)=>{var r=n(2358),i=n(1012);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},4076:(e,t,n)=>{var r=n(3834),i=n(6107),s=n(4722),o=n(2358),a=n(4650);e.exports=function(e,t,n,l){var u=!!l&&!!l.unsafe,c=!!l&&!!l.enumerable,h=!!l&&!!l.noTargetGet,d=l&&void 0!==l.name?l.name:t;return i(n)&&o(n,d,l),e===r?(c?e[t]=n:a(t,n),e):(u?!h&&e[t]&&(c=!0):delete e[t],c?e[t]=n:s(e,t,n),e)}},2714:(e,t,n)=>{var r=n(4076);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},3532:(e,t,n)=>{"use strict";var r=n(6943),i=n(6654),s=n(200),o=n(9104),a=n(6107),l=n(1551),u=n(7886),c=n(6534),h=n(2365),d=n(4722),f=n(4076),p=n(4103),m=n(1366),g=n(619),v=o.PROPER,y=o.CONFIGURABLE,_=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,b=p("iterator"),S="keys",k="values",T="entries",I=function(){return this};e.exports=function(e,t,n,o,p,g,E){l(n,t,o);var C,x,A,R=function(e){if(e===p&&L)return L;if(!w&&e in O)return O[e];switch(e){case S:return function(){return new n(this,e)};case k:return function(){return new n(this,e)};case T:return function(){return new n(this,e)}}return function(){return new n(this)}},P=t+" Iterator",N=!1,O=e.prototype,D=O[b]||O["@@iterator"]||p&&O[p],L=!w&&D||R(p),M="Array"==t&&O.entries||D;if(M&&(C=u(M.call(new e)),C!==Object.prototype&&C.next&&(s||u(C)===_||(c?c(C,_):a(C[b])||f(C,b,I)),h(C,P,!0,!0),s&&(m[P]=I))),v&&p==k&&D&&D.name!==k&&(!s&&y?d(O,"name",k):(N=!0,L=function(){return i(D,this)})),p)if(x={values:R(k),keys:g?L:R(S),entries:R(T)},E)for(A in x)(w||N||!(A in O))&&f(O,A,x[A]);else r({target:t,proto:!0,forced:w||N},x);return s&&!E||O[b]===L||f(O,b,L,{name:p}),m[t]=L,x}},4133:(e,t,n)=>{var r=n(8814);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1657:(e,t,n)=>{var r=n(3834),i=n(1419),s=r.document,o=i(s)&&i(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},5243:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},210:(e,t,n)=>{var r=n(1657),i=r("span").classList,s=i&&i.constructor&&i.constructor.prototype;e.exports=s===Object.prototype?void 0:s},259:(e,t,n)=>{var r=n(322),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},1280:(e,t,n)=>{var r=n(322);e.exports=/MSIE|Trident/.test(r)},322:(e,t,n)=>{var r=n(7859);e.exports=r("navigator","userAgent")||""},1418:(e,t,n)=>{var r,i,s=n(3834),o=n(322),a=s.process,l=s.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(r=c.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},7433:(e,t,n)=>{var r=n(322),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},203:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9277:(e,t,n)=>{var r=n(8814),i=n(3386);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},6943:(e,t,n)=>{var r=n(3834),i=n(863).f,s=n(4722),o=n(4076),a=n(4650),l=n(7366),u=n(2764);e.exports=function(e,t){var n,c,h,d,f,p,m=e.target,g=e.global,v=e.stat;if(c=g?r:v?r[m]||a(m,{}):(r[m]||{}).prototype,c)for(h in t){if(f=t[h],e.noTargetGet?(p=i(c,h),d=p&&p.value):d=c[h],n=u(g?h:m+(v?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&s(f,"sham",!0),o(c,h,f,e)}}},8814:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},3218:(e,t,n)=>{"use strict";n(1476);var r=n(1636),i=n(4076),s=n(738),o=n(8814),a=n(4103),l=n(4722),u=a("species"),c=RegExp.prototype;e.exports=function(e,t,n,h){var d=a(e),f=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=f&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!p||n){var m=r(/./[d]),g=t(d,""[e],(function(e,t,n,i,o){var a=r(e),l=t.exec;return l===s||l===c.exec?f&&!o?{done:!0,value:m(t,n,i)}:{done:!0,value:a(n,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(c,d,g[1])}h&&l(c[d],"sham",!0)}},6112:(e,t,n)=>{var r=n(9793),i=Function.prototype,s=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(s):function(){return o.apply(s,arguments)})},6158:(e,t,n)=>{var r=n(1636),i=n(8762),s=n(9793),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:s?o(e,t):function(){return e.apply(t,arguments)}}},9793:(e,t,n)=>{var r=n(8814);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6654:(e,t,n)=>{var r=n(9793),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9104:(e,t,n)=>{var r=n(4133),i=n(2924),s=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=i(s,"name"),l=a&&"something"===function(){}.name,u=a&&(!r||r&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},1636:(e,t,n)=>{var r=n(9793),i=Function.prototype,s=i.bind,o=i.call,a=r&&s.bind(o,o);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},7859:(e,t,n)=>{var r=n(3834),i=n(6107),s=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e]):r[e]&&r[e][t]}},3395:(e,t,n)=>{var r=n(4239),i=n(7689),s=n(1366),o=n(4103),a=o("iterator");e.exports=function(e){if(void 0!=e)return i(e,a)||i(e,"@@iterator")||s[r(e)]}},4021:(e,t,n)=>{var r=n(3834),i=n(6654),s=n(8762),o=n(616),a=n(7545),l=n(3395),u=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?l(e):t;if(s(n))return o(i(n,e));throw u(a(e)+" is not iterable")}},7689:(e,t,n)=>{var r=n(8762);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},3075:(e,t,n)=>{var r=n(1636),i=n(8332),s=Math.floor,o=r("".charAt),a=r("".replace),l=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,h,d){var f=n+e.length,p=r.length,m=c;return void 0!==h&&(h=i(h),m=u),a(d,m,(function(i,a){var u;switch(o(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,f);case"<":u=h[l(a,1,-1)];break;default:var c=+a;if(0===c)return i;if(c>p){var d=s(c/10);return 0===d?i:d<=p?void 0===r[d-1]?o(a,1):r[d-1]+o(a,1):i}u=r[c-1]}return void 0===u?"":u}))}},3834:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2924:(e,t,n)=>{var r=n(1636),i=n(8332),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(i(e),t)}},1999:e=>{e.exports={}},6052:(e,t,n)=>{var r=n(7859);e.exports=r("document","documentElement")},6335:(e,t,n)=>{var r=n(4133),i=n(8814),s=n(1657);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},9798:(e,t,n)=>{var r=n(3834),i=r.Array,s=Math.abs,o=Math.pow,a=Math.floor,l=Math.log,u=Math.LN2,c=function(e,t,n){var r,c,h,d=i(n),f=8*n-t-1,p=(1<<f)-1,m=p>>1,g=23===t?o(2,-24)-o(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;e=s(e),e!=e||e===1/0?(c=e!=e?1:0,r=p):(r=a(l(e)/u),h=o(2,-r),e*h<1&&(r--,h*=2),e+=r+m>=1?g/h:g*o(2,1-m),e*h>=2&&(r++,h/=2),r+m>=p?(c=0,r=p):r+m>=1?(c=(e*h-1)*o(2,t),r+=m):(c=e*o(2,m-1)*o(2,t),r=0));while(t>=8)d[y++]=255&c,c/=256,t-=8;r=r<<t|c,f+=t;while(f>0)d[y++]=255&r,r/=256,f-=8;return d[--y]|=128*v,d},h=function(e,t){var n,r=e.length,i=8*r-t-1,s=(1<<i)-1,a=s>>1,l=i-7,u=r-1,c=e[u--],h=127&c;c>>=7;while(l>0)h=256*h+e[u--],l-=8;n=h&(1<<-l)-1,h>>=-l,l+=t;while(l>0)n=256*n+e[u--],l-=8;if(0===h)h=1-a;else{if(h===s)return n?NaN:c?-1/0:1/0;n+=o(2,t),h-=a}return(c?-1:1)*n*o(2,h-t)};e.exports={pack:c,unpack:h}},3972:(e,t,n)=>{var r=n(3834),i=n(1636),s=n(8814),o=n(6749),a=r.Object,l=i("".split);e.exports=s((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?l(e,""):a(e)}:a},2511:(e,t,n)=>{var r=n(6107),i=n(1419),s=n(6534);e.exports=function(e,t,n){var o,a;return s&&r(o=t.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&s(e,a),e}},6461:(e,t,n)=>{var r=n(1636),i=n(6107),s=n(6081),o=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return o(e)}),e.exports=s.inspectSource},6270:(e,t,n)=>{var r=n(1419),i=n(4722);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},780:(e,t,n)=>{var r,i,s,o=n(4825),a=n(3834),l=n(1636),u=n(1419),c=n(4722),h=n(2924),d=n(6081),f=n(5315),p=n(1999),m="Object already initialized",g=a.TypeError,v=a.WeakMap,y=function(e){return s(e)?i(e):r(e,{})},_=function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(o||d.state){var w=d.state||(d.state=new v),b=l(w.get),S=l(w.has),k=l(w.set);r=function(e,t){if(S(w,e))throw new g(m);return t.facade=e,k(w,e,t),t},i=function(e){return b(w,e)||{}},s=function(e){return S(w,e)}}else{var T=f("state");p[T]=!0,r=function(e,t){if(h(e,T))throw new g(m);return t.facade=e,c(e,T,t),t},i=function(e){return h(e,T)?e[T]:{}},s=function(e){return h(e,T)}}e.exports={set:r,get:i,has:s,enforce:y,getterFor:_}},5712:(e,t,n)=>{var r=n(4103),i=n(1366),s=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[s]===e)}},6555:(e,t,n)=>{var r=n(6749);e.exports=Array.isArray||function(e){return"Array"==r(e)}},6107:e=>{e.exports=function(e){return"function"==typeof e}},9627:(e,t,n)=>{var r=n(1636),i=n(8814),s=n(6107),o=n(4239),a=n(7859),l=n(6461),u=function(){},c=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),p=!d.exec(u),m=function(e){if(!s(e))return!1;try{return h(u,c,e),!0}catch(t){return!1}},g=function(e){if(!s(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,l(e))}catch(t){return!0}};g.sham=!0,e.exports=!h||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},2764:(e,t,n)=>{var r=n(8814),i=n(6107),s=/#|\.prototype\./,o=function(e,t){var n=l[a(e)];return n==c||n!=u&&(i(t)?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},3903:(e,t,n)=>{var r=n(1419),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},1419:(e,t,n)=>{var r=n(6107);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},200:e=>{e.exports=!1},1637:(e,t,n)=>{var r=n(3834),i=n(7859),s=n(6107),o=n(6123),a=n(49),l=r.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return s(t)&&o(t.prototype,l(e))}},4829:(e,t,n)=>{var r=n(6654),i=n(616),s=n(7689);e.exports=function(e,t,n){var o,a;i(e);try{if(o=s(e,"return"),!o){if("throw"===t)throw n;return n}o=r(o,e)}catch(l){a=!0,o=l}if("throw"===t)throw n;if(a)throw o;return i(o),n}},619:(e,t,n)=>{"use strict";var r,i,s,o=n(8814),a=n(6107),l=n(5267),u=n(7886),c=n(4076),h=n(4103),d=n(200),f=h("iterator"),p=!1;[].keys&&(s=[].keys(),"next"in s?(i=u(u(s)),i!==Object.prototype&&(r=i)):p=!0);var m=void 0==r||o((function(){var e={};return r[f].call(e)!==e}));m?r={}:d&&(r=l(r)),a(r[f])||c(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},1366:e=>{e.exports={}},8600:(e,t,n)=>{var r=n(7302);e.exports=function(e){return r(e.length)}},2358:(e,t,n)=>{var r=n(8814),i=n(6107),s=n(2924),o=n(4133),a=n(9104).CONFIGURABLE,l=n(6461),u=n(780),c=u.enforce,h=u.get,d=Object.defineProperty,f=o&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),p=String(String).split("String"),m=e.exports=function(e,t,n){if("Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||a&&e.name!==t)&&d(e,"name",{value:t,configurable:!0}),f&&n&&s(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity}),n&&s(n,"constructor")&&n.constructor){if(o)try{d(e,"prototype",{writable:!1})}catch(i){}}else e.prototype=void 0;var r=c(e);return s(r,"source")||(r.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return i(this)&&h(this).source||l(this)}),"toString")},1368:(e,t,n)=>{var r=n(1418),i=n(8814);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},211:(e,t,n)=>{var r=n(8814),i=n(4103),s=n(200),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},4825:(e,t,n)=>{var r=n(3834),i=n(6107),s=n(6461),o=r.WeakMap;e.exports=i(o)&&/native code/.test(s(o))},1356:(e,t,n)=>{var r=n(6975);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},9804:(e,t,n)=>{"use strict";var r=n(4133),i=n(1636),s=n(6654),o=n(8814),a=n(4315),l=n(1996),u=n(8068),c=n(8332),h=n(3972),d=Object.assign,f=Object.defineProperty,p=i([].concat);e.exports=!d||o((function(){if(r&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||a(d({},t)).join("")!=i}))?function(e,t){var n=c(e),i=arguments.length,o=1,d=l.f,f=u.f;while(i>o){var m,g=h(arguments[o++]),v=d?p(a(g),d(g)):a(g),y=v.length,_=0;while(y>_)m=v[_++],r&&!s(f,g,m)||(n[m]=g[m])}return n}:d},5267:(e,t,n)=>{var r,i=n(616),s=n(6029),o=n(203),a=n(1999),l=n(6052),u=n(1657),c=n(5315),h=">",d="<",f="prototype",p="script",m=c("IE_PROTO"),g=function(){},v=function(e){return d+p+h+e+d+"/"+p+h},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){var e,t=u("iframe"),n="java"+p+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&r?y(r):_():y(r);var e=o.length;while(e--)delete w[f][o[e]];return w()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[f]=i(e),n=new g,g[f]=null,n[m]=e):n=w(),void 0===t?n:s.f(n,t)}},6029:(e,t,n)=>{var r=n(4133),i=n(64),s=n(1012),o=n(616),a=n(7447),l=n(4315);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);var n,r=a(t),i=l(t),u=i.length,c=0;while(u>c)s.f(e,n=i[c++],r[n]);return e}},1012:(e,t,n)=>{var r=n(3834),i=n(4133),s=n(6335),o=n(64),a=n(616),l=n(1017),u=r.TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=i?o?function(e,t,n){if(a(e),t=l(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=h(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=l(t),a(n),s)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},863:(e,t,n)=>{var r=n(4133),i=n(6654),s=n(8068),o=n(3386),a=n(7447),l=n(1017),u=n(2924),c=n(6335),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=l(t),c)try{return h(e,t)}catch(n){}if(u(e,t))return o(!i(s.f,e,t),e[t])}},3450:(e,t,n)=>{var r=n(6682),i=n(203),s=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,s)}},1996:(e,t)=>{t.f=Object.getOwnPropertySymbols},7886:(e,t,n)=>{var r=n(3834),i=n(2924),s=n(6107),o=n(8332),a=n(5315),l=n(911),u=a("IE_PROTO"),c=r.Object,h=c.prototype;e.exports=l?c.getPrototypeOf:function(e){var t=o(e);if(i(t,u))return t[u];var n=t.constructor;return s(n)&&t instanceof n?n.prototype:t instanceof c?h:null}},6123:(e,t,n)=>{var r=n(1636);e.exports=r({}.isPrototypeOf)},6682:(e,t,n)=>{var r=n(1636),i=n(2924),s=n(7447),o=n(7714).indexOf,a=n(1999),l=r([].push);e.exports=function(e,t){var n,r=s(e),u=0,c=[];for(n in r)!i(a,n)&&i(r,n)&&l(c,n);while(t.length>u)i(r,n=t[u++])&&(~o(c,n)||l(c,n));return c}},4315:(e,t,n)=>{var r=n(6682),i=n(203);e.exports=Object.keys||function(e){return r(e,i)}},8068:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},6534:(e,t,n)=>{var r=n(1636),i=n(616),s=n(9220);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),s(r),t?e(n,r):n.__proto__=r,n}}():void 0)},9370:(e,t,n)=>{var r=n(3834),i=n(6654),s=n(6107),o=n(1419),a=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&s(n=e.toString)&&!o(r=i(n,e)))return r;if(s(n=e.valueOf)&&!o(r=i(n,e)))return r;if("string"!==t&&s(n=e.toString)&&!o(r=i(n,e)))return r;throw a("Can't convert object to primitive value")}},1240:(e,t,n)=>{var r=n(7859),i=n(1636),s=n(3450),o=n(1996),a=n(616),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(a(e)),n=o.f;return n?l(t,n(e)):t}},4569:(e,t,n)=>{var r=n(1012).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},3808:(e,t,n)=>{var r=n(3834),i=n(6654),s=n(616),o=n(6107),a=n(6749),l=n(738),u=r.TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var r=i(n,e,t);return null!==r&&s(r),r}if("RegExp"===a(e))return i(l,e,t);throw u("RegExp#exec called on incompatible receiver")}},738:(e,t,n)=>{"use strict";var r=n(6654),i=n(1636),s=n(6975),o=n(9592),a=n(9165),l=n(8850),u=n(5267),c=n(780).get,h=n(3425),d=n(10),f=l("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,m=p,g=i("".charAt),v=i("".indexOf),y=i("".replace),_=i("".slice),w=function(){var e=/a/,t=/b*/g;return r(p,e,"a"),r(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),b=a.BROKEN_CARET,S=void 0!==/()??/.exec("")[1],k=w||S||b||h||d;k&&(m=function(e){var t,n,i,a,l,h,d,k=this,T=c(k),I=s(e),E=T.raw;if(E)return E.lastIndex=k.lastIndex,t=r(m,E,I),k.lastIndex=E.lastIndex,t;var C=T.groups,x=b&&k.sticky,A=r(o,k),R=k.source,P=0,N=I;if(x&&(A=y(A,"y",""),-1===v(A,"g")&&(A+="g"),N=_(I,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==g(I,k.lastIndex-1))&&(R="(?: "+R+")",N=" "+N,P++),n=new RegExp("^(?:"+R+")",A)),S&&(n=new RegExp("^"+R+"$(?!\\s)",A)),w&&(i=k.lastIndex),a=r(p,x?n:k,N),x?a?(a.input=_(a.input,P),a[0]=_(a[0],P),a.index=k.lastIndex,k.lastIndex+=a[0].length):k.lastIndex=0:w&&a&&(k.lastIndex=k.global?a.index+a[0].length:i),S&&a&&a.length>1&&r(f,a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a&&C)for(a.groups=h=u(null),l=0;l<C.length;l++)d=C[l],h[d[0]]=a[d[1]];return a}),e.exports=m},9592:(e,t,n)=>{"use strict";var r=n(616);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},9165:(e,t,n)=>{var r=n(8814),i=n(3834),s=i.RegExp,o=r((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||r((function(){return!s("a","y").sticky})),l=o||r((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:l,MISSED_STICKY:a,UNSUPPORTED_Y:o}},3425:(e,t,n)=>{var r=n(8814),i=n(3834),s=i.RegExp;e.exports=r((function(){var e=s(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},10:(e,t,n)=>{var r=n(8814),i=n(3834),s=i.RegExp;e.exports=r((function(){var e=s("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},5177:(e,t,n)=>{var r=n(3834),i=r.TypeError;e.exports=function(e){if(void 0==e)throw i("Can't call method on "+e);return e}},4650:(e,t,n)=>{var r=n(3834),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},7104:(e,t,n)=>{"use strict";var r=n(7859),i=n(1012),s=n(4103),o=n(4133),a=s("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},2365:(e,t,n)=>{var r=n(1012).f,i=n(2924),s=n(4103),o=s("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},5315:(e,t,n)=>{var r=n(8850),i=n(3965),s=r("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},6081:(e,t,n)=>{var r=n(3834),i=n(4650),s="__core-js_shared__",o=r[s]||i(s,{});e.exports=o},8850:(e,t,n)=>{var r=n(200),i=n(6081);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.5",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"})},6823:(e,t,n)=>{var r=n(1636),i=n(6675),s=n(6975),o=n(5177),a=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(e){return function(t,n){var r,c,h=s(o(t)),d=i(n),f=h.length;return d<0||d>=f?e?"":void 0:(r=l(h,d),r<55296||r>56319||d+1===f||(c=l(h,d+1))<56320||c>57343?e?a(h,d):r:e?u(h,d,d+2):c-56320+(r-55296<<10)+65536)}};e.exports={codeAt:c(!1),charAt:c(!0)}},2552:(e,t,n)=>{"use strict";var r=n(3834),i=n(1636),s=2147483647,o=36,a=1,l=26,u=38,c=700,h=72,d=128,f="-",p=/[^\0-\u007E]/,m=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",v=o-a,y=r.RangeError,_=i(m.exec),w=Math.floor,b=String.fromCharCode,S=i("".charCodeAt),k=i([].join),T=i([].push),I=i("".replace),E=i("".split),C=i("".toLowerCase),x=function(e){var t=[],n=0,r=e.length;while(n<r){var i=S(e,n++);if(i>=55296&&i<=56319&&n<r){var s=S(e,n++);56320==(64512&s)?T(t,((1023&i)<<10)+(1023&s)+65536):(T(t,i),n--)}else T(t,i)}return t},A=function(e){return e+22+75*(e<26)},R=function(e,t,n){var r=0;e=n?w(e/c):e>>1,e+=w(e/t);while(e>v*l>>1)e=w(e/v),r+=o;return w(r+(v+1)*e/(e+u))},P=function(e){var t=[];e=x(e);var n,r,i=e.length,u=d,c=0,p=h;for(n=0;n<e.length;n++)r=e[n],r<128&&T(t,b(r));var m=t.length,v=m;m&&T(t,f);while(v<i){var _=s;for(n=0;n<e.length;n++)r=e[n],r>=u&&r<_&&(_=r);var S=v+1;if(_-u>w((s-c)/S))throw y(g);for(c+=(_-u)*S,u=_,n=0;n<e.length;n++){if(r=e[n],r<u&&++c>s)throw y(g);if(r==u){var I=c,E=o;while(1){var C=E<=p?a:E>=p+l?l:E-p;if(I<C)break;var P=I-C,N=o-C;T(t,b(A(C+P%N))),I=w(P/N),E+=o}T(t,b(A(I))),p=R(c,S,v==m),c=0,v++}}c++,u++}return k(t,"")};e.exports=function(e){var t,n,r=[],i=E(I(C(e),m,"."),".");for(t=0;t<i.length;t++)n=i[t],T(r,_(p,n)?"xn--"+P(n):n);return k(r,".")}},2661:(e,t,n)=>{var r=n(6675),i=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):s(n,t)}},4686:(e,t,n)=>{var r=n(3834),i=n(6675),s=n(7302),o=r.RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=s(t);if(t!==n)throw o("Wrong length or index");return n}},7447:(e,t,n)=>{var r=n(3972),i=n(5177);e.exports=function(e){return r(i(e))}},6675:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!==r||0===r?0:(r>0?n:t)(r)}},7302:(e,t,n)=>{var r=n(6675),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},8332:(e,t,n)=>{var r=n(3834),i=n(5177),s=r.Object;e.exports=function(e){return s(i(e))}},4084:(e,t,n)=>{var r=n(3834),i=n(859),s=r.RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw s("Wrong offset");return n}},859:(e,t,n)=>{var r=n(3834),i=n(6675),s=r.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw s("The argument can't be less than 0");return t}},4384:(e,t,n)=>{var r=n(3834),i=n(6654),s=n(1419),o=n(1637),a=n(7689),l=n(9370),u=n(4103),c=r.TypeError,h=u("toPrimitive");e.exports=function(e,t){if(!s(e)||o(e))return e;var n,r=a(e,h);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!s(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},1017:(e,t,n)=>{var r=n(4384),i=n(1637);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},4130:(e,t,n)=>{var r=n(4103),i=r("toStringTag"),s={};s[i]="z",e.exports="[object z]"===String(s)},6975:(e,t,n)=>{var r=n(3834),i=n(4239),s=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},7545:(e,t,n)=>{var r=n(3834),i=r.String;e.exports=function(e){try{return i(e)}catch(t){return"Object"}}},8532:(e,t,n)=>{"use strict";var r=n(6943),i=n(3834),s=n(6654),o=n(4133),a=n(5136),l=n(8086),u=n(2248),c=n(8406),h=n(3386),d=n(4722),f=n(3903),p=n(7302),m=n(4686),g=n(4084),v=n(1017),y=n(2924),_=n(4239),w=n(1419),b=n(1637),S=n(5267),k=n(6123),T=n(6534),I=n(3450).f,E=n(1157),C=n(9226).forEach,x=n(7104),A=n(1012),R=n(863),P=n(780),N=n(2511),O=P.get,D=P.set,L=A.f,M=R.f,F=Math.round,q=i.RangeError,U=u.ArrayBuffer,V=U.prototype,B=u.DataView,j=l.NATIVE_ARRAY_BUFFER_VIEWS,$=l.TYPED_ARRAY_CONSTRUCTOR,z=l.TYPED_ARRAY_TAG,H=l.TypedArray,W=l.TypedArrayPrototype,K=l.aTypedArrayConstructor,G=l.isTypedArray,Y="BYTES_PER_ELEMENT",Z="Wrong length",Q=function(e,t){K(e);var n=0,r=t.length,i=new e(r);while(r>n)i[n]=t[n++];return i},J=function(e,t){L(e,t,{get:function(){return O(this)[t]}})},X=function(e){var t;return k(V,e)||"ArrayBuffer"==(t=_(e))||"SharedArrayBuffer"==t},ee=function(e,t){return G(e)&&!b(t)&&t in e&&f(+t)&&t>=0},te=function(e,t){return t=v(t),ee(e,t)?h(2,e[t]):M(e,t)},ne=function(e,t,n){return t=v(t),!(ee(e,t)&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?L(e,t,n):(e[t]=n.value,e)};o?(j||(R.f=te,A.f=ne,J(W,"buffer"),J(W,"byteOffset"),J(W,"byteLength"),J(W,"length")),r({target:"Object",stat:!0,forced:!j},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,l=e+(n?"Clamped":"")+"Array",u="get"+e,h="set"+e,f=i[l],v=f,y=v&&v.prototype,_={},b=function(e,t){var n=O(e);return n.view[u](t*o+n.byteOffset,!0)},k=function(e,t,r){var i=O(e);n&&(r=(r=F(r))<0?0:r>255?255:255&r),i.view[h](t*o+i.byteOffset,r,!0)},A=function(e,t){L(e,t,{get:function(){return b(this,t)},set:function(e){return k(this,t,e)},enumerable:!0})};j?a&&(v=t((function(e,t,n,r){return c(e,y),N(function(){return w(t)?X(t)?void 0!==r?new f(t,g(n,o),r):void 0!==n?new f(t,g(n,o)):new f(t):G(t)?Q(v,t):s(E,v,t):new f(m(t))}(),e,v)})),T&&T(v,H),C(I(f),(function(e){e in v||d(v,e,f[e])})),v.prototype=y):(v=t((function(e,t,n,r){c(e,y);var i,a,l,u=0,h=0;if(w(t)){if(!X(t))return G(t)?Q(v,t):s(E,v,t);i=t,h=g(n,o);var d=t.byteLength;if(void 0===r){if(d%o)throw q(Z);if(a=d-h,a<0)throw q(Z)}else if(a=p(r)*o,a+h>d)throw q(Z);l=a/o}else l=m(t),a=l*o,i=new U(a);D(e,{buffer:i,byteOffset:h,byteLength:a,length:l,view:new B(i)});while(u<l)A(e,u++)})),T&&T(v,H),y=v.prototype=S(W)),y.constructor!==v&&d(y,"constructor",v),d(y,$,v),z&&d(y,z,l);var R=v!=f;_[l]=v,r({global:!0,constructor:!0,forced:R,sham:!j},_),Y in v||d(v,Y,o),Y in y||d(y,Y,o),x(l)}):e.exports=function(){}},5136:(e,t,n)=>{var r=n(3834),i=n(8814),s=n(8272),o=n(8086).NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,l=r.Int8Array;e.exports=!o||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!s((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new a(2),1,void 0).length}))},1157:(e,t,n)=>{var r=n(6158),i=n(6654),s=n(9667),o=n(8332),a=n(8600),l=n(4021),u=n(3395),c=n(5712),h=n(8086).aTypedArrayConstructor;e.exports=function(e){var t,n,d,f,p,m,g=s(this),v=o(e),y=arguments.length,_=y>1?arguments[1]:void 0,w=void 0!==_,b=u(v);if(b&&!c(b)){p=l(v,b),m=p.next,v=[];while(!(f=i(m,p)).done)v.push(f.value)}for(w&&y>2&&(_=r(_,arguments[2])),n=a(v),d=new(h(g))(n),t=0;n>t;t++)d[t]=w?_(v[t],t):v[t];return d}},3965:(e,t,n)=>{var r=n(1636),i=0,s=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+s,36)}},49:(e,t,n)=>{var r=n(1368);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},64:(e,t,n)=>{var r=n(4133),i=n(8814);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5809:(e,t,n)=>{var r=n(3834),i=r.TypeError;e.exports=function(e,t){if(e<t)throw i("Not enough arguments");return e}},4103:(e,t,n)=>{var r=n(3834),i=n(8850),s=n(2924),o=n(3965),a=n(1368),l=n(49),u=i("wks"),c=r.Symbol,h=c&&c["for"],d=l?c:c&&c.withoutSetter||o;e.exports=function(e){if(!s(u,e)||!a&&"string"!=typeof u[e]){var t="Symbol."+e;a&&s(c,e)?u[e]=c[e]:u[e]=l&&h?h(t):d(t)}return u[e]}},8376:(e,t,n)=>{"use strict";var r=n(7859),i=n(2924),s=n(4722),o=n(6123),a=n(6534),l=n(7366),u=n(4569),c=n(2511),h=n(1356),d=n(6270),f=n(1328),p=n(9277),m=n(4133),g=n(200);e.exports=function(e,t,n,v){var y="stackTraceLimit",_=v?2:1,w=e.split("."),b=w[w.length-1],S=r.apply(null,w);if(S){var k=S.prototype;if(!g&&i(k,"cause")&&delete k.cause,!n)return S;var T=r("Error"),I=t((function(e,t){var n=h(v?t:e,void 0),r=v?new S(e):new S;return void 0!==n&&s(r,"message",n),p&&s(r,"stack",f(r.stack,2)),this&&o(k,this)&&c(r,this,I),arguments.length>_&&d(r,arguments[_]),r}));if(I.prototype=k,"Error"!==b?a?a(I,T):l(I,T,{name:!0}):m&&y in S&&(u(I,S,y),u(I,S,"prepareStackTrace")),l(I,S),!g)try{k.name!==b&&s(k,"name",b),k.constructor=I}catch(E){}return I}}},6727:(e,t,n)=>{"use strict";var r=n(6943),i=n(7714).includes,s=n(8814),o=n(5323),a=s((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:a},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},8998:(e,t,n)=>{"use strict";var r=n(7447),i=n(5323),s=n(1366),o=n(780),a=n(1012).f,l=n(3532),u=n(200),c=n(4133),h="Array Iterator",d=o.set,f=o.getterFor(h);e.exports=l(Array,"Array",(function(e,t){d(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var p=s.Arguments=s.Array;if(i("keys"),i("values"),i("entries"),!u&&c&&"values"!==p.name)try{a(p,"name",{value:"values"})}catch(m){}},5583:(e,t,n)=>{var r=n(5323);r("flat")},6822:(e,t,n)=>{var r=n(6943),i=n(3834),s=n(6112),o=n(8376),a="WebAssembly",l=i[a],u=7!==Error("e",{cause:7}).cause,c=function(e,t){var n={};n[e]=o(e,t,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},h=function(e,t){if(l&&l[e]){var n={};n[e]=o(a+"."+e,t,u),r({target:a,stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",(function(e){return function(t){return s(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return s(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return s(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return s(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return s(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return s(e,this,arguments)}})),c("URIError",(function(e){return function(t){return s(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return s(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return s(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return s(e,this,arguments)}}))},1476:(e,t,n)=>{"use strict";var r=n(6943),i=n(738);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7280:(e,t,n)=>{"use strict";var r=n(6823).charAt,i=n(6975),s=n(780),o=n(3532),a="String Iterator",l=s.set,u=s.getterFor(a);o(String,"String",(function(e){l(this,{type:a,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},8964:(e,t,n)=>{"use strict";var r=n(6112),i=n(6654),s=n(1636),o=n(3218),a=n(8814),l=n(616),u=n(6107),c=n(6675),h=n(7302),d=n(6975),f=n(5177),p=n(3366),m=n(7689),g=n(3075),v=n(3808),y=n(4103),_=y("replace"),w=Math.max,b=Math.min,S=s([].concat),k=s([].push),T=s("".indexOf),I=s("".slice),E=function(e){return void 0===e?e:String(e)},C=function(){return"$0"==="a".replace(/./,"$0")}(),x=function(){return!!/./[_]&&""===/./[_]("a","$0")}(),A=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,n){var s=x?"$":"$0";return[function(e,n){var r=f(this),s=void 0==e?void 0:m(e,_);return s?i(s,e,r,n):i(t,d(r),e,n)},function(e,i){var o=l(this),a=d(e);if("string"==typeof i&&-1===T(i,s)&&-1===T(i,"$<")){var f=n(t,o,a,i);if(f.done)return f.value}var m=u(i);m||(i=d(i));var y=o.global;if(y){var _=o.unicode;o.lastIndex=0}var C=[];while(1){var x=v(o,a);if(null===x)break;if(k(C,x),!y)break;var A=d(x[0]);""===A&&(o.lastIndex=p(a,h(o.lastIndex),_))}for(var R="",P=0,N=0;N<C.length;N++){x=C[N];for(var O=d(x[0]),D=w(b(c(x.index),a.length),0),L=[],M=1;M<x.length;M++)k(L,E(x[M]));var F=x.groups;if(m){var q=S([O],L,D,a);void 0!==F&&k(q,F);var U=d(r(i,void 0,q))}else U=g(O,a,D,L,F,i);D>=P&&(R+=I(a,P,D)+U,P=D+O.length)}return R+I(a,P)}]}),!A||!C||x)},5231:(e,t,n)=>{"use strict";var r=n(8086),i=n(8600),s=n(6675),o=r.aTypedArray,a=r.exportTypedArrayMethod;a("at",(function(e){var t=o(this),n=i(t),r=s(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}))},9359:(e,t,n)=>{"use strict";var r=n(3834),i=n(6654),s=n(8086),o=n(8600),a=n(4084),l=n(8332),u=n(8814),c=r.RangeError,h=r.Int8Array,d=h&&h.prototype,f=d&&d.set,p=s.aTypedArray,m=s.exportTypedArrayMethod,g=!u((function(){var e=new Uint8ClampedArray(2);return i(f,e,{length:1,0:3},1),3!==e[1]})),v=g&&s.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){p(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(g)return i(f,this,n,t);var r=this.length,s=o(n),u=0;if(s+t>r)throw c("Wrong length");while(u<s)this[t+u]=n[u++]}),!g||v)},6408:(e,t,n)=>{"use strict";var r=n(3834),i=n(1636),s=n(8814),o=n(8762),a=n(7085),l=n(8086),u=n(259),c=n(1280),h=n(1418),d=n(7433),f=l.aTypedArray,p=l.exportTypedArrayMethod,m=r.Uint16Array,g=m&&i(m.prototype.sort),v=!!g&&!(s((function(){g(new m(2),null)}))&&s((function(){g(new m(2),{})}))),y=!!g&&!s((function(){if(h)return h<74;if(u)return u<67;if(c)return!0;if(d)return d<602;var e,t,n=new m(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(g(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0})),_=function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}};p("sort",(function(e){return void 0!==e&&o(e),y?g(this,e):a(f(this),_(e))}),!y||v)},8170:(e,t,n)=>{var r=n(8532);r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},702:(e,t,n)=>{var r=n(3834),i=n(5243),s=n(210),o=n(8998),a=n(4722),l=n(4103),u=l("iterator"),c=l("toStringTag"),h=o.values,d=function(e,t){if(e){if(e[u]!==h)try{a(e,u,h)}catch(r){e[u]=h}if(e[c]||a(e,c,t),i[t])for(var n in o)if(e[n]!==o[n])try{a(e,n,o[n])}catch(r){e[n]=o[n]}}};for(var f in i)d(r[f]&&r[f].prototype,f);d(s,"DOMTokenList")},8623:(e,t,n)=>{"use strict";n(8998);var r=n(6943),i=n(3834),s=n(6654),o=n(1636),a=n(4133),l=n(211),u=n(4076),c=n(2714),h=n(2365),d=n(1551),f=n(780),p=n(8406),m=n(6107),g=n(2924),v=n(6158),y=n(4239),_=n(616),w=n(1419),b=n(6975),S=n(5267),k=n(3386),T=n(4021),I=n(3395),E=n(5809),C=n(4103),x=n(7085),A=C("iterator"),R="URLSearchParams",P=R+"Iterator",N=f.set,O=f.getterFor(R),D=f.getterFor(P),L=Object.getOwnPropertyDescriptor,M=function(e){if(!a)return i[e];var t=L(i,e);return t&&t.value},F=M("fetch"),q=M("Request"),U=M("Headers"),V=q&&q.prototype,B=U&&U.prototype,j=i.RegExp,$=i.TypeError,z=i.decodeURIComponent,H=i.encodeURIComponent,W=o("".charAt),K=o([].join),G=o([].push),Y=o("".replace),Z=o([].shift),Q=o([].splice),J=o("".split),X=o("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=j("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return z(e)}catch(t){return e}},ie=function(e){var t=Y(e,ee," "),n=4;try{return z(t)}catch(r){while(n)t=Y(t,ne(n--),re);return t}},se=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=function(e){return oe[e]},le=function(e){return Y(H(e),se,ae)},ue=d((function(e,t){N(this,{type:P,iterator:T(O(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),ce=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===W(e,0)?X(e,1):e:b(e)))};ce.prototype={type:R,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,a,l,u=I(e);if(u){t=T(e,u),n=t.next;while(!(r=s(n,t)).done){if(i=T(_(r.value)),o=i.next,(a=s(o,i)).done||(l=s(o,i)).done||!s(o,i).done)throw $("Expected sequence with length 2");G(this.entries,{key:b(a.value),value:b(l.value)})}}else for(var c in e)g(e,c)&&G(this.entries,{key:c,value:b(e[c])})},parseQuery:function(e){if(e){var t,n,r=J(e,"&"),i=0;while(i<r.length)t=r[i++],t.length&&(n=J(t,"="),G(this.entries,{key:ie(Z(n)),value:ie(K(n,"="))}))}},serialize:function(){var e,t=this.entries,n=[],r=0;while(r<t.length)e=t[r++],G(n,le(e.key)+"="+le(e.value));return K(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){p(this,de);var e=arguments.length>0?arguments[0]:void 0;N(this,new ce(e))},de=he.prototype;if(c(de,{append:function(e,t){E(arguments.length,2);var n=O(this);G(n.entries,{key:b(e),value:b(t)}),n.updateURL()},delete:function(e){E(arguments.length,1);var t=O(this),n=t.entries,r=b(e),i=0;while(i<n.length)n[i].key===r?Q(n,i,1):i++;t.updateURL()},get:function(e){E(arguments.length,1);for(var t=O(this).entries,n=b(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){E(arguments.length,1);for(var t=O(this).entries,n=b(e),r=[],i=0;i<t.length;i++)t[i].key===n&&G(r,t[i].value);return r},has:function(e){E(arguments.length,1);var t=O(this).entries,n=b(e),r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){E(arguments.length,1);for(var n,r=O(this),i=r.entries,s=!1,o=b(e),a=b(t),l=0;l<i.length;l++)n=i[l],n.key===o&&(s?Q(i,l--,1):(s=!0,n.value=a));s||G(i,{key:o,value:a}),r.updateURL()},sort:function(){var e=O(this);x(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=O(this).entries,r=v(e,arguments.length>1?arguments[1]:void 0),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new ue(this,"keys")},values:function(){return new ue(this,"values")},entries:function(){return new ue(this,"entries")}},{enumerable:!0}),u(de,A,de.entries,{name:"entries"}),u(de,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),h(he,R),r({global:!0,constructor:!0,forced:!l},{URLSearchParams:he}),!l&&m(U)){var fe=o(B.has),pe=o(B.set),me=function(e){if(w(e)){var t,n=e.body;if(y(n)===R)return t=e.headers?new U(e.headers):new U,fe(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:k(0,b(n)),headers:k(0,t)})}return e};if(m(F)&&r({global:!0,enumerable:!0,noTargetGet:!0,forced:!0},{fetch:function(e){return F(e,arguments.length>1?me(arguments[1]):{})}}),m(q)){var ge=function(e){return p(this,V),new q(e,arguments.length>1?me(arguments[1]):{})};V.constructor=ge,ge.prototype=V,r({global:!0,constructor:!0,noTargetGet:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:he,getState:O}},3269:(e,t,n)=>{n(8623)},6614:(e,t,n)=>{"use strict";n(7280);var r,i=n(6943),s=n(4133),o=n(211),a=n(3834),l=n(6158),u=n(1636),c=n(4076),h=n(9570),d=n(8406),f=n(2924),p=n(9804),m=n(7508),g=n(6378),v=n(6823).codeAt,y=n(2552),_=n(6975),w=n(2365),b=n(5809),S=n(8623),k=n(780),T=k.set,I=k.getterFor("URL"),E=S.URLSearchParams,C=S.getState,x=a.URL,A=a.TypeError,R=a.parseInt,P=Math.floor,N=Math.pow,O=u("".charAt),D=u(/./.exec),L=u([].join),M=u(1..toString),F=u([].pop),q=u([].push),U=u("".replace),V=u([].shift),B=u("".split),j=u("".slice),$=u("".toLowerCase),z=u([].unshift),H="Invalid authority",W="Invalid scheme",K="Invalid host",G="Invalid port",Y=/[a-z]/i,Z=/[\d+-.a-z]/i,Q=/\d/,J=/^0x/i,X=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,ne=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,se=/[\t\n\r]/g,oe=function(e){var t,n,r,i,s,o,a,l=B(e,".");if(l.length&&""==l[l.length-1]&&l.length--,t=l.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=l[r],""==i)return e;if(s=10,i.length>1&&"0"==O(i,0)&&(s=D(J,i)?16:8,i=j(i,8==s?1:2)),""===i)o=0;else{if(!D(10==s?ee:8==s?X:te,i))return e;o=R(i,s)}q(n,o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=N(256,5-t))return null}else if(o>255)return null;for(a=F(n),r=0;r<n.length;r++)a+=n[r]*N(256,3-r);return a},ae=function(e){var t,n,r,i,s,o,a,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,d=function(){return O(e,h)};if(":"==d()){if(":"!=O(e,1))return;h+=2,u++,c=u}while(d()){if(8==u)return;if(":"!=d()){t=n=0;while(n<4&&D(te,d()))t=16*t+R(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,u>6)return;r=0;while(d()){if(i=null,r>0){if(!("."==d()&&r<4))return;h++}if(!D(Q,d()))return;while(D(Q,d())){if(s=R(d(),10),null===i)i=s;else{if(0==i)return;i=10*i+s}if(i>255)return;h++}l[u]=256*l[u]+i,r++,2!=r&&4!=r||u++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[u++]=t}else{if(null!==c)return;h++,u++,c=u}}if(null!==c){o=u-c,u=7;while(0!=u&&o>0)a=l[u],l[u--]=l[c+o-1],l[c+--o]=a}else if(8!=u)return;return l},le=function(e){for(var t=null,n=1,r=null,i=0,s=0;s<8;s++)0!==e[s]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=s),++i);return i>n&&(t=r,n=i),t},ue=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=P(e/256);return L(t,".")}if("object"==typeof e){for(t="",r=le(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=M(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ce={},he=p({},ce,{" ":1,'"':1,"<":1,">":1,"`":1}),de=p({},he,{"#":1,"?":1,"{":1,"}":1}),fe=p({},de,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pe=function(e,t){var n=v(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},me={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ge=function(e,t){var n;return 2==e.length&&D(Y,O(e,0))&&(":"==(n=O(e,1))||!t&&"|"==n)},ve=function(e){var t;return e.length>1&&ge(j(e,0,2))&&(2==e.length||"/"===(t=O(e,2))||"\\"===t||"?"===t||"#"===t)},ye=function(e){return"."===e||"%2e"===$(e)},_e=function(e){return e=$(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},we={},be={},Se={},ke={},Te={},Ie={},Ee={},Ce={},xe={},Ae={},Re={},Pe={},Ne={},Oe={},De={},Le={},Me={},Fe={},qe={},Ue={},Ve={},Be=function(e,t,n){var r,i,s,o=_(e);if(t){if(i=this.parse(o),i)throw A(i);this.searchParams=null}else{if(void 0!==n&&(r=new Be(n,!0)),i=this.parse(o,null,r),i)throw A(i);s=C(new E),s.bindURL(this),this.searchParams=s}};Be.prototype={type:"URL",parse:function(e,t,n){var i,s,o,a,l=this,u=t||we,c=0,h="",d=!1,p=!1,v=!1;e=_(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=U(e,ie,"")),e=U(e,se,""),i=m(e);while(c<=i.length){switch(s=i[c],u){case we:if(!s||!D(Y,s)){if(t)return W;u=Se;continue}h+=$(s),u=be;break;case be:if(s&&(D(Z,s)||"+"==s||"-"==s||"."==s))h+=$(s);else{if(":"!=s){if(t)return W;h="",u=Se,c=0;continue}if(t&&(l.isSpecial()!=f(me,h)||"file"==h&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=h,t)return void(l.isSpecial()&&me[l.scheme]==l.port&&(l.port=null));h="","file"==l.scheme?u=Oe:l.isSpecial()&&n&&n.scheme==l.scheme?u=ke:l.isSpecial()?u=Ce:"/"==i[c+1]?(u=Te,c++):(l.cannotBeABaseURL=!0,q(l.path,""),u=qe)}break;case Se:if(!n||n.cannotBeABaseURL&&"#"!=s)return W;if(n.cannotBeABaseURL&&"#"==s){l.scheme=n.scheme,l.path=g(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,u=Ve;break}u="file"==n.scheme?Oe:Ie;continue;case ke:if("/"!=s||"/"!=i[c+1]){u=Ie;continue}u=xe,c++;break;case Te:if("/"==s){u=Ae;break}u=Fe;continue;case Ie:if(l.scheme=n.scheme,s==r)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query=n.query;else if("/"==s||"\\"==s&&l.isSpecial())u=Ee;else if("?"==s)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query="",u=Ue;else{if("#"!=s){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.path.length--,u=Fe;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query=n.query,l.fragment="",u=Ve}break;case Ee:if(!l.isSpecial()||"/"!=s&&"\\"!=s){if("/"!=s){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,u=Fe;continue}u=Ae}else u=xe;break;case Ce:if(u=xe,"/"!=s||"/"!=O(h,c+1))continue;c++;break;case xe:if("/"!=s&&"\\"!=s){u=Ae;continue}break;case Ae:if("@"==s){d&&(h="%40"+h),d=!0,o=m(h);for(var y=0;y<o.length;y++){var w=o[y];if(":"!=w||v){var b=pe(w,fe);v?l.password+=b:l.username+=b}else v=!0}h=""}else if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&l.isSpecial()){if(d&&""==h)return H;c-=m(h).length+1,h="",u=Re}else h+=s;break;case Re:case Pe:if(t&&"file"==l.scheme){u=Le;continue}if(":"!=s||p){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&l.isSpecial()){if(l.isSpecial()&&""==h)return K;if(t&&""==h&&(l.includesCredentials()||null!==l.port))return;if(a=l.parseHost(h),a)return a;if(h="",u=Me,t)return;continue}"["==s?p=!0:"]"==s&&(p=!1),h+=s}else{if(""==h)return K;if(a=l.parseHost(h),a)return a;if(h="",u=Ne,t==Pe)return}break;case Ne:if(!D(Q,s)){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&l.isSpecial()||t){if(""!=h){var S=R(h,10);if(S>65535)return G;l.port=l.isSpecial()&&S===me[l.scheme]?null:S,h=""}if(t)return;u=Me;continue}return G}h+=s;break;case Oe:if(l.scheme="file","/"==s||"\\"==s)u=De;else{if(!n||"file"!=n.scheme){u=Fe;continue}if(s==r)l.host=n.host,l.path=g(n.path),l.query=n.query;else if("?"==s)l.host=n.host,l.path=g(n.path),l.query="",u=Ue;else{if("#"!=s){ve(L(g(i,c),""))||(l.host=n.host,l.path=g(n.path),l.shortenPath()),u=Fe;continue}l.host=n.host,l.path=g(n.path),l.query=n.query,l.fragment="",u=Ve}}break;case De:if("/"==s||"\\"==s){u=Le;break}n&&"file"==n.scheme&&!ve(L(g(i,c),""))&&(ge(n.path[0],!0)?q(l.path,n.path[0]):l.host=n.host),u=Fe;continue;case Le:if(s==r||"/"==s||"\\"==s||"?"==s||"#"==s){if(!t&&ge(h))u=Fe;else if(""==h){if(l.host="",t)return;u=Me}else{if(a=l.parseHost(h),a)return a;if("localhost"==l.host&&(l.host=""),t)return;h="",u=Me}continue}h+=s;break;case Me:if(l.isSpecial()){if(u=Fe,"/"!=s&&"\\"!=s)continue}else if(t||"?"!=s)if(t||"#"!=s){if(s!=r&&(u=Fe,"/"!=s))continue}else l.fragment="",u=Ve;else l.query="",u=Ue;break;case Fe:if(s==r||"/"==s||"\\"==s&&l.isSpecial()||!t&&("?"==s||"#"==s)){if(_e(h)?(l.shortenPath(),"/"==s||"\\"==s&&l.isSpecial()||q(l.path,"")):ye(h)?"/"==s||"\\"==s&&l.isSpecial()||q(l.path,""):("file"==l.scheme&&!l.path.length&&ge(h)&&(l.host&&(l.host=""),h=O(h,0)+":"),q(l.path,h)),h="","file"==l.scheme&&(s==r||"?"==s||"#"==s))while(l.path.length>1&&""===l.path[0])V(l.path);"?"==s?(l.query="",u=Ue):"#"==s&&(l.fragment="",u=Ve)}else h+=pe(s,de);break;case qe:"?"==s?(l.query="",u=Ue):"#"==s?(l.fragment="",u=Ve):s!=r&&(l.path[0]+=pe(s,ce));break;case Ue:t||"#"!=s?s!=r&&("'"==s&&l.isSpecial()?l.query+="%27":l.query+="#"==s?"%23":pe(s,ce)):(l.fragment="",u=Ve);break;case Ve:s!=r&&(l.fragment+=pe(s,he));break}c++}},parseHost:function(e){var t,n,r;if("["==O(e,0)){if("]"!=O(e,e.length-1))return K;if(t=ae(j(e,1,-1)),!t)return K;this.host=t}else if(this.isSpecial()){if(e=y(e),D(ne,e))return K;if(t=oe(e),null===t)return K;this.host=t}else{if(D(re,e))return K;for(t="",n=m(e),r=0;r<n.length;r++)t+=pe(n[r],ce);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(me,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&ge(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,s=e.port,o=e.path,a=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=ue(i),null!==s&&(u+=":"+s)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?o[0]:o.length?"/"+L(o,"/"):"",null!==a&&(u+="?"+a),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw A(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new je(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ue(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(_(e)+":",we)},getUsername:function(){return this.username},setUsername:function(e){var t=m(_(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=pe(t[n],fe)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(_(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=pe(t[n],fe)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ue(e):ue(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getHostname:function(){var e=this.host;return null===e?"":ue(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Pe)},getPort:function(){var e=this.port;return null===e?"":_(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=_(e),""==e?this.port=null:this.parse(e,Ne))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+L(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Me))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=_(e),""==e?this.query=null:("?"==O(e,0)&&(e=j(e,1)),this.query="",this.parse(e,Ue)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=_(e),""!=e?("#"==O(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,Ve)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var je=function(e){var t=d(this,$e),n=b(arguments.length,1)>1?arguments[1]:void 0,r=T(t,new Be(e,!1,n));s||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},$e=je.prototype,ze=function(e,t){return{get:function(){return I(this)[e]()},set:t&&function(e){return I(this)[t](e)},configurable:!0,enumerable:!0}};if(s&&(h($e,"href",ze("serialize","setHref")),h($e,"origin",ze("getOrigin")),h($e,"protocol",ze("getProtocol","setProtocol")),h($e,"username",ze("getUsername","setUsername")),h($e,"password",ze("getPassword","setPassword")),h($e,"host",ze("getHost","setHost")),h($e,"hostname",ze("getHostname","setHostname")),h($e,"port",ze("getPort","setPort")),h($e,"pathname",ze("getPathname","setPathname")),h($e,"search",ze("getSearch","setSearch")),h($e,"searchParams",ze("getSearchParams")),h($e,"hash",ze("getHash","setHash"))),c($e,"toJSON",(function(){return I(this).serialize()}),{enumerable:!0}),c($e,"toString",(function(){return I(this).serialize()}),{enumerable:!0}),x){var He=x.createObjectURL,We=x.revokeObjectURL;He&&c(je,"createObjectURL",l(He,x)),We&&c(je,"revokeObjectURL",l(We,x))}w(je,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!s},{URL:je})},4641:(e,t,n)=>{n(6614)},5992:(e,t,n)=>{"use strict";n.d(t,{hJ:()=>r.Q,Xb:()=>r.a5,v0:()=>r.n,e5:()=>r.a6,rh:()=>r.c,w7:()=>r.y});var r=n(7240);n(5505),n(8897),n(9795),n(3513)},7258:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.Z});var r=n(9859),i="firebase",s="9.8.1";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.Z.registerVersion(i,s,"app-compat")},9138:(e,t,n)=>{"use strict";var r=n(9859),i=n(7240),s=n(5505),o=(n(8897),n(9795),n(3513));
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function a(){return window}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l=2e3;async function u(e,t,n){var r;const{BuildInfo:s}=a();(0,i.aq)(t.sessionId,"AuthEvent did not contain a session ID");const o=await p(t.sessionId),l={};return(0,i.ar)()?l["ibi"]=s.packageName:(0,i.as)()?l["apn"]=s.packageName:(0,i.at)(e,"operation-not-supported-in-this-environment"),s.displayName&&(l["appDisplayName"]=s.displayName),l["sessionId"]=o,(0,i.au)(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,l)}async function c(e){const{BuildInfo:t}=a(),n={};(0,i.ar)()?n.iosBundleId=t.packageName:(0,i.as)()?n.androidPackageName=t.packageName:(0,i.at)(e,"operation-not-supported-in-this-environment"),await(0,i.av)(e,n)}function h(e){const{cordova:t}=a();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let s=null;r?t.plugins.browsertab.openUrl(e):s=t.InAppBrowser.open(e,(0,i.ap)()?"_blank":"_system","location=yes"),n(s)}))}))}async function d(e,t,n){const{cordova:r}=a();let s=()=>{};try{await new Promise(((o,a)=>{let u=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function h(){u||(u=window.setTimeout((()=>{a((0,i.aw)(e,"redirect-cancelled-by-user"))}),l))}function d(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&h()}t.addPassiveListener(c),document.addEventListener("resume",h,!1),(0,i.as)()&&document.addEventListener("visibilitychange",d,!1),s=()=>{t.removePassiveListener(c),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",d,!1),u&&window.clearTimeout(u)}}))}finally{s()}}function f(e){var t,n,r,s,o,l,u,c,h,d;const f=a();(0,i.ax)("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,i.ax)("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,i.ax)("function"===typeof(null===(o=null===(s=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===s?void 0:s.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.ax)("function"===typeof(null===(c=null===(u=null===(l=null===f||void 0===f?void 0:f.cordova)||void 0===l?void 0:l.plugins)||void 0===u?void 0:u.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.ax)("function"===typeof(null===(d=null===(h=null===f||void 0===f?void 0:f.cordova)||void 0===h?void 0:h.InAppBrowser)||void 0===d?void 0:d.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function p(e){const t=m(e),n=await crypto.subtle.digest("SHA-256",t),r=Array.from(new Uint8Array(n));return r.map((e=>e.toString(16).padStart(2,"0"))).join("")}function m(e){if((0,i.aq)(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g=20;class v extends i.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}function y(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:S(),postBody:null,tenantId:e.tenantId,error:(0,i.aw)(e,"no-auth-event")}}function _(e,t){return k()._set(T(e),t)}async function w(e){const t=await k()._get(T(e));return t&&await k()._remove(T(e)),t}function b(e,t){var n,r;const s=E(t);if(s.includes("/__/auth/callback")){const t=C(s),o=t["firebaseError"]?I(decodeURIComponent(t["firebaseError"])):null,a=null===(r=null===(n=null===o||void 0===o?void 0:o["code"])||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],l=a?(0,i.aw)(a):null;return l?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:s,postBody:null}}return null}function S(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<g;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function k(){return(0,i.ay)(i.b)}function T(e){return(0,i.az)("authEvent",e.config.apiKey,e.name)}function I(e){try{return JSON.parse(e)}catch(t){return null}}function E(e){const t=C(e),n=t["link"]?decodeURIComponent(t["link"]):void 0,r=C(n)["link"],i=t["deep_link_id"]?decodeURIComponent(t["deep_link_id"]):void 0,s=C(i)["link"];return s||i||r||n||e}function C(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x=500;class A{constructor(){this._redirectPersistence=i.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i.aB,this._overrideRedirectResult=i.aC}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new v(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){(0,i.at)(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){f(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),(0,i.aD)(),await this._originValidation(e);const o=y(e,n,r);await _(e,o);const a=await u(e,o,t),l=await h(a);return d(e,s,l)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=c(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=a(),s=setTimeout((async()=>{await w(e),t.onEvent(P())}),x),o=async n=>{clearTimeout(s);const r=await w(e);let i=null;r&&(null===n||void 0===n?void 0:n["url"])&&(i=b(r,n["url"])),t.onEvent(i||P())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const l=r,u=`${i.packageName.toLowerCase()}://`;a().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(u)&&o({url:e}),"function"===typeof l)try{l(e)}catch(t){console.error(t)}}}}const R=A;function P(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,i.aw)("no-auth-event")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(e,t){(0,i.aE)(e)._logFramework(t)}var O="@firebase/auth-compat",D="0.2.14";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const L=1e3;function M(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function F(){return"http:"===M()||"https:"===M()}function q(e=(0,s.z$)()){return!("file:"!==M()&&"ionic:"!==M()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function U(){return(0,s.b$)()||(0,s.UG)()}function V(){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function B(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}function j(e=(0,s.z$)()){return V()||B(e)}function $(){try{const e=self.localStorage,t=i.aI();if(e)return e["setItem"](t,"1"),e["removeItem"](t),!j()||(0,s.hl)()}catch(e){return z()&&(0,s.hl)()}return!1}function z(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function H(){return(F()||(0,s.ru)()||q())&&!U()&&$()&&!z()}function W(){return q()&&"undefined"!==typeof document}async function K(){return!!W()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),L);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}function G(){return"undefined"!==typeof window?window:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={LOCAL:"local",NONE:"none",SESSION:"session"},Z=i.ax,Q="persistence";function J(e,t){Z(Object.values(Y).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Z(t!==Y.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Z(t===Y.NONE,e,"unsupported-persistence-type"):z()?Z(t===Y.NONE||t===Y.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Z(t===Y.NONE||$(),e,"unsupported-persistence-type")}async function X(e){await e._initializationPromise;const t=te(),n=i.az(Q,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function ee(e,t){const n=te();if(!n)return[];const r=i.az(Q,e,t),s=n.getItem(r);switch(s){case Y.NONE:return[i.L];case Y.LOCAL:return[i.i,i.a];case Y.SESSION:return[i.a];default:return[]}}function te(){var e;try{return(null===(e=G())||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=i.ax;class re{constructor(){this.browserResolver=i.ay(i.k),this.cordovaResolver=i.ay(R),this.underlyingResolver=null,this._redirectPersistence=i.a,this._completeRedirectFn=i.aB,this._overrideRedirectResult=i.aC}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return W()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ne(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await K();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(e){return e.unwrap()}function se(e){return e.wrapped()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(e){return le(e)}function ae(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code){const n=t;n.resolver=new he(e,i.an(e,t))}else if(r){const e=le(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function le(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return i.P.credentialFromResult(e);const n=t.providerId;if(!n||n===i.o.PASSWORD)return null;let r;switch(n){case i.o.GOOGLE:r=i.Q;break;case i.o.FACEBOOK:r=i.N;break;case i.o.GITHUB:r=i.T;break;case i.o.TWITTER:r=i.W;break;default:const{oauthIdToken:e,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=t;return s||o||e||a?a?n.startsWith("saml.")?i.aL._create(n,a):i.J._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:s}):new i.U(n).credential({idToken:e,accessToken:s,rawNonce:l}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function ue(e,t){return t.catch((t=>{throw t instanceof s.ZR&&ae(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:oe(e),additionalUserInfo:i.al(e),user:de.getOrCreate(n)}}))}async function ce(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ue(e,n.confirm(t))}}class he{constructor(e,t){this.resolver=t,this.auth=se(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ue(ie(this.auth),this.resolver.resolveSignIn(e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this._delegate=e,this.multiFactor=i.ao(e)}static getOrCreate(e){return de.USER_MAP.has(e)||de.USER_MAP.set(e,new de(e)),de.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ue(this.auth,i.Z(this._delegate,e))}async linkWithPhoneNumber(e,t){return ce(this.auth,i.l(this._delegate,e,t))}async linkWithPopup(e){return ue(this.auth,i.d(this._delegate,e,re))}async linkWithRedirect(e){return await X(i.aE(this.auth)),i.g(this._delegate,e,re)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ue(this.auth,i._(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ce(this.auth,i.r(this._delegate,e,t))}reauthenticateWithPopup(e){return ue(this.auth,i.e(this._delegate,e,re))}async reauthenticateWithRedirect(e){return await X(i.aE(this.auth)),i.h(this._delegate,e,re)}sendEmailVerification(e){return i.ab(this._delegate,e)}async unlink(e){return await i.ak(this._delegate,e),this}updateEmail(e){return i.ag(this._delegate,e)}updatePassword(e){return i.ah(this._delegate,e)}updatePhoneNumber(e){return i.u(this._delegate,e)}updateProfile(e){return i.af(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return i.ac(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}de.USER_MAP=new WeakMap;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const fe=i.ax;class pe{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;fe(n,"invalid-api-key",{appName:e.name}),fe(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?re:void 0;this._delegate=t.initialize({options:{persistence:ge(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(i.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?de.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){i.G(this._delegate,e,t)}applyActionCode(e){return i.a2(this._delegate,e)}checkActionCode(e){return i.a3(this._delegate,e)}confirmPasswordReset(e,t){return i.a1(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ue(this._delegate,i.a5(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return i.aa(this._delegate,e)}isSignInWithEmailLink(e){return i.a8(this._delegate,e)}async getRedirectResult(){fe(H(),this._delegate,"operation-not-supported-in-this-environment");const e=await i.j(this._delegate,re);return e?ue(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){N(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=me(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=me(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return i.a7(this._delegate,e,t)}sendPasswordResetEmail(e,t){return i.a0(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(J(this._delegate,e),e){case Y.SESSION:t=i.a;break;case Y.LOCAL:const e=await i.ay(i.i)._isAvailable();t=e?i.i:i.b;break;case Y.NONE:t=i.L;break;default:return i.at("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ue(this._delegate,i.X(this._delegate))}signInWithCredential(e){return ue(this._delegate,i.Y(this._delegate,e))}signInWithCustomToken(e){return ue(this._delegate,i.$(this._delegate,e))}signInWithEmailAndPassword(e,t){return ue(this._delegate,i.a6(this._delegate,e,t))}signInWithEmailLink(e,t){return ue(this._delegate,i.a9(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ce(this._delegate,i.s(this._delegate,e,t))}async signInWithPopup(e){return fe(H(),this._delegate,"operation-not-supported-in-this-environment"),ue(this._delegate,i.c(this._delegate,e,re))}async signInWithRedirect(e){return fe(H(),this._delegate,"operation-not-supported-in-this-environment"),await X(this._delegate),i.f(this._delegate,e,re)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return i.a4(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function me(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r,s=e=>i(e&&de.getOrCreate(e));return{next:s,error:t,complete:n}}function ge(e,t){const n=ee(e,t);if("undefined"===typeof self||n.includes(i.i)||n.push(i.i),"undefined"!==typeof window)for(const r of[i.b,i.a])n.includes(r)||n.push(r);return n.includes(i.L)||n.push(i.L),n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pe.Persistence=Y;class ve{constructor(){this.providerId="phone",this._delegate=new i.P(ie(r.Z.auth()))}static credential(e,t){return i.P.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ve.PHONE_SIGN_IN_METHOD=i.P.PHONE_SIGN_IN_METHOD,ve.PROVIDER_ID=i.P.PROVIDER_ID;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ye=i.ax;class _e{constructor(e,t,n=r.Z.app()){var s;ye(null===(s=n.options)||void 0===s?void 0:s.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new i.R(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we="auth-compat";function be(e){e.INTERNAL.registerComponent(new o.wA(we,(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new pe(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:i.A.EMAIL_SIGNIN,PASSWORD_RESET:i.A.PASSWORD_RESET,RECOVER_EMAIL:i.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:i.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:i.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:i.A.VERIFY_EMAIL}},EmailAuthProvider:i.M,FacebookAuthProvider:i.N,GithubAuthProvider:i.T,GoogleAuthProvider:i.Q,OAuthProvider:i.U,SAMLAuthProvider:i.V,PhoneAuthProvider:ve,PhoneMultiFactorGenerator:i.m,RecaptchaVerifier:_e,TwitterAuthProvider:i.W,Auth:pe,AuthCredential:i.H,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion(O,D)}be(r.Z)},8210:(e,t,n)=>{"use strict";n.r(t);var r=n(9859),i=n(3513),s=n(8897),o=n(5505),a=n(9795);const l="@firebase/database",u="0.13.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let c="";function h(e){c=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new d(t)}}catch(t){}return new f},m=p("localStorage"),g=p("sessionStorage"),v=new a.Yd("@firebase/database"),y=function(){let e=1;return function(){return e++}}(),_=function(e){const t=(0,o.dS)(e),n=new o.gQ;n.update(t);const r=n.digest();return o.US.encodeByteArray(r)},w=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=w.apply(null,r):t+="object"===typeof r?(0,o.Pz)(r):r,t+=" "}return t};let b=null,S=!0;const k=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=a["in"].VERBOSE,b=v.log.bind(v),t&&g.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,g.remove("logging_enabled"))},T=function(...e){if(!0===S&&(S=!1,null===b&&!0===g.get("logging_enabled")&&k(!0)),b){const t=w.apply(null,e);b(t)}},I=function(e){return function(...t){T(e,...t)}},E=function(...e){const t="FIREBASE INTERNAL ERROR: "+w(...e);v.error(t)},C=function(...e){const t=`FIREBASE FATAL ERROR: ${w(...e)}`;throw v.error(t),new Error(t)},x=function(...e){const t="FIREBASE WARNING: "+w(...e);v.warn(t)},A=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&x("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},R=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},P=function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},N="[MIN_NAME]",O="[MAX_NAME]",D=function(e,t){if(e===t)return 0;if(e===N||t===O)return-1;if(t===N||e===O)return 1;{const n=K(e),r=K(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},L=function(e,t){return e===t?0:e<t?-1:1},M=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},F=function(e){if("object"!==typeof e||null===e)return(0,o.Pz)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,o.Pz)(t[r]),n+=":",n+=F(e[t[r]]);return n+="}",n},q=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function U(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const V=function(e){(0,o.hu)(!R(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,a,l,u;0===e?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));const c=[];for(u=n;u;u-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(u=t;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const h=c.join("");let d="";for(u=0;u<64;u+=8){let e=parseInt(h.substr(u,8),2).toString(16);1===e.length&&(e="0"+e),d+=e}return d.toLowerCase()},B=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},j=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};function $(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const z=new RegExp("^-?(0*)\\d{1,10}$"),H=-2147483648,W=2147483647,K=function(e){if(z.test(e)){const t=Number(e);if(t>=H&&t<=W)return t}return null},G=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw x("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Y=function(){const e="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Z=function(e,t){const n=setTimeout(e,t);return"object"===typeof n&&n["unref"]&&n["unref"](),n};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Q{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){x(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(T("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',x(e)}}class X{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}X.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ee="5",te="v",ne="s",re="r",ie="f",se=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oe="ls",ae="p",le="ac",ue="websocket",ce="long_polling";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class he{constructor(e,t,n,r,i=!1,s="",o=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=m.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&m.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function de(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function fe(e,t,n){let r;if((0,o.hu)("string"===typeof t,"typeof type must == string"),(0,o.hu)("object"===typeof n,"typeof params must == object"),t===ue)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ce)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}de(e)&&(n["ns"]=e.namespace);const i=[];return U(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,o.p$)(this.counters_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={},ge={};function ve(e){const t=e.toString();return me[t]||(me[t]=new pe),me[t]}function ye(e,t){const n=e.toString();return ge[n]||(ge[n]=t()),ge[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){this.pendingResponses[e]=t;while(this.pendingResponses[this.currentResponseNum]){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&G((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we="start",be="close",Se="pLPCommand",ke="pRTLPCB",Te="id",Ie="pw",Ee="ser",Ce="cb",xe="seg",Ae="ts",Re="d",Pe="dframe",Ne=1870,Oe=30,De=Ne-Oe,Le=25e3,Me=3e4;class Fe{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=I(e),this.stats_=ve(t),this.urlFn=e=>(this.appCheckToken&&(e[le]=this.appCheckToken),fe(t,ce,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new _e(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(Me)),P((()=>{if(this.isClosed_)return;this.scriptTagHolder=new qe(((...e)=>{const[t,n,r,i,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===we)this.id=n,this.password=r;else{if(t!==be)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[we]="t",e[Ee]=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e[Ce]=this.scriptTagHolder.uniqueCallbackIdentifier),e[te]=ee,this.transportSessionId&&(e[ne]=this.transportSessionId),this.lastSessionId&&(e[oe]=this.lastSessionId),this.applicationId&&(e[ae]=this.applicationId),this.appCheckToken&&(e[le]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&se.test(location.hostname)&&(e[re]=ie);const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fe.forceAllow_=!0}static forceDisallow(){Fe.forceDisallow_=!0}static isAvailable(){return!(0,o.Yr)()&&(!!Fe.forceAllow_||!Fe.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!B()&&!j())}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,o.h$)(t),r=q(n,De);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,o.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={};n[Pe]="t",n[Te]=e,n[Ie]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class qe{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=y(),window[Se+this.uniqueCallbackIdentifier]=e,window[ke+this.uniqueCallbackIdentifier]=t,this.myIFrame=qe.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){const e=document.domain;n='<script>document.domain="'+e+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){T("frame writing exception"),i.stack&&T(i.stack),T(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{const t=e.contentWindow.document;t||T("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){this.myID=e,this.myPW=t,this.alive=!0;while(this.newRequest_());}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Te]=this.myID,e[Ie]=this.myPW,e[Ee]=this.currentSerial;let t=this.urlFn(e),n="",r=0;while(this.pendingSegs.length>0){const e=this.pendingSegs[0];if(!(e.d.length+Oe+n.length<=Ne))break;{const e=this.pendingSegs.shift();n=n+"&"+xe+r+"="+e.seg+"&"+Ae+r+"="+e.ts+"&"+Re+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(Le)),i=()=>{clearTimeout(r),n()};this.addTag(e,i)}addTag(e,t){(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{T("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue=16384,Ve=45e3;let Be=null;"undefined"!==typeof MozWebSocket?Be=MozWebSocket:"undefined"!==typeof WebSocket&&(Be=WebSocket);class je{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=I(this.connId),this.stats_=ve(t),this.connURL=je.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s[te]=ee,!(0,o.Yr)()&&"undefined"!==typeof location&&location.hostname&&se.test(location.hostname)&&(s[re]=ie),t&&(s[ne]=t),n&&(s[oe]=n),r&&(s[le]=r),i&&(s[ae]=i),fe(e,ue,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,m.set("previous_websocket_failure",!0);try{let e;if((0,o.Yr)()){const e=this.nodeAdmin?"AdminNode":"Node",t={headers:{"User-Agent":`Firebase/${ee}/${c}/${process.platform}/${e}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(t.headers["Authorization"]=`Bearer ${this.authToken}`),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n=process["env"],r=0===this.connURL.indexOf("wss://")?n["HTTPS_PROXY"]||n["https_proxy"]:n["HTTP_PROXY"]||n["http_proxy"];r&&(t["proxy"]={origin:r})}this.mySock=new Be(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){je.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Be&&!je.forceDisallow_}static previouslyFailed(){return m.isInMemoryStorage||!0===m.get("previous_websocket_failure")}markConnectionHealthy(){m.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,o.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e["data"];if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=q(t,Ue);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(Ve))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}je.responsesRequiredToBeHealthy=2,je.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $e{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fe,je]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=je&&je["isAvailable"]();let n=t&&!je.previouslyFailed();if(e.webSocketOnly&&(t||x("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[je];else{const e=this.transports_=[];for(const t of $e.ALL_TRANSPORTS)t&&t["isAvailable"]()&&e.push(t);$e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$e.globalTransportInitialized_=!1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ze=6e4,He=5e3,We=10240,Ke=102400,Ge="t",Ye="d",Ze="s",Qe="r",Je="e",Xe="o",et="a",tt="n",nt="p",rt="h";class it{constructor(e,t,n,r,i,s,o,a,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=I("c:"+this.id+":"),this.transportManager_=new $e(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e["healthyTimeout"]||0;r>0&&(this.healthyTimeout_=Z((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ke?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>We?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ge in e){const t=e[Ge];t===et?this.upgradeIfSecondaryHealthy_():t===Qe?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===Xe&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=M("t",e),n=M("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:nt,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:et,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tt,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=M("t",e),n=M("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=M(Ge,e);if(Ye in e){const n=e[Ye];if(t===rt)this.onHandshake_(n);else if(t===tt){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Ze?this.onConnectionShutdown_(n):t===Qe?this.onReset_(n):t===Je?E("Server Error: "+n):t===Xe?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ee!==n&&x("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Z((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(ze))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Z((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(He))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:nt,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(m.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){(0,o.hu)(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends ot{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new at}getInitialEvent(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt=32,ut=768;class ct{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ht(){return new ct("")}function dt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ft(e){return e.pieces_.length-e.pieceNum_}function pt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ct(e.pieces_,t)}function mt(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function gt(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function vt(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function yt(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ct(t,0)}function _t(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ct)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new ct(n,0)}function wt(e){return e.pieceNum_>=e.pieces_.length}function bt(e,t){const n=dt(e),r=dt(t);if(null===n)return t;if(n===r)return bt(pt(e),pt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function St(e,t){const n=vt(e,0),r=vt(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=D(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function kt(e,t){if(ft(e)!==ft(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Tt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ft(e)>ft(t))return!1;while(n<e.pieces_.length){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class It{constructor(e,t){this.errorPrefix_=t,this.parts_=vt(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);xt(this)}}function Et(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.ug)(t),xt(e)}function Ct(e){const t=e.parts_.pop();e.byteLength_-=(0,o.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}function xt(e){if(e.byteLength_>ut)throw new Error(e.errorPrefix_+"has a key path longer than "+ut+" bytes ("+e.byteLength_+").");if(e.parts_.length>lt)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lt+") or object contains a cycle "+At(e))}function At(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends ot{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(t="visibilitychange",e="hidden"):"undefined"!==typeof document["mozHidden"]?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document["msHidden"]?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Rt}getInitialEvent(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt=1e3,Nt=3e5,Ot=3e3,Dt=3e4,Lt=1.3,Mt=3e4,Ft="server_kill",qt=3;class Ut extends st{constructor(e,t,n,r,i,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ut.nextPersistentConnectionId_++,this.log_=I("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pt,this.maxReconnectDelay_=Nt,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rt.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&at.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new o.BH,n={p:e._path.toString(),q:e._queryObject},r={action:"g",request:n,onComplete:e=>{const r=e["d"];"ok"===e["s"]?(this.onDataUpdate_(n["p"],r,!1,null),t.resolve(r)):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_||setTimeout((()=>{const e=this.outstandingGets_[i];void 0!==e&&r===e&&(delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+i+" timed out on connection"),t.reject(new Error("Client is offline.")))}),Ot),this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n},s="q";e.tag&&(i["q"]=t._queryObject,i["t"]=e.tag),i["h"]=e.hashFn(),this.sendRequest(s,i,(i=>{const s=i["d"],o=i["s"];Ut.warnOnListenWarnings_(s,t);const a=this.listens.get(n)&&this.listens.get(n).get(r);a===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&(0,o.r3)(e,"w")){const n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();x(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){const t=e&&40===e.length;(t||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Dt)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,o.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n["noauth"]=!0:"object"===typeof this.authOverride_&&(n["authvar"]=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t["s"],r=t["d"]||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e["s"],n=e["d"]||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");const i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e},s="n";r&&(i["q"]=n,i["t"]=r),this.sendRequest(s,i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e["s"],e["d"])}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s["h"]=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n["s"],n["d"])}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{const t=e["s"];if("ok"!==t){const t=e["d"];this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));const t=e["r"],n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e["b"]))}else{if("error"in e)throw"A server-side error has occurred: "+e["error"];"a"in e&&this.onDataPush_(e["a"],e["b"])}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t["p"],t["d"],!1,t["t"]):"m"===e?this.onDataUpdate_(t["p"],t["d"],!0,t["t"]):"c"===e?this.onListenRevoked_(t["p"],t["q"]):"ac"===e?this.onAuthRevoked_(t["s"],t["d"]):"apc"===e?this.onAppCheckRevoked_(t["s"],t["d"]):"sd"===e?this.onSecurityDebugPacket_(t):E("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){const e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>Mt&&(this.reconnectDelay_=Pt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Lt)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Ut.nextConnectionId_++,i=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,n())},u=function(e){(0,o.hu)(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?T("getToken() completed but was canceled"):(T("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=l&&l.token,a=new it(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{x(e+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ft)}),i))}catch(E){this.log_("Failed to get token: "+E),s||(this.repoInfo_.nodeAdmin&&x(E),l())}}}interrupt(e){T("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){T("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>F(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new ct(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){T("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qt&&(this.reconnectDelay_=Dt,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){T("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qt&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);while(this.onDisconnectRequestQueue_.length){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+c.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=at.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e}}Ut.nextPersistentConnectionId_=0,Ut.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Vt(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Vt(N,e),r=new Vt(N,t);return 0!==this.compare(n,r)}minPost(){return Vt.MIN}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jt;class $t extends Bt{static get __EMPTY_NODE(){return jt}static set __EMPTY_NODE(e){jt=e}compare(e,t){return D(e.name,t.name)}isDefinedOn(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Vt.MIN}maxPost(){return new Vt(O,jt)}makePost(e,t){return(0,o.hu)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Vt(e,jt)}toString(){return".key"}}const zt=new $t;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;while(!e.isEmpty())if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_){t=t.left;while(!t.isEmpty())this.nodeStack_.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack_.push(t),t=t.left}return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Wt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Wt.RED,this.left=null!=r?r:Gt.EMPTY_NODE,this.right=null!=i?i:Gt.EMPTY_NODE}copy(e,t,n,r,i){return new Wt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gt.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Gt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Wt.RED=!0,Wt.BLACK=!1;class Kt{copy(e,t,n,r,i){return this}insert(e,t,n){return new Wt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Gt{constructor(e,t=Gt.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Gt(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Wt.BLACK,null,null))}remove(e){return new Gt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wt.BLACK,null,null))}get(e){let t,n=this.root_;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ht(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ht(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ht(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ht(this.root_,null,this.comparator_,!0,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Yt(e,t){return D(e.name,t.name)}function Zt(e,t){return D(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qt;function Jt(e){Qt=e}Gt.EMPTY_NODE=new Kt;const Xt=function(e){return"number"===typeof e?"number:"+V(e):"string:"+e},en=function(e){if(e.isLeafNode()){const t=e.val();(0,o.hu)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===Qt||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===Qt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let tn,nn,rn;class sn{constructor(e,t=sn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),en(this.priorityNode_)}static set __childrenNodeConstructor(e){tn=e}static get __childrenNodeConstructor(){return tn}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new sn(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wt(e)?this:".priority"===dt(e)?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:sn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=dt(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,o.hu)(".priority"!==n||1===ft(e),".priority must be the last token in a path"),this.updateImmediateChild(n,sn.__childrenNodeConstructor.EMPTY_NODE.updateChild(pt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xt(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?V(this.value_):this.value_,this.lazyHash_=_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===sn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof sn.__childrenNodeConstructor?-1:((0,o.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=sn.VALUE_TYPE_ORDER.indexOf(t),i=sn.VALUE_TYPE_ORDER.indexOf(n);return(0,o.hu)(r>=0,"Unknown leaf type: "+t),(0,o.hu)(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}function on(e){nn=e}function an(e){rn=e}sn.VALUE_TYPE_ORDER=["object","boolean","number","string"];class ln extends Bt{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?D(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Vt.MIN}maxPost(){return new Vt(O,new sn("[PRIORITY-POST]",rn))}makePost(e,t){const n=nn(e);return new Vt(t,new sn("[PRIORITY-POST]",n))}toString(){return".priority"}}const un=new ln,cn=Math.log(2);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){const t=e=>parseInt(Math.log(e)/cn,10),n=e=>parseInt(Array(e+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const r=n(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dn=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Wt(a,o.node,Wt.BLACK,null,null);{const l=parseInt(s/2,10)+t,u=i(t,l),c=i(l+1,r);return o=e[l],a=n?n(o):o,new Wt(a,o.node,Wt.BLACK,u,c)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const u=i(s+1,a),c=e[s],h=n?n(c):c;l(new Wt(h,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Wt.BLACK):(a(r,Wt.BLACK),a(r,Wt.RED))}return s},o=new hn(e.length),a=s(o);return new Gt(r||t,a)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn;const pn={};class mn{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,o.hu)(pn&&un,"ChildrenNode.ts has not been loaded"),fn=fn||new mn({".priority":pn},{".priority":un}),fn}get(e){const t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Gt?t:null}hasIndex(e){return(0,o.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,o.hu)(e!==zt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Vt.Wrap);let s,a=i.getNext();while(a)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();s=r?dn(n,e.getCompare()):pn;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=s,new mn(c,u)}addToIndexes(e,t){const n=(0,o.UI)(this.indexes_,((n,r)=>{const i=(0,o.DV)(this.indexSet_,r);if((0,o.hu)(i,"Missing index implementation for "+r),n===pn){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Vt.Wrap);let s=r.getNext();while(s)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),dn(n,i.getCompare())}return pn}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Vt(e.name,r))),i.insert(e,e.node)}}));return new mn(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,o.UI)(this.indexes_,(n=>{if(n===pn)return n;{const r=t.get(e.name);return r?n.remove(new Vt(e.name,r)):n}}));return new mn(n,this.indexSet_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gn;class vn{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&en(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return gn||(gn=new vn(new Gt(Zt),null,mn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gn}updatePriority(e){return this.children_.isEmpty()?this:new vn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?gn:t}}getChild(e){const t=dt(e);return null===t?this:this.getImmediateChild(t).getChild(pt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,o.hu)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Vt(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?gn:this.priorityNode_;return new vn(r,s,i)}}updateChild(e,t){const n=dt(e);if(null===n)return t;{(0,o.hu)(".priority"!==dt(e)||1===ft(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(pt(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(un,((s,o)=>{t[s]=o.val(e),n++,i&&vn.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Xt(this.getPriority().val())+":"),this.forEachChild(un,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":_(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Vt(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Vt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Vt(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Vt.Wrap);let r=n.peek();while(null!=r&&t.compare(r,e)<0)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Vt.Wrap);let r=n.peek();while(null!=r&&t.compare(r,e)>0)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_n?-1:0}withIndex(e){if(e===zt||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new vn(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===zt||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(un),n=t.getIterator(un);let r=e.getNext(),i=n.getNext();while(r&&i){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===zt?null:this.indexMap_.get(e.toString())}}vn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yn extends vn{constructor(){super(new Gt(Zt),vn.EMPTY_NODE,mn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return vn.EMPTY_NODE}isEmpty(){return!1}}const _n=new yn;Object.defineProperties(Vt,{MIN:{value:new Vt(N,vn.EMPTY_NODE)},MAX:{value:new Vt(O,_n)}}),$t.__EMPTY_NODE=vn.EMPTY_NODE,sn.__childrenNodeConstructor=vn,Jt(_n),an(_n);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const wn=!0;function bn(e,t=null){if(null===e)return vn.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){const n=e;return new sn(n,bn(t))}if(e instanceof Array||!wn){let n=vn.EMPTY_NODE;return U(e,((t,r)=>{if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){const e=bn(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(bn(t))}{const n=[];let r=!1;const i=e;if(U(i,((e,t)=>{if("."!==e.substring(0,1)){const i=bn(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Vt(e,i)))}})),0===n.length)return vn.EMPTY_NODE;const s=dn(n,Yt,(e=>e.name),Zt);if(r){const e=dn(n,un.getCompare());return new vn(s,bn(t),new mn({".priority":e},{".priority":un}))}return new vn(s,bn(t),mn.Default)}}on(bn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sn extends Bt{constructor(e){super(),this.indexPath_=e,(0,o.hu)(!wt(e)&&".priority"!==dt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?D(e.name,t.name):i}makePost(e,t){const n=bn(e),r=vn.EMPTY_NODE.updateChild(this.indexPath_,n);return new Vt(t,r)}maxPost(){const e=vn.EMPTY_NODE.updateChild(this.indexPath_,_n);return new Vt(O,e)}toString(){return vt(this.indexPath_,0).join("/")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends Bt{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?D(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Vt.MIN}maxPost(){return Vt.MAX}makePost(e,t){const n=bn(e);return new Vt(t,n)}toString(){return".value"}}const Tn=new kn,In="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",En="-",Cn="z",xn=786,An=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=In.charAt(n%64),n=Math.floor(n/64);(0,o.hu)(0===n,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)a+=In.charAt(t[i]);return(0,o.hu)(20===a.length,"nextPushId: Length should be 20."),a}}(),Rn=function(e){if(e===""+W)return En;const t=K(e);if(null!=t)return""+(t+1);const n=new Array(e.length);for(let o=0;o<n.length;o++)n[o]=e.charAt(o);if(n.length<xn)return n.push(En),n.join("");let r=n.length-1;while(r>=0&&n[r]===Cn)r--;if(-1===r)return O;const i=n[r],s=In.charAt(In.indexOf(i)+1);return n[r]=s,n.slice(0,r+1).join("")},Pn=function(e){if(e===""+H)return N;const t=K(e);if(null!=t)return""+(t-1);const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===En?1===n.length?""+W:(delete n[n.length-1],n.join("")):(n[n.length-1]=In.charAt(In.indexOf(n[n.length-1])-1),n.join("")+Cn.repeat(xn-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Nn(e){return{type:"value",snapshotNode:e}}function On(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Dn(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ln(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Mn(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Dn(t,a)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(On(t,n)):s.trackChildChange(Ln(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(un,((e,r)=>{t.hasChild(e)||n.trackChildChange(Dn(e,r))})),t.isLeafNode()||t.forEachChild(un,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ln(t,r,i))}else n.trackChildChange(On(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?vn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.indexedFilter_=new Fn(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qn.getStartPost_(e),this.endPost_=qn.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,i,s){return this.matches(new Vt(t,n))||(n=vn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=vn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(vn.EMPTY_NODE);const i=this;return t.forEachChild(un,((e,t)=>{i.matches(new Vt(e,t))||(r=r.updateImmediateChild(e,vn.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.rangedFilter_=new qn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new Vt(t,n))||(n=vn.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=vn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=vn.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;while(e.hasNext()&&n<this.limit_){const t=e.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,i,s;if(r=t.withIndex(this.index_),r=r.updatePriority(vn.EMPTY_NODE),this.reverse_){s=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();i=(e,n)=>t(n,e)}else s=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let o=0,a=!1;while(s.hasNext()){const t=s.getNext();!a&&i(e,t)<=0&&(a=!0);const l=a&&o<this.limit_&&i(t,n)<=0;l?o++:r=r.updateImmediateChild(t.name,vn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const a=e;(0,o.hu)(a.numChildren()===this.limit_,"");const l=new Vt(t,n),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(t)){const e=a.getImmediateChild(t);let o=r.getChildAfterChild(this.index_,u,this.reverse_);while(null!=o&&(o.name===t||a.hasChild(o.name)))o=r.getChildAfterChild(this.index_,o,this.reverse_);const h=null==o?1:s(o,l),d=c&&!n.isEmpty()&&h>=0;if(d)return null!=i&&i.trackChildChange(Ln(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Dn(t,e));const n=a.updateImmediateChild(t,vn.EMPTY_NODE),r=null!=o&&this.rangedFilter_.matches(o);return r?(null!=i&&i.trackChildChange(On(o.name,o.node)),n.updateImmediateChild(o.name,o.node)):n}}return n.isEmpty()?e:c&&s(u,l)>=0?(null!=i&&(i.trackChildChange(Dn(u.name,u.node)),i.trackChildChange(On(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(u.name,vn.EMPTY_NODE)):e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=un}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===un}copy(){const e=new Vn;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Bn(e){return e.loadsAllData()?new Fn(e.getIndex()):e.hasLimit()?new Un(e):new qn(e)}function jn(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function $n(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function zn(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Hn(e,t,n){let r;if(e.index_===zt)"string"===typeof t&&(t=Rn(t)),r=zn(e,t,n);else{let i;i=null==n?O:Rn(n),r=zn(e,t,i)}return r.startAfterSet_=!0,r}function Wn(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Kn(e,t,n){let r,i;return e.index_===zt?("string"===typeof t&&(t=Pn(t)),i=Wn(e,t,n)):(r=null==n?N:Pn(n),i=Wn(e,t,r)),i.endBeforeSet_=!0,i}function Gn(e,t){const n=e.copy();return n.index_=t,n}function Yn(e){const t={};if(e.isDefault())return t;let n;return e.index_===un?n="$priority":e.index_===Tn?n="$value":e.index_===zt?n="$key":((0,o.hu)(e.index_ instanceof Sn,"Unrecognized index type!"),n=e.index_.toString()),t["orderBy"]=(0,o.Pz)(n),e.startSet_&&(t["startAt"]=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(t["startAt"]+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(t["endAt"]=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(t["endAt"]+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t["limitToFirst"]=e.limit_:t["limitToLast"]=e.limit_),t}function Zn(e){const t={};if(e.startSet_&&(t["sp"]=e.indexStartValue_,e.startNameSet_&&(t["sn"]=e.indexStartName_)),e.endSet_&&(t["ep"]=e.indexEndValue_,e.endNameSet_&&(t["en"]=e.indexEndName_)),e.limitSet_){t["l"]=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t["vf"]=n}return e.index_!==un&&(t["i"]=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends st{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=I("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Qn.getListenId_(e,n),a={};this.listens_[s]=a;const l=Yn(e._queryParams);this.restRequest_(i+".json",l,((e,t)=>{let l=t;if(404===e&&(l=null,e=null),null===e&&this.onDataUpdate_(i,l,!1,n),(0,o.DV)(this.listens_,s)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Qn.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Yn(e._queryParams),n=e._path.toString(),r=new o.BH;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t["auth"]=r.accessToken),i&&i.token&&(t["ac"]=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,o.xO)(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=(0,o.cI)(a.responseText)}catch(e){x("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&x("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.rootNode_=vn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return{value:null,children:new Map}}function er(e,t,n){if(wt(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=dt(t);e.children.has(r)||e.children.set(r,Xn());const i=e.children.get(r);t=pt(t),er(i,t,n)}}function tr(e,t){if(wt(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(un,((t,n)=>{er(e,new ct(t),n)})),tr(e,t)}}if(e.children.size>0){const n=dt(t);if(t=pt(t),e.children.has(n)){const r=tr(e.children.get(n),t);r&&e.children.delete(n)}return 0===e.children.size}return!0}function nr(e,t,n){null!==e.value?n(t,e.value):rr(e,((e,r)=>{const i=new ct(t.toString()+"/"+e);nr(r,i,n)}))}function rr(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&U(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=1e4,or=3e4,ar=3e5;class lr{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ir(e);const n=sr+(or-sr)*Math.random();Z(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;U(e,((e,r)=>{r>0&&(0,o.r3)(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Z(this.reportStats_.bind(this),Math.floor(2*Math.random()*ar))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur;function cr(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hr(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dr(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["OVERWRITE"]=0]="OVERWRITE",e[e["MERGE"]=1]="MERGE",e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(ur||(ur={}));class fr{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ur.ACK_USER_WRITE,this.source=cr()}operationForChild(e){if(wt(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ct(e));return new fr(ht(),t,this.revert)}}return(0,o.hu)(dt(this.path)===e,"operationForChild called for unrelated child."),new fr(pt(this.path),this.affectedTree,this.revert)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,t){this.source=e,this.path=t,this.type=ur.LISTEN_COMPLETE}operationForChild(e){return wt(this.path)?new pr(this.source,ht()):new pr(this.source,pt(this.path))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ur.OVERWRITE}operationForChild(e){return wt(this.path)?new mr(this.source,ht(),this.snap.getImmediateChild(e)):new mr(this.source,pt(this.path),this.snap)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ur.MERGE}operationForChild(e){if(wt(this.path)){const t=this.children.subtree(new ct(e));return t.isEmpty()?null:t.value?new mr(this.source,ht(),t.value):new gr(this.source,ht(),t)}return(0,o.hu)(dt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gr(this.source,pt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(wt(e))return this.isFullyInitialized()&&!this.filtered_;const t=dt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _r(e,t,n,r){const i=[],s=[];return t.forEach((t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push(Mn(t.childName,t.snapshotNode))})),wr(e,i,"child_removed",t,r,n),wr(e,i,"child_added",t,r,n),wr(e,i,"child_moved",s,r,n),wr(e,i,"child_changed",t,r,n),wr(e,i,"value",t,r,n),i}function wr(e,t,n,r,i,s){const o=r.filter((e=>e.type===n));o.sort(((t,n)=>Sr(e,t,n))),o.forEach((n=>{const r=br(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function br(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Sr(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");const r=new Vt(t.childName,t.snapshotNode),i=new Vt(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(e,t){return{eventCache:e,serverCache:t}}function Tr(e,t,n,r){return kr(new vr(t,n,r),e.serverCache)}function Ir(e,t,n,r){return kr(e.eventCache,new vr(t,n,r))}function Er(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Cr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xr;const Ar=()=>(xr||(xr=new Gt(L)),xr);class Rr{constructor(e,t=Ar()){this.value=e,this.children=t}static fromObject(e){let t=new Rr(null);return U(e,((e,n)=>{t=t.set(new ct(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ht(),value:this.value};if(wt(e))return null;{const n=dt(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(pt(e),t);if(null!=i){const e=_t(new ct(n),i.path);return{path:e,value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(wt(e))return this;{const t=dt(e),n=this.children.get(t);return null!==n?n.subtree(pt(e)):new Rr(null)}}set(e,t){if(wt(e))return new Rr(t,this.children);{const n=dt(e),r=this.children.get(n)||new Rr(null),i=r.set(pt(e),t),s=this.children.insert(n,i);return new Rr(this.value,s)}}remove(e){if(wt(e))return this.children.isEmpty()?new Rr(null):new Rr(null,this.children);{const t=dt(e),n=this.children.get(t);if(n){const r=n.remove(pt(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Rr(null):new Rr(this.value,i)}return this}}get(e){if(wt(e))return this.value;{const t=dt(e),n=this.children.get(t);return n?n.get(pt(e)):null}}setTree(e,t){if(wt(e))return t;{const n=dt(e),r=this.children.get(n)||new Rr(null),i=r.setTree(pt(e),t);let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new Rr(this.value,s)}}fold(e){return this.fold_(ht(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(_t(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ht(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(wt(e))return null;{const r=dt(e),i=this.children.get(r);return i?i.findOnPath_(pt(e),_t(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ht(),t)}foreachOnPath_(e,t,n){if(wt(e))return this;{this.value&&n(t,this.value);const r=dt(e),i=this.children.get(r);return i?i.foreachOnPath_(pt(e),_t(t,r),n):new Rr(null)}}foreach(e){this.foreach_(ht(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(_t(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.writeTree_=e}static empty(){return new Pr(new Rr(null))}}function Nr(e,t,n){if(wt(t))return new Pr(new Rr(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=bt(i,t);return s=s.updateChild(o,n),new Pr(e.writeTree_.set(i,s))}{const r=new Rr(n),i=e.writeTree_.setTree(t,r);return new Pr(i)}}}function Or(e,t,n){let r=e;return U(n,((e,n)=>{r=Nr(r,_t(t,e),n)})),r}function Dr(e,t){if(wt(t))return Pr.empty();{const n=e.writeTree_.setTree(t,new Rr(null));return new Pr(n)}}function Lr(e,t){return null!=Mr(e,t)}function Mr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(bt(n.path,t)):null}function Fr(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(un,((e,n)=>{t.push(new Vt(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Vt(e,n.value))})),t}function qr(e,t){if(wt(t))return e;{const n=Mr(e,t);return new Pr(null!=n?new Rr(n):e.writeTree_.subtree(t))}}function Ur(e){return e.writeTree_.isEmpty()}function Vr(e,t){return Br(ht(),e.writeTree_,t)}function Br(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Br(_t(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(_t(e,".priority"),r)),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(e,t){return hi(t,e)}function $r(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Nr(e.visibleWrites,t,n)),e.lastWriteId=r}function zr(e,t,n,r){(0,o.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Or(e.visibleWrites,t,n),e.lastWriteId=r}function Hr(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function Wr(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,a=e.allWrites.length-1;while(i&&a>=0){const t=e.allWrites[a];t.visible&&(a>=n&&Kr(t,r.path)?i=!1:Tt(r.path,t.path)&&(s=!0)),a--}if(i){if(s)return Gr(e),!0;if(r.snap)e.visibleWrites=Dr(e.visibleWrites,r.path);else{const t=r.children;U(t,(t=>{e.visibleWrites=Dr(e.visibleWrites,_t(r.path,t))}))}return!0}return!1}function Kr(e,t){if(e.snap)return Tt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Tt(_t(e.path,n),t))return!0;return!1}function Gr(e){e.visibleWrites=Zr(e.allWrites,Yr,ht()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Yr(e){return e.visible}function Zr(e,t,n){let r=Pr.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Tt(n,e)?(t=bt(n,e),r=Nr(r,t,s.snap)):Tt(e,n)&&(t=bt(e,n),r=Nr(r,ht(),s.snap.getChild(t)));else{if(!s.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(Tt(n,e))t=bt(n,e),r=Or(r,t,s.children);else if(Tt(e,n))if(t=bt(e,n),wt(t))r=Or(r,ht(),s.children);else{const e=(0,o.DV)(s.children,dt(t));if(e){const n=e.getChild(pt(t));r=Nr(r,ht(),n)}}}}}return r}function Qr(e,t,n,r,i){if(r||i){const s=qr(e.visibleWrites,t);if(!i&&Ur(s))return n;if(i||null!=n||Lr(s,ht())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Tt(e.path,t)||Tt(t,e.path))},o=Zr(e.allWrites,s,t),a=n||vn.EMPTY_NODE;return Vr(o,a)}return null}{const r=Mr(e.visibleWrites,t);if(null!=r)return r;{const r=qr(e.visibleWrites,t);if(Ur(r))return n;if(null!=n||Lr(r,ht())){const e=n||vn.EMPTY_NODE;return Vr(r,e)}return null}}}function Jr(e,t,n){let r=vn.EMPTY_NODE;const i=Mr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(un,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=qr(e.visibleWrites,t);return n.forEachChild(un,((e,t)=>{const n=Vr(qr(i,new ct(e)),t);r=r.updateImmediateChild(e,n)})),Fr(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}{const n=qr(e.visibleWrites,t);return Fr(n).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}}function Xr(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=_t(t,n);if(Lr(e.visibleWrites,s))return null;{const t=qr(e.visibleWrites,s);return Ur(t)?i.getChild(n):Vr(t,i.getChild(n))}}function ei(e,t,n,r){const i=_t(t,n),s=Mr(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n)){const t=qr(e.visibleWrites,i);return Vr(t,r.getNode().getImmediateChild(n))}return null}function ti(e,t){return Mr(e.visibleWrites,t)}function ni(e,t,n,r,i,s,o){let a;const l=qr(e.visibleWrites,t),u=Mr(l,ht());if(null!=u)a=u;else{if(null==n)return[];a=Vr(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();while(l&&e.length<i)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}function ri(){return{visibleWrites:Pr.empty(),allWrites:[],lastWriteId:-1}}function ii(e,t,n,r){return Qr(e.writeTree,e.treePath,t,n,r)}function si(e,t){return Jr(e.writeTree,e.treePath,t)}function oi(e,t,n,r){return Xr(e.writeTree,e.treePath,t,n,r)}function ai(e,t){return ti(e.writeTree,_t(e.treePath,t))}function li(e,t,n,r,i,s){return ni(e.writeTree,e.treePath,t,n,r,i,s)}function ui(e,t,n){return ei(e.writeTree,e.treePath,t,n)}function ci(e,t){return hi(_t(e.treePath,t),e.writeTree)}function hi(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ln(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Dn(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,On(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ln(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}}const pi=new fi;class mi{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new vr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ui(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Cr(this.viewCache_),i=li(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(e){return{filter:e}}function vi(e,t){(0,o.hu)(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function yi(e,t,n,r,i){const s=new di;let a,l;if(n.type===ur.OVERWRITE){const u=n;u.source.fromUser?a=Si(e,t,u.path,u.snap,r,i,s):((0,o.hu)(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!wt(u.path),a=bi(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===ur.MERGE){const u=n;u.source.fromUser?a=Ti(e,t,u.path,u.children,r,i,s):((0,o.hu)(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),a=Ei(e,t,u.path,u.children,r,i,l,s))}else if(n.type===ur.ACK_USER_WRITE){const o=n;a=o.revert?Ai(e,t,o.path,r,i,s):Ci(e,t,o.path,o.affectedTree,r,i,s)}else{if(n.type!==ur.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=xi(e,t,n.path,r,s)}const u=s.getChanges();return _i(t,a,u),{viewCache:a,changes:u}}function _i(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Er(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Nn(Er(t)))}}function wi(e,t,n,r,i,s){const a=t.eventCache;if(null!=ai(r,n))return t;{let l,u;if(wt(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Cr(t),i=n instanceof vn?n:vn.EMPTY_NODE,o=si(r,i);l=e.filter.updateFullNode(t.eventCache.getNode(),o,s)}else{const n=ii(r,Cr(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=dt(n);if(".priority"===c){(0,o.hu)(1===ft(n),"Can't have a priority with additional path components");const i=a.getNode();u=t.serverCache.getNode();const s=oi(r,n,i,u);l=null!=s?e.filter.updatePriority(i,s):a.getNode()}else{const o=pt(n);let h;if(a.isCompleteForChild(c)){u=t.serverCache.getNode();const e=oi(r,n,a.getNode(),u);h=null!=e?a.getNode().getImmediateChild(c).updateChild(o,e):a.getNode().getImmediateChild(c)}else h=ui(r,c,t.serverCache);l=null!=h?e.filter.updateChild(a.getNode(),c,h,o,i,s):a.getNode()}}return Tr(t,l,a.isFullyInitialized()||wt(n),e.filter.filtersNodes())}}function bi(e,t,n,r,i,s,o,a){const l=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(wt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),e,null)}else{const e=dt(n);if(!l.isCompleteForPath(n)&&ft(n)>1)return t;const i=pt(n),s=l.getNode().getImmediateChild(e),o=s.updateChild(i,r);u=".priority"===e?c.updatePriority(l.getNode(),o):c.updateChild(l.getNode(),e,o,i,pi,null)}const h=Ir(t,u,l.isFullyInitialized()||wt(n),c.filtersNodes()),d=new mi(i,h,s);return wi(e,h,n,i,d,a)}function Si(e,t,n,r,i,s,o){const a=t.eventCache;let l,u;const c=new mi(i,t,s);if(wt(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Tr(t,u,!0,e.filter.filtersNodes());else{const i=dt(n);if(".priority"===i)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=Tr(t,u,a.isFullyInitialized(),a.isFiltered());else{const s=pt(n),u=a.getNode().getImmediateChild(i);let h;if(wt(s))h=r;else{const e=c.getCompleteChild(i);h=null!=e?".priority"===mt(s)&&e.getChild(yt(s)).isEmpty()?e:e.updateChild(s,r):vn.EMPTY_NODE}if(u.equals(h))l=t;else{const n=e.filter.updateChild(a.getNode(),i,h,s,c,o);l=Tr(t,n,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function ki(e,t){return e.eventCache.isCompleteForChild(t)}function Ti(e,t,n,r,i,s,o){let a=t;return r.foreach(((r,l)=>{const u=_t(n,r);ki(t,dt(u))&&(a=Si(e,a,u,l,i,s,o))})),r.foreach(((r,l)=>{const u=_t(n,r);ki(t,dt(u))||(a=Si(e,a,u,l,i,s,o))})),a}function Ii(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Ei(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,u=t;l=wt(n)?r:new Rr(null).setTree(n,r);const c=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const l=t.serverCache.getNode().getImmediateChild(n),c=Ii(e,l,r);u=bi(e,u,new ct(n),c,i,s,o,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!l){const l=t.serverCache.getNode().getImmediateChild(n),c=Ii(e,l,r);u=bi(e,u,new ct(n),c,i,s,o,a)}})),u}function Ci(e,t,n,r,i,s,o){if(null!=ai(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(wt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return bi(e,t,n,l.getNode().getChild(n),i,s,a,o);if(wt(n)){let r=new Rr(null);return l.getNode().forEachChild(zt,((e,t)=>{r=r.set(new ct(e),t)})),Ei(e,t,n,r,i,s,a,o)}return t}{let u=new Rr(null);return r.foreach(((e,t)=>{const r=_t(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))})),Ei(e,t,n,u,i,s,a,o)}}function xi(e,t,n,r,i){const s=t.serverCache,o=Ir(t,s.getNode(),s.isFullyInitialized()||wt(n),s.isFiltered());return wi(e,o,n,r,pi,i)}function Ai(e,t,n,r,i,s){let a;if(null!=ai(r,n))return t;{const l=new mi(r,t,i),u=t.eventCache.getNode();let c;if(wt(n)||".priority"===dt(n)){let n;if(t.serverCache.isFullyInitialized())n=ii(r,Cr(t));else{const e=t.serverCache.getNode();(0,o.hu)(e instanceof vn,"serverChildren would be complete if leaf node"),n=si(r,e)}c=e.filter.updateFullNode(u,n,s)}else{const i=dt(n);let o=ui(r,i,t.serverCache);null==o&&t.serverCache.isCompleteForChild(i)&&(o=u.getImmediateChild(i)),c=null!=o?e.filter.updateChild(u,i,o,pt(n),l,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(u,i,vn.EMPTY_NODE,pt(n),l,s):u,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=ii(r,Cr(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=ai(r,ht()),Tr(t,c,a,e.filter.filtersNodes())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Fn(n.getIndex()),i=Bn(n);this.processor_=gi(i);const s=t.serverCache,o=t.eventCache,a=r.updateFullNode(vn.EMPTY_NODE,s.getNode(),null),l=i.updateFullNode(vn.EMPTY_NODE,o.getNode(),null),u=new vr(a,s.isFullyInitialized(),r.filtersNodes()),c=new vr(l,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=kr(c,u),this.eventGenerator_=new yr(this.query_)}get query(){return this.query_}}function Pi(e){return e.viewCache_.serverCache.getNode()}function Ni(e){return Er(e.viewCache_)}function Oi(e,t){const n=Cr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!wt(t)&&!n.getImmediateChild(dt(t)).isEmpty())?n.getChild(t):null}function Di(e){return 0===e.eventRegistrations_.length}function Li(e,t){e.eventRegistrations_.push(t)}function Mi(e,t,n){const r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Fi(e,t,n,r){t.type===ur.MERGE&&null!==t.source.queryId&&((0,o.hu)(Cr(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(Er(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=yi(e.processor_,i,t,n,r);return vi(e.processor_,s.viewCache),(0,o.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Ui(e,s.changes,s.viewCache.eventCache.getNode(),null)}function qi(e,t){const n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){const e=n.getNode();e.forEachChild(un,((e,t)=>{r.push(On(e,t))}))}return n.isFullyInitialized()&&r.push(Nn(n.getNode())),Ui(e,r,n.getNode(),t)}function Ui(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return _r(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vi,Bi;class ji{constructor(){this.views=new Map}}function $i(e){(0,o.hu)(!Vi,"__referenceConstructor has already been defined"),Vi=e}function zi(){return(0,o.hu)(Vi,"Reference.ts has not been loaded"),Vi}function Hi(e){return 0===e.views.size}function Wi(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return(0,o.hu)(null!=s,"SyncTree gave us an op for an invalid query."),Fi(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(Fi(s,t,n,r));return i}}function Ki(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=ii(n,i?r:null),s=!1;e?s=!0:r instanceof vn?(e=si(n,r),s=!1):(e=vn.EMPTY_NODE,s=!1);const o=kr(new vr(e,s,!1),new vr(r,i,!1));return new Ri(t,o)}return o}function Gi(e,t,n,r,i,s){const o=Ki(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),Li(o,n),qi(o,n)}function Yi(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=es(e);if("default"===i)for(const[l,u]of e.views.entries())o=o.concat(Mi(u,n,r)),Di(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const t=e.views.get(i);t&&(o=o.concat(Mi(t,n,r)),Di(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!es(e)&&s.push(new(zi())(t._repo,t._path)),{removed:s,events:o}}function Zi(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Qi(e,t){let n=null;for(const r of e.views.values())n=n||Oi(r,t);return n}function Ji(e,t){const n=t._queryParams;if(n.loadsAllData())return ts(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Xi(e,t){return null!=Ji(e,t)}function es(e){return null!=ts(e)}function ts(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e){(0,o.hu)(!Bi,"__referenceConstructor has already been defined"),Bi=e}function rs(){return(0,o.hu)(Bi,"Reference.ts has not been loaded"),Bi}let is=1;class ss{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Rr(null),this.pendingWriteTree_=ri(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function os(e,t,n,r,i){return $r(e.pendingWriteTree_,t,n,r,i),i?_s(e,new mr(cr(),t,n)):[]}function as(e,t,n,r){zr(e.pendingWriteTree_,t,n,r);const i=Rr.fromObject(n);return _s(e,new gr(cr(),t,i))}function ls(e,t,n=!1){const r=Hr(e.pendingWriteTree_,t),i=Wr(e.pendingWriteTree_,t);if(i){let t=new Rr(null);return null!=r.snap?t=t.set(ht(),!0):U(r.children,(e=>{t=t.set(new ct(e),!0)})),_s(e,new fr(r.path,t,n))}return[]}function us(e,t,n){return _s(e,new mr(hr(),t,n))}function cs(e,t,n){const r=Rr.fromObject(n);return _s(e,new gr(hr(),t,r))}function hs(e,t){return _s(e,new pr(hr(),t))}function ds(e,t,n){const r=Is(e,n);if(r){const n=Es(r),i=n.path,s=n.queryId,o=bt(i,t),a=new pr(dr(s),o);return Cs(e,i,a)}return[]}function fs(e,t,n,r){const i=t._path,s=e.syncPointTree_.get(i);let o=[];if(s&&("default"===t._queryIdentifier||Xi(s,t))){const a=Yi(s,t,n,r);Hi(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));const l=a.removed;o=a.events;const u=-1!==l.findIndex((e=>e._queryParams.loadsAllData())),c=e.syncPointTree_.findOnPath(i,((e,t)=>es(t)));if(u&&!c){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=xs(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=Ss(e,r);e.listenProvider_.startListening(As(i),ks(e,i),s.hashFn,s.onComplete)}}}if(!c&&l.length>0&&!r)if(u){const n=null;e.listenProvider_.stopListening(As(t),n)}else l.forEach((t=>{const n=e.queryToTagMap.get(Ts(t));e.listenProvider_.stopListening(As(t),n)}));Rs(e,l)}return o}function ps(e,t,n,r){const i=Is(e,r);if(null!=i){const r=Es(i),s=r.path,o=r.queryId,a=bt(s,t),l=new mr(dr(o),a,n);return Cs(e,s,l)}return[]}function ms(e,t,n,r){const i=Is(e,r);if(i){const r=Es(i),s=r.path,o=r.queryId,a=bt(s,t),l=Rr.fromObject(n),u=new gr(dr(o),a,l);return Cs(e,s,u)}return[]}function gs(e,t,n){const r=t._path;let i=null,s=!1;e.syncPointTree_.foreachOnPath(r,((e,t)=>{const n=bt(e,r);i=i||Qi(t,n),s=s||es(t)}));let a,l=e.syncPointTree_.get(r);if(l?(s=s||es(l),i=i||Qi(l,ht())):(l=new ji,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=i)a=!0;else{a=!1,i=vn.EMPTY_NODE;const t=e.syncPointTree_.subtree(r);t.foreachChild(((e,t)=>{const n=Qi(t,ht());n&&(i=i.updateImmediateChild(e,n))}))}const u=Xi(l,t);if(!u&&!t._queryParams.loadsAllData()){const n=Ts(t);(0,o.hu)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Ps();e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}const c=jr(e.pendingWriteTree_,r);let h=Gi(l,t,n,c,i,a);if(!u&&!s){const n=Ji(l,t);h=h.concat(Ns(e,t,n))}return h}function vs(e,t,n){const r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=bt(e,t),i=Qi(n,r);if(i)return i}));return Qr(i,t,s,n,r)}function ys(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=bt(e,n);r=r||Qi(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||Qi(i,ht()):(i=new ji,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,o=s?new vr(r,!0,!1):null,a=jr(e.pendingWriteTree_,t._path),l=Ki(i,t,a,s?o.getNode():vn.EMPTY_NODE,s);return Ni(l)}function _s(e,t){return ws(t,e.syncPointTree_,null,jr(e.pendingWriteTree_,ht()))}function ws(e,t,n,r){if(wt(e.path))return bs(e,t,n,r);{const i=t.get(ht());null==n&&null!=i&&(n=Qi(i,ht()));let s=[];const o=dt(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=ci(r,o);s=s.concat(ws(a,l,e,t))}return i&&(s=s.concat(Wi(i,e,r,n))),s}}function bs(e,t,n,r){const i=t.get(ht());null==n&&null!=i&&(n=Qi(i,ht()));let s=[];return t.children.inorderTraversal(((t,i)=>{const o=n?n.getImmediateChild(t):null,a=ci(r,t),l=e.operationForChild(t);l&&(s=s.concat(bs(l,i,o,a)))})),i&&(s=s.concat(Wi(i,e,r,n))),s}function Ss(e,t){const n=t.query,r=ks(e,n);return{hashFn:()=>{const e=Pi(t)||vn.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?ds(e,n._path,r):hs(e,n._path);{const r=$(t,n);return fs(e,n,null,r)}}}}function ks(e,t){const n=Ts(t);return e.queryToTagMap.get(n)}function Ts(e){return e._path.toString()+"$"+e._queryIdentifier}function Is(e,t){return e.tagToQueryMap.get(t)}function Es(e){const t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ct(e.substr(0,t))}}function Cs(e,t,n){const r=e.syncPointTree_.get(t);(0,o.hu)(r,"Missing sync point for query tag that we're tracking");const i=jr(e.pendingWriteTree_,t);return Wi(r,n,i,null)}function xs(e){return e.fold(((e,t,n)=>{if(t&&es(t)){const e=ts(t);return[e]}{let e=[];return t&&(e=Zi(t)),U(n,((t,n)=>{e=e.concat(n)})),e}}))}function As(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(rs())(e._repo,e._path):e}function Rs(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Ts(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}function Ps(){return is++}function Ns(e,t,n){const r=t._path,i=ks(e,t),s=Ss(e,n),a=e.listenProvider_.startListening(As(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!es(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold(((e,t,n)=>{if(!wt(e)&&t&&es(t))return[ts(t).query];{let e=[];return t&&(e=e.concat(Zi(t).map((e=>e.query)))),U(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(As(r),ks(e,r))}}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Os(t)}node(){return this.node_}}class Ds{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=_t(this.path_,e);return new Ds(this.syncTree_,t)}node(){return vs(this.syncTree_,this.path_)}}const Ls=function(e){return e=e||{},e["timestamp"]=e["timestamp"]||(new Date).getTime(),e},Ms=function(e,t,n){return e&&"object"===typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Fs(e[".sv"],t,n):"object"===typeof e[".sv"]?qs(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Fs=function(e,t,n){switch(e){case"timestamp":return n["timestamp"];default:(0,o.hu)(!1,"Unexpected server value: "+e)}},qs=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e["increment"];"number"!==typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,o.hu)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i,a=s.getValue();return"number"!==typeof a?r:a+r},Us=function(e,t,n,r){return Bs(t,new Ds(n,e),r)},Vs=function(e,t,n){return Bs(e,new Os(t),n)};function Bs(e,t,n){const r=e.getPriority().val(),i=Ms(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Ms(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new sn(s,bn(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new sn(i))),r.forEachChild(un,((e,r)=>{const i=Bs(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function $s(e,t){let n=t instanceof ct?t:new ct(t),r=e,i=dt(n);while(null!==i){const e=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new js(i,r,e),n=pt(n),i=dt(n)}return r}function zs(e){return e.node.value}function Hs(e,t){e.node.value=t,Js(e)}function Ws(e){return e.node.childCount>0}function Ks(e){return void 0===zs(e)&&!Ws(e)}function Gs(e,t){U(e.node.children,((n,r)=>{t(new js(n,e,r))}))}function Ys(e,t,n,r){n&&!r&&t(e),Gs(e,(e=>{Ys(e,t,!0,r)})),n&&r&&t(e)}function Zs(e,t,n){let r=n?e:e.parent;while(null!==r){if(t(r))return!0;r=r.parent}return!1}function Qs(e){return new ct(null===e.parent?e.name:Qs(e.parent)+"/"+e.name)}function Js(e){null!==e.parent&&Xs(e.parent,e.name,e)}function Xs(e,t,n){const r=Ks(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Js(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Js(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=/[\[\].#$\/\u0000-\u001F\u007F]/,to=/[\[\].#$\u0000-\u001F\u007F]/,no=10485760,ro=function(e){return"string"===typeof e&&0!==e.length&&!eo.test(e)},io=function(e){return"string"===typeof e&&0!==e.length&&!to.test(e)},so=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),io(e)},oo=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!R(e)||e&&"object"===typeof e&&(0,o.r3)(e,".sv")},ao=function(e,t,n,r){r&&void 0===t||lo((0,o.gK)(e,"value"),t,n)},lo=function(e,t,n){const r=n instanceof ct?new It(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+At(r));if("function"===typeof t)throw new Error(e+"contains a function "+At(r)+" with contents = "+t.toString());if(R(t))throw new Error(e+"contains "+t.toString()+" "+At(r));if("string"===typeof t&&t.length>no/3&&(0,o.ug)(t)>no)throw new Error(e+"contains a string greater than "+no+" utf8 bytes "+At(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(U(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!ro(t)))throw new Error(e+" contains an invalid key ("+t+") "+At(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');Et(r,t),lo(e,s,r),Ct(r)})),n&&i)throw new Error(e+' contains ".value" child '+At(r)+" in addition to actual children.")}},uo=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=vt(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!ro(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(St);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Tt(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},co=function(e,t,n,r){if(r&&void 0===t)return;const i=(0,o.gK)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];U(t,((e,t)=>{const r=new ct(e);if(lo(i,t,_t(n,r)),".priority"===mt(r)&&!oo(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)})),uo(i,s)},ho=function(e,t,n){if(!n||void 0!==t){if(R(t))throw new Error((0,o.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!oo(t))throw new Error((0,o.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fo=function(e,t,n,r){if((!r||void 0!==n)&&!ro(n))throw new Error((0,o.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},po=function(e,t,n,r){if((!r||void 0!==n)&&!io(n))throw new Error((0,o.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},mo=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),po(e,t,n,r)},go=function(e,t){if(".info"===dt(t))throw new Error(e+" failed = Can't modify data under /.info/")},vo=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ro(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!so(n))throw new Error((0,o.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class yo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _o(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||kt(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function wo(e,t,n){_o(e,n),So(e,(e=>kt(e,t)))}function bo(e,t,n){_o(e,n),So(e,(e=>Tt(e,t)||Tt(t,e)))}function So(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(ko(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function ko(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();b&&T("event: "+n.toString()),G(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="repo_interrupt",Io=25;class Eo{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xn(),this.transactionQueueTree_=new js,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Co(e,t,n){if(e.stats_=ve(e.repoInfo_),e.forceRestClient_||Y())e.server_=new Qn(e.repoInfo_,((t,n,r,i)=>{Ro(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Po(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ut(e.repoInfo_,t,((t,n,r,i)=>{Ro(e,t,n,r,i)}),(t=>{Po(e,t)}),(t=>{No(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=ye(e.repoInfo_,(()=>new lr(e.stats_,e.server_))),e.infoData_=new Jn,e.infoSyncTree_=new ss({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=us(e.infoSyncTree_,t._path,o),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),Oo(e,"connected",!1),e.serverSyncTree_=new ss({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);bo(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function xo(e){const t=e.infoData_.getNode(new ct(".info/serverTimeOffset")),n=t.val()||0;return(new Date).getTime()+n}function Ao(e){return Ls({timestamp:xo(e)})}function Ro(e,t,n,r,i){e.dataUpdateCount++;const s=new ct(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=(0,o.UI)(n,(e=>bn(e)));a=ms(e.serverSyncTree_,s,t,i)}else{const t=bn(n);a=ps(e.serverSyncTree_,s,t,i)}else if(r){const t=(0,o.UI)(n,(e=>bn(e)));a=cs(e.serverSyncTree_,s,t)}else{const t=bn(n);a=us(e.serverSyncTree_,s,t)}let l=s;a.length>0&&(l=Xo(e,s)),bo(e.eventQueue_,l,a)}function Po(e,t){Oo(e,"connected",t),!1===t&&qo(e)}function No(e,t){U(t,((t,n)=>{Oo(e,t,n)}))}function Oo(e,t,n){const r=new ct("/.info/"+t),i=bn(n);e.infoData_.updateSnapshot(r,i);const s=us(e.infoSyncTree_,r,i);bo(e.eventQueue_,r,s)}function Do(e){return e.nextWriteId_++}function Lo(e,t){const n=ys(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((n=>{const r=bn(n).withIndex(t._queryParams.getIndex()),i=us(e.serverSyncTree_,t._path,r);return wo(e.eventQueue_,t._path,i),Promise.resolve(r)}),(n=>(Ko(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n)))))}function Mo(e,t,n,r,i){Ko(e,"set",{path:t.toString(),value:n,priority:r});const s=Ao(e),o=bn(n,r),a=vs(e.serverSyncTree_,t),l=Vs(o,a,s),u=Do(e),c=os(e.serverSyncTree_,t,l,u,!0);_o(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),((n,r)=>{const s="ok"===n;s||x("set at "+t+" failed: "+n);const o=ls(e.serverSyncTree_,u,!s);bo(e.eventQueue_,t,o),Go(e,i,n,r)}));const h=sa(e,t);Xo(e,h),bo(e.eventQueue_,h,[])}function Fo(e,t,n,r){Ko(e,"update",{path:t.toString(),value:n});let i=!0;const s=Ao(e),o={};if(U(n,((n,r)=>{i=!1,o[n]=Us(_t(t,n),bn(r),e.serverSyncTree_,s)})),i)T("update() called with empty data.  Don't do anything."),Go(e,r,"ok",void 0);else{const i=Do(e),s=as(e.serverSyncTree_,t,o,i);_o(e.eventQueue_,s),e.server_.merge(t.toString(),n,((n,s)=>{const o="ok"===n;o||x("update at "+t+" failed: "+n);const a=ls(e.serverSyncTree_,i,!o),l=a.length>0?Xo(e,t):t;bo(e.eventQueue_,l,a),Go(e,r,n,s)})),U(n,(n=>{const r=sa(e,_t(t,n));Xo(e,r)})),bo(e.eventQueue_,t,[])}}function qo(e){Ko(e,"onDisconnectEvents");const t=Ao(e),n=Xn();nr(e.onDisconnect_,ht(),((r,i)=>{const s=Us(r,i,e.serverSyncTree_,t);er(n,r,s)}));let r=[];nr(n,ht(),((t,n)=>{r=r.concat(us(e.serverSyncTree_,t,n));const i=sa(e,t);Xo(e,i)})),e.onDisconnect_=Xn(),bo(e.eventQueue_,ht(),r)}function Uo(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&tr(e.onDisconnect_,t),Go(e,n,r,i)}))}function Vo(e,t,n,r){const i=bn(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,s)=>{"ok"===n&&er(e.onDisconnect_,t,i),Go(e,r,n,s)}))}function Bo(e,t,n,r,i){const s=bn(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),((n,r)=>{"ok"===n&&er(e.onDisconnect_,t,s),Go(e,i,n,r)}))}function jo(e,t,n,r){if((0,o.xb)(n))return T("onDisconnect().update() called with empty data.  Don't do anything."),void Go(e,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,s)=>{"ok"===i&&U(n,((n,r)=>{const i=bn(r);er(e.onDisconnect_,_t(t,n),i)})),Go(e,r,i,s)}))}function $o(e,t,n){let r;r=".info"===dt(t._path)?gs(e.infoSyncTree_,t,n):gs(e.serverSyncTree_,t,n),wo(e.eventQueue_,t._path,r)}function zo(e,t,n){let r;r=".info"===dt(t._path)?fs(e.infoSyncTree_,t,n):fs(e.serverSyncTree_,t,n),wo(e.eventQueue_,t._path,r)}function Ho(e){e.persistentConnection_&&e.persistentConnection_.interrupt(To)}function Wo(e){e.persistentConnection_&&e.persistentConnection_.resume(To)}function Ko(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),T(n,...t)}function Go(e,t,n,r){t&&G((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}}))}function Yo(e,t,n,r,i,s){Ko(e,"transaction on "+t);const a={path:t,update:n,onComplete:r,status:null,order:y(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=Zo(e,t,void 0);a.currentInputSnapshot=l;const u=a.update(l.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{lo("transaction failed: Data returned ",u,a.path),a.status=0;const n=$s(e.transactionQueueTree_,t),r=zs(n)||[];let i;if(r.push(a),Hs(n,r),"object"===typeof u&&null!==u&&(0,o.r3)(u,".priority"))i=(0,o.DV)(u,".priority"),(0,o.hu)(oo(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{const n=vs(e.serverSyncTree_,t)||vn.EMPTY_NODE;i=n.getPriority().val()}const s=Ao(e),c=bn(u,i),h=Vs(c,l,s);a.currentOutputSnapshotRaw=c,a.currentOutputSnapshotResolved=h,a.currentWriteId=Do(e);const d=os(e.serverSyncTree_,t,h,a.currentWriteId,a.applyLocally);bo(e.eventQueue_,t,d),Qo(e,e.transactionQueueTree_)}}function Zo(e,t,n){return vs(e.serverSyncTree_,t,n)||vn.EMPTY_NODE}function Qo(e,t=e.transactionQueueTree_){if(t||ia(e,t),zs(t)){const n=na(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue");const r=n.every((e=>0===e.status));r&&Jo(e,Qs(t),n)}else Ws(t)&&Gs(t,(t=>{Qo(e,t)}))}function Jo(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Zo(e,t,r);let s=i;const a=i.hash();for(let c=0;c<n.length;c++){const e=n[c];(0,o.hu)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=bt(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const l=s.val(!0),u=t;e.server_.put(u.toString(),l,(r=>{Ko(e,"transaction put response",{path:u.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(ls(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();ia(e,$s(e.transactionQueueTree_,t)),Qo(e,e.transactionQueueTree_),bo(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)G(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{x("transaction at "+u.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Xo(e,t)}}),a)}function Xo(e,t){const n=ta(e,t),r=Qs(n),i=na(e,n);return ea(e,i,r),r}function ea(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)),a=s.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const s=t[l],u=bt(n,s.path);let c,h=!1;if((0,o.hu)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,c=s.abortReason,i=i.concat(ls(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=Io)h=!0,c="maxretry",i=i.concat(ls(e.serverSyncTree_,s.currentWriteId,!0));else{const n=Zo(e,s.path,a);s.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){lo("transaction failed: Data returned ",r,s.path);let t=bn(r);const l="object"===typeof r&&null!=r&&(0,o.r3)(r,".priority");l||(t=t.updatePriority(n.getPriority()));const u=s.currentWriteId,c=Ao(e),h=Vs(t,n,c);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=h,s.currentWriteId=Do(e),a.splice(a.indexOf(u),1),i=i.concat(os(e.serverSyncTree_,s.path,h,s.currentWriteId,s.applyLocally)),i=i.concat(ls(e.serverSyncTree_,u,!0))}else h=!0,c="nodata",i=i.concat(ls(e.serverSyncTree_,s.currentWriteId,!0))}bo(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,function(e){setTimeout(e,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&("nodata"===c?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(c),!1,null)))))}ia(e,e.transactionQueueTree_);for(let o=0;o<r.length;o++)G(r[o]);Qo(e,e.transactionQueueTree_)}function ta(e,t){let n,r=e.transactionQueueTree_;n=dt(t);while(null!==n&&void 0===zs(r))r=$s(r,n),t=pt(t),n=dt(t);return r}function na(e,t){const n=[];return ra(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function ra(e,t,n){const r=zs(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Gs(t,(t=>{ra(e,t,n)}))}function ia(e,t){const n=zs(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Hs(t,n.length>0?n:void 0)}Gs(t,(t=>{ia(e,t)}))}function sa(e,t){const n=Qs(ta(e,t)),r=$s(e.transactionQueueTree_,t);return Zs(r,(t=>{oa(e,t)})),oa(e,r),Ys(r,(t=>{oa(e,t)})),n}function oa(e,t){const n=zs(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,o.hu)(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):((0,o.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(ls(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Hs(t,void 0):n.length=s+1,bo(e.eventQueue_,Qs(t),i);for(let e=0;e<r.length;e++)G(r[e])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}function la(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):x(`Invalid query segment '${n}' in query '${e}'`)}return t}const ua=function(e,t){const n=ca(e),r=n.namespace;"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||A();const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new he(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ct(n.pathString)}},ca=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=aa(e.substring(c,h)));const d=la(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d["ns"])}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ha{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())}}class da{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new o.BH;return Uo(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){go("OnDisconnect.remove",this._path);const e=new o.BH;return Vo(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){go("OnDisconnect.set",this._path),ao("OnDisconnect.set",e,this._path,!1);const t=new o.BH;return Vo(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){go("OnDisconnect.setWithPriority",this._path),ao("OnDisconnect.setWithPriority",e,this._path,!1),ho("OnDisconnect.setWithPriority",t,!1);const n=new o.BH;return Bo(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){go("OnDisconnect.update",this._path),co("OnDisconnect.update",e,this._path,!1);const t=new o.BH;return jo(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return wt(this._path)?null:mt(this._path)}get ref(){return new _a(this._repo,this._path)}get _queryIdentifier(){const e=Zn(this._queryParams),t=F(e);return"{}"===t?"default":t}get _queryObject(){return Zn(this._queryParams)}isEqual(e){if(e=(0,o.m9)(e),!(e instanceof ma))return!1;const t=this._repo===e._repo,n=kt(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+gt(this._path)}}function ga(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function va(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===zt){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){const n=e.getIndexStartName();if(n!==N)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){const t=e.getIndexEndName();if(t!==O)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===un){if(null!=t&&!oo(t)||null!=n&&!oo(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof Sn||e.getIndex()===Tn,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ya(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class _a extends ma{constructor(e,t){super(e,t,new Vn,!1)}get parent(){const e=yt(this._path);return null===e?null:new _a(this._repo,e)}get root(){let e=this;while(null!==e.parent)e=e.parent;return e}}class wa{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ct(e),n=ka(this.ref,e);return new wa(this._node.getChild(t),n,un)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;const t=this._node;return!!t.forEachChild(this._index,((t,n)=>e(new wa(n,ka(this.ref,t),un))))}hasChild(e){const t=new ct(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ba(e,t){return e=(0,o.m9)(e),e._checkNotDeleted("ref"),void 0!==t?ka(e._root,t):e._root}function Sa(e,t){e=(0,o.m9)(e),e._checkNotDeleted("refFromURL");const n=ua(t,e._repo.repoInfo_.nodeAdmin);vo("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||C("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),ba(e,n.path.toString())}function ka(e,t){return e=(0,o.m9)(e),null===dt(e._path)?mo("child","path",t,!1):po("child","path",t,!1),new _a(e._repo,_t(e._path,t))}function Ta(e,t){e=(0,o.m9)(e),go("push",e._path),ao("push",t,e._path,!0);const n=xo(e._repo),r=An(n),i=ka(e,r),s=ka(e,r);let a;return a=null!=t?Ea(s,t).then((()=>s)):Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function Ia(e){return go("remove",e._path),Ea(e,null)}function Ea(e,t){e=(0,o.m9)(e),go("set",e._path),ao("set",t,e._path,!1);const n=new o.BH;return Mo(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Ca(e,t){e=(0,o.m9)(e),go("setPriority",e._path),ho("setPriority",t,!1);const n=new o.BH;return Mo(e._repo,_t(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}function xa(e,t,n){if(go("setWithPriority",e._path),ao("setWithPriority",t,e._path,!1),ho("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new o.BH;return Mo(e._repo,e._path,t,n,r.wrapCallback((()=>{}))),r.promise}function Aa(e,t){co("update",t,e._path,!1);const n=new o.BH;return Fo(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function Ra(e){return e=(0,o.m9)(e),Lo(e._repo,e).then((t=>new wa(t,new _a(e._repo,e._path),e._queryParams.getIndex())))}class Pa{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new ha("value",this,new wa(e.snapshotNode,new _a(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new da(this,e,t):null}matches(e){return e instanceof Pa&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Na{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new da(this,e,t):null}createEvent(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");const n=ka(new _a(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ha(e.type,this,new wa(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Na&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Oa(e,t,n,r,i){let s;if("object"===typeof r&&(s=void 0,i=r),"function"===typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{zo(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new fa(n,s||void 0),a="value"===t?new Pa(o):new Na(t,o);return $o(e._repo,e,a),()=>zo(e._repo,e,a)}function Da(e,t,n,r){return Oa(e,"value",t,n,r)}function La(e,t,n,r){return Oa(e,"child_added",t,n,r)}function Ma(e,t,n,r){return Oa(e,"child_changed",t,n,r)}function Fa(e,t,n,r){return Oa(e,"child_moved",t,n,r)}function qa(e,t,n,r){return Oa(e,"child_removed",t,n,r)}function Ua(e,t,n){let r=null;const i=n?new fa(n):null;"value"===t?r=new Pa(i):t&&(r=new Na(t,i)),zo(e._repo,e,r)}class Va{}class Ba extends Va{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ao("endAt",this._value,e._path,!0);const t=Wn(e._queryParams,this._value,this._key);if(ya(t),va(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ma(e._repo,e._path,t,e._orderByCalled)}}function ja(e,t){return fo("endAt","key",t,!0),new Ba(e,t)}class $a extends Va{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ao("endBefore",this._value,e._path,!1);const t=Kn(e._queryParams,this._value,this._key);if(ya(t),va(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ma(e._repo,e._path,t,e._orderByCalled)}}function za(e,t){return fo("endBefore","key",t,!0),new $a(e,t)}class Ha extends Va{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ao("startAt",this._value,e._path,!0);const t=zn(e._queryParams,this._value,this._key);if(ya(t),va(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ma(e._repo,e._path,t,e._orderByCalled)}}function Wa(e=null,t){return fo("startAt","key",t,!0),new Ha(e,t)}class Ka extends Va{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ao("startAfter",this._value,e._path,!1);const t=Hn(e._queryParams,this._value,this._key);if(ya(t),va(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ma(e._repo,e._path,t,e._orderByCalled)}}function Ga(e,t){return fo("startAfter","key",t,!0),new Ka(e,t)}class Ya extends Va{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ma(e._repo,e._path,jn(e._queryParams,this._limit),e._orderByCalled)}}function Za(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ya(e)}class Qa extends Va{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ma(e._repo,e._path,$n(e._queryParams,this._limit),e._orderByCalled)}}function Ja(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Qa(e)}class Xa extends Va{constructor(e){super(),this._path=e}_apply(e){ga(e,"orderByChild");const t=new ct(this._path);if(wt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new Sn(t),r=Gn(e._queryParams,n);return va(r),new ma(e._repo,e._path,r,!0)}}function el(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return po("orderByChild","path",e,!1),new Xa(e)}class tl extends Va{_apply(e){ga(e,"orderByKey");const t=Gn(e._queryParams,zt);return va(t),new ma(e._repo,e._path,t,!0)}}function nl(){return new tl}class rl extends Va{_apply(e){ga(e,"orderByPriority");const t=Gn(e._queryParams,un);return va(t),new ma(e._repo,e._path,t,!0)}}function il(){return new rl}class sl extends Va{_apply(e){ga(e,"orderByValue");const t=Gn(e._queryParams,Tn);return va(t),new ma(e._repo,e._path,t,!0)}}function ol(){return new sl}class al extends Va{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(ao("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ba(this._value,this._key)._apply(new Ha(this._value,this._key)._apply(e))}}function ll(e,t){return fo("equalTo","key",t,!0),new al(e,t)}function ul(e,...t){let n=(0,o.m9)(e);for(const r of t)n=r._apply(n);return n}$i(_a),ns(_a);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const cl="FIREBASE_DATABASE_EMULATOR_HOST",hl={};let dl=!1;function fl(e,t,n,r){e.repoInfo_=new he(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function pl(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),T("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=ua(s,i),u=l.repoInfo;"undefined"!==typeof process&&process.env&&(a=process.env[cl]),a?(o=!0,s=`http://${a}?ns=${u.namespace}`,l=ua(s,i),u=l.repoInfo):o=!l.repoInfo.secure;const c=i&&o?new X(X.OWNER):new J(e.name,e.options,t);vo("Invalid Firebase Database URL",l),wt(l.path)||C("Database URL must point to the root of a Firebase Database (not including a child path).");const h=gl(u,e,c,new Q(e.name,n));return new vl(h,e)}function ml(e,t){const n=hl[t];n&&n[e.key]===e||C(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Ho(e),delete n[e.key]}function gl(e,t,n,r){let i=hl[t.name];i||(i={},hl[t.name]=i);let s=i[e.toURLString()];return s&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Eo(e,dl,n,r),i[e.toURLString()]=s,s}class vl{constructor(e,t){this._repoInternal=e,this.app=t,this["type"]="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Co(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _a(this._repo,ht())),this._rootInternal}_delete(){return null!==this._rootInternal&&(ml(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&C("Cannot call "+e+" on a deleted database.")}}function yl(){$e.IS_TRANSPORT_INITIALIZED&&x("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function _l(){yl(),Fe.forceDisallow()}function wl(){yl(),je.forceDisallow(),Fe.forceAllow()}function bl(e,t,n,r={}){e=(0,o.m9)(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&C("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&C('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new X(X.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.Sg)(r.mockUserToken,e.app.options.projectId);s=new X(t)}fl(i,t,n,s)}function Sl(e){e=(0,o.m9)(e),e._checkNotDeleted("goOffline"),Ho(e._repo)}function kl(e){e=(0,o.m9)(e),e._checkNotDeleted("goOnline"),Wo(e._repo)}function Tl(e,t){k(e,t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(e){h(s.SDK_VERSION),(0,s._registerComponent)(new i.wA("database",((e,{instanceIdentifier:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return pl(n,r,i,t)}),"PUBLIC").setMultipleInstances(!0)),(0,s.registerVersion)(l,u,e),(0,s.registerVersion)(l,u,"esm2017")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El={".sv":"timestamp"};function Cl(){return El}function xl(e){return{".sv":{increment:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Rl(e,t,n){var r;if(e=(0,o.m9)(e),go("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,s=new o.BH,a=(t,n,r)=>{let i=null;t?s.reject(t):(i=new wa(r,new _a(e._repo,e._path),un),s.resolve(new Al(n,i)))},l=Da(e,(()=>{}));return Yo(e._repo,e._path,t,a,l,i),s.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ut.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Il();const Pl="@firebase/database-compat",Nl="0.2.0",Ol=new a.Yd("@firebase/database-compat"),Dl=function(e){const t="FIREBASE WARNING: "+e;Ol.warn(t)},Ll=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.gK)(e,t)+"must be a boolean.")},Ml=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fl{constructor(e){this._delegate=e}cancel(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}update(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Dl("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),po("DataSnapshot.child","path",e,!1),new Ul(this._database,this._delegate.child(e))}hasChild(e){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),po("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new Ul(this._database,t))))}hasChildren(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Bl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Vl{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",t,!1);const s=Vl.getCancelAndContextArgs_("Query.on",n,r),a=(e,n)=>{t.call(s.context,new Ul(this.database,e),n)};a.userCallback=t,a.context=s.context;const l=null===(i=s.cancel)||void 0===i?void 0:i.bind(s.context);switch(e){case"value":return Da(this._delegate,a,l),t;case"child_added":return La(this._delegate,a,l),t;case"child_removed":return qa(this._delegate,a,l),t;case"child_changed":return Ma(this._delegate,a,l),t;case"child_moved":return Fa(this._delegate,a,l),t;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if((0,o.Dv)("Query.off",0,3,arguments.length),Ml("Query.off",e,!0),(0,o.Wj)("Query.off","callback",t,!0),(0,o.lb)("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,Ua(this._delegate,e,r)}else Ua(this._delegate,e)}get(){return Ra(this._delegate).then((e=>new Ul(this.database,e)))}once(e,t,n,r){(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",t,!0);const i=Vl.getCancelAndContextArgs_("Query.once",n,r),s=new o.BH,a=(e,n)=>{const r=new Ul(this.database,e);t&&t.call(i.context,r,n),s.resolve(r)};a.userCallback=t,a.context=i.context;const l=e=>{i.cancel&&i.cancel.call(i.context,e),s.reject(e)};switch(e){case"value":Da(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":La(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":qa(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":Ma(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Fa(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new Vl(this.database,ul(this._delegate,Za(e)))}limitToLast(e){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new Vl(this.database,ul(this._delegate,Ja(e)))}orderByChild(e){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new Vl(this.database,ul(this._delegate,el(e)))}orderByKey(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new Vl(this.database,ul(this._delegate,nl()))}orderByPriority(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new Vl(this.database,ul(this._delegate,il()))}orderByValue(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new Vl(this.database,ul(this._delegate,ol()))}startAt(e=null,t){return(0,o.Dv)("Query.startAt",0,2,arguments.length),new Vl(this.database,ul(this._delegate,Wa(e,t)))}startAfter(e=null,t){return(0,o.Dv)("Query.startAfter",0,2,arguments.length),new Vl(this.database,ul(this._delegate,Ga(e,t)))}endAt(e=null,t){return(0,o.Dv)("Query.endAt",0,2,arguments.length),new Vl(this.database,ul(this._delegate,ja(e,t)))}endBefore(e=null,t){return(0,o.Dv)("Query.endBefore",0,2,arguments.length),new Vl(this.database,ul(this._delegate,za(e,t)))}equalTo(e,t){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new Vl(this.database,ul(this._delegate,ll(e,t)))}toString(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Vl)){const e="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(e)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Bl(this.database,new _a(this._delegate._repo,this._delegate._path))}}class Bl extends Vl{constructor(e,t){super(e,new ma(t._repo,t._path,new Vn,!1)),this.database=e,this._delegate=t}getKey(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new Bl(this.database,ka(this._delegate,e))}getParent(){(0,o.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Bl(this.database,e):null}getRoot(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new Bl(this.database,this._delegate.root)}set(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",t,!0);const n=Ea(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Dl("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}go("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",t,!0);const n=Aa(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);const r=xa(this._delegate,e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}remove(e){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",e,!0);const t=Ia(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,o.Wj)("Reference.transaction","onComplete",t,!0),Ll("Reference.transaction","applyLocally",n,!0);const r=Rl(this._delegate,e,{applyLocally:n}).then((e=>new ql(e.committed,new Ul(this.database,e.snapshot))));return t&&r.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),r}setPriority(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",t,!0);const n=Ca(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",t,!0);const n=Ta(this._delegate,e),r=n.then((e=>new Bl(this.database,e)));t&&r.then((()=>t(null)),(e=>t(e)));const i=new Bl(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return go("Reference.onDisconnect",this._delegate._path),new Fl(new pa(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:_l,forceLongPolling:wl}}useEmulator(e,t,n={}){bl(this._delegate,e,t,n)}ref(e){if((0,o.Dv)("database.ref",0,1,arguments.length),e instanceof Bl){const t=Sa(this._delegate,e.toString());return new Bl(this,t)}{const t=ba(this._delegate,e);return new Bl(this,t)}}refFromURL(e){const t="database.refFromURL";(0,o.Dv)(t,1,1,arguments.length);const n=Sa(this._delegate,e);return new Bl(this,n)}goOffline(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),Sl(this._delegate)}goOnline(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),kl(this._delegate)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $l({app:e,url:t,version:n,customAuthImpl:r,namespace:s,nodeAdmin:o=!1}){h(n);const a=new i.zt("auth-internal",new i.H0("database-standalone"));return a.setComponent(new i.wA("auth-internal",(()=>r),"PRIVATE")),{instance:new jl(pl(e,a,void 0,t,o),e),namespace:s}}jl.ServerValue={TIMESTAMP:Cl(),increment:e=>xl(e)};var zl=Object.freeze({__proto__:null,initStandalone:$l});
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=jl.ServerValue;function Wl(e){e.INTERNAL.registerComponent(new i.wA("database-compat",((e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new jl(r,n)}),"PUBLIC").setServiceProps({Reference:Bl,Query:Vl,Database:jl,DataSnapshot:Ul,enableLogging:Tl,INTERNAL:zl,ServerValue:Hl}).setMultipleInstances(!0)),e.registerVersion(Pl,Nl)}Wl(r.Z)},3174:(e,t,n)=>{"use strict";n.r(t);var r=n(9859),i=n(7574),s=n(5505),o=n(3513);const a="@firebase/firestore-compat",l="0.1.18";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new i.WA("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c(){if("undefined"===typeof Uint8Array)throw new i.WA("unimplemented","Uint8Arrays are not available in this environment.")}function h(){if(!(0,i.Me)())throw new i.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class d{constructor(e){this._delegate=e}static fromBase64String(e){return h(),new d(i.Jj.fromBase64String(e))}static fromUint8Array(e){return c(),new d(i.Jj.fromUint8Array(e))}toBase64(){return h(),this._delegate.toBase64()}toUint8Array(){return c(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(e){return p(e,["next","error","complete"])}function p(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m{enableIndexedDbPersistence(e,t){return(0,i.ST)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return(0,i.fH)(e._delegate)}clearIndexedDbPersistence(e){return(0,i.Fc)(e._delegate)}}class g{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof i.l7||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||(0,i.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,n={}){(0,i.at)(this._delegate,e,t,n)}enableNetwork(){return(0,i.Ix)(this._delegate)}disableNetwork(){return(0,i.TF)(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,(0,i.Wi)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,i.Mx)(this._delegate)}onSnapshotsInSync(e){return(0,i.sc)(this._delegate,e)}get app(){if(!this._appCompat)throw new i.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new P(this,(0,i.hJ)(this._delegate,e))}catch(t){throw k(t,"collection()","Firestore.collection()")}}doc(e){try{return new S(this,(0,i.JU)(this._delegate,e))}catch(t){throw k(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new x(this,(0,i.B$)(this._delegate,e))}catch(t){throw k(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return(0,i.i3)(this._delegate,(t=>e(new _(this,t))))}batch(){return(0,i.qY)(this._delegate),new w(new i.PU(this._delegate,(e=>(0,i.GL)(this._delegate,e))))}loadBundle(e){return(0,i.Pb)(this._delegate,e)}namedQuery(e){return(0,i.L$)(this._delegate,e).then((e=>e?new x(this,e):null))}}class v extends i.u7{constructor(e){super(),this.firestore=e}convertBytes(e){return new d(new i.Jj(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return S.forKey(t,this.firestore,null)}}function y(e){(0,i.Ub)(e)}class _{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new v(e)}get(e){const t=N(e);return this._delegate.get(t).then((e=>new E(this._firestore,new i.xU(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=N(e);return n?(u("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=N(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=N(e);return this._delegate.delete(t),this}}class w{constructor(e){this._delegate=e}set(e,t,n){const r=N(e);return n?(u("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=N(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=N(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class b{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new i.$q(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new C(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=b.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new b(e,new v(e),t),r.set(t,i)),i}}b.INSTANCES=new WeakMap;class S{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new v(e)}static forPath(e,t,n){if(e.length%2!==0)throw new i.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new S(t,new i.my(t._delegate,n,new i.Ky(e)))}static forKey(e,t,n){return new S(t,new i.my(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new P(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new P(this.firestore,(0,i.hJ)(this._delegate,e))}catch(t){throw k(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=(0,s.m9)(e),e instanceof i.my&&(0,i.Eo)(this._delegate,e)}set(e,t){t=u("DocumentReference.set",t);try{return t?(0,i.pl)(this._delegate,e,t):(0,i.pl)(this._delegate,e)}catch(n){throw k(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?(0,i.r7)(this._delegate,e):(0,i.r7)(this._delegate,e,t,...n)}catch(r){throw k(r,"updateDoc()","DocumentReference.update()")}}delete(){return(0,i.oe)(this._delegate)}onSnapshot(...e){const t=T(e),n=I(e,(e=>new E(this.firestore,new i.xU(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return(0,i.cf)(this._delegate,t,n)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?(0,i.kl)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?(0,i.Xk)(this._delegate):(0,i.QT)(this._delegate),t.then((e=>new E(this.firestore,new i.xU(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new S(this.firestore,e?this._delegate.withConverter(b.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function k(e,t,n){return e.message=e.message.replace(t,n),e}function T(e){for(const t of e)if("object"===typeof t&&!f(t))return t;return{}}function I(e,t){var n,r;let i;return i=f(e[0])?e[0]:f(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class E{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new S(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return(0,i.qK)(this._delegate,e._delegate)}}class C extends E{data(e){const t=this._delegate.data(e);return(0,i.K9)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class x{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new v(e)}where(e,t,n){try{return new x(this.firestore,(0,i.IO)(this._delegate,(0,i.ar)(e,t,n)))}catch(r){throw k(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new x(this.firestore,(0,i.IO)(this._delegate,(0,i.Xo)(e,t)))}catch(n){throw k(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new x(this.firestore,(0,i.IO)(this._delegate,(0,i.b9)(e)))}catch(t){throw k(t,"limit()","Query.limit()")}}limitToLast(e){try{return new x(this.firestore,(0,i.IO)(this._delegate,(0,i.vh)(e)))}catch(t){throw k(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new x(this.firestore,(0,i.IO)(this._delegate,(0,i.e0)(...e)))}catch(t){throw k(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new x(this.firestore,(0,i.IO)(this._delegate,(0,i.TQ)(...e)))}catch(t){throw k(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new x(this.firestore,(0,i.IO)(this._delegate,(0,i.Lx)(...e)))}catch(t){throw k(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new x(this.firestore,(0,i.IO)(this._delegate,(0,i.Wu)(...e)))}catch(t){throw k(t,"endAt()","Query.endAt()")}}isEqual(e){return(0,i.iE)(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?(0,i.UQ)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?(0,i.zN)(this._delegate):(0,i.PL)(this._delegate),t.then((e=>new R(this.firestore,new i.W(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=T(e),n=I(e,(e=>new R(this.firestore,new i.W(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return(0,i.cf)(this._delegate,t,n)}withConverter(e){return new x(this.firestore,e?this._delegate.withConverter(b.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class A{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new C(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class R{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new x(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new C(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new A(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new C(this._firestore,n))}))}isEqual(e){return(0,i.qK)(this._delegate,e._delegate)}}class P extends x{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new S(this.firestore,e):null}doc(e){try{return new S(this.firestore,void 0===e?(0,i.JU)(this._delegate):(0,i.JU)(this._delegate,e))}catch(t){throw k(t,"doc()","CollectionReference.doc()")}}add(e){return(0,i.ET)(this._delegate,e).then((e=>new S(this.firestore,e)))}isEqual(e){return(0,i.Eo)(this._delegate,e._delegate)}withConverter(e){return new P(this.firestore,e?this._delegate.withConverter(b.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function N(e){return(0,i.Cf)(e,i.my)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(...e){this._delegate=new i.Lz(...e)}static documentId(){return new O(i.Xb.keyField().canonicalString())}isEqual(e){return e=(0,s.m9)(e),e instanceof i.Lz&&this._delegate._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this._delegate=e}static serverTimestamp(){const e=(0,i.Bt)();return e._methodName="FieldValue.serverTimestamp",new D(e)}static delete(){const e=(0,i.AK)();return e._methodName="FieldValue.delete",new D(e)}static arrayUnion(...e){const t=(0,i.vr)(...e);return t._methodName="FieldValue.arrayUnion",new D(t)}static arrayRemove(...e){const t=(0,i.Ab)(...e);return t._methodName="FieldValue.arrayRemove",new D(t)}static increment(e){const t=(0,i.nP)(e);return t._methodName="FieldValue.increment",new D(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={Firestore:g,GeoPoint:i.F8,Timestamp:i.EK,Blob:d,Transaction:_,WriteBatch:w,DocumentReference:S,DocumentSnapshot:E,Query:x,QueryDocumentSnapshot:C,QuerySnapshot:R,CollectionReference:P,FieldPath:O,FieldValue:D,setLogLevel:y,CACHE_SIZE_UNLIMITED:i.IX};function M(e,t){e.INTERNAL.registerComponent(new o.wA("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},L)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e){M(e,((e,t)=>new g(e,t,new m))),e.registerVersion(a,l)}F(r.Z)},4685:(e,t,n)=>{"use strict";n.r(t);var r=n(9859),i=n(8897),s=n(5505),o=n(3513);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const a="type.googleapis.com/google.protobuf.Int64Value",l="type.googleapis.com/google.protobuf.UInt64Value";function u(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function c(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((e=>c(e)));if("function"===typeof e||"object"===typeof e)return u(e,(e=>c(e)));throw new Error("Data cannot be encoded in JSON: "+e)}function h(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case a:case l:{const t=Number(e["value"]);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((e=>h(e))):"function"===typeof e||"object"===typeof e?u(e,(e=>h(e))):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d="functions",f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p extends s.ZR{constructor(e,t,n){super(`${d}/${e}`,t||""),this.details=n}}function m(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function g(e,t){let n,r=m(e),i=r;try{const e=t&&t.error;if(e){const t=e.status;if("string"===typeof t){if(!f[t])return new p("internal","internal");r=f[t],i=t}const s=e.message;"string"===typeof s&&(i=s),n=e.details,void 0!==n&&(n=h(n))}}catch(s){}return"ok"===r?null:new p(r,i,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(){if(this.appCheck){const e=await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(){const e=await this.getAuthToken(),t=await this.getMessagingToken(),n=await this.getAppCheckToken();return{authToken:e,messagingToken:t,appCheckToken:n}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y="us-central1";function _(e){let t=null;return{promise:new Promise(((n,r)=>{t=setTimeout((()=>{r(new p("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:()=>{t&&clearTimeout(t)}}}class w{constructor(e,t,n,r,i=y,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new v(t,n,r),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(i);this.customDomain=e.origin,this.region=y}catch(o){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return`${n}/${t}/${this.region}/${e}`}return null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function b(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function S(e,t,n){return r=>I(e,t,r,n||{})}function k(e,t,n){return r=>E(e,t,r,n||{})}async function T(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(o){return{status:0,json:null}}let s=null;try{s=await i.json()}catch(o){}return{status:i.status,json:s}}function I(e,t,n,r){const i=e._url(t);return E(e,i,n,r)}async function E(e,t,n,r){n=c(n);const i={data:n},s={},o=await e.contextProvider.getContext();o.authToken&&(s["Authorization"]="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),null!==o.appCheckToken&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=_(a),u=await Promise.race([T(t,i,s,e.fetchImpl),l.promise,e.cancelAllRequests]);if(l.cancel(),!u)throw new p("cancelled","Firebase Functions instance was deleted.");const d=g(u.status,u.json);if(d)throw d;if(!u.json)throw new p("internal","Response is not valid JSON object.");let f=u.json.data;if("undefined"===typeof f&&(f=u.json.result),"undefined"===typeof f)throw new p("internal","Response is missing data field.");const m=h(f);return{data:m}}const C="@firebase/functions",x="0.8.1",A="auth-internal",R="app-check-internal",P="messaging-internal";function N(e,t){const n=(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider(A),s=t.getProvider(P),o=t.getProvider(R);return new w(r,i,s,o,n,e)};(0,i._registerComponent)(new o.wA(d,n,"PUBLIC").setMultipleInstances(!0)),(0,i.registerVersion)(C,x,t),(0,i.registerVersion)(C,x,"esm2017")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(e,t,n){b((0,s.m9)(e),t,n)}function D(e,t,n){return S((0,s.m9)(e),t,n)}function L(e,t,n){return k((0,s.m9)(e),t,n)}N(fetch.bind(self));const M="@firebase/functions-compat",F="0.2.1";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class q{constructor(e,t){this.app=e,this._delegate=t,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(e,t){return D(this._delegate,e,t)}httpsCallableFromURL(e,t){return L(this._delegate,e,t)}useFunctionsEmulator(e){const t=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==t)throw new s.ZR("functions","No origin provided to useFunctionsEmulator()");if(null==t[2])throw new s.ZR("functions","Port missing in origin provided to useFunctionsEmulator()");return O(this._delegate,t[1],Number(t[2]))}useEmulator(e,t){return O(this._delegate,e,t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U="us-central1",V=(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("functions").getImmediate({identifier:null!==t&&void 0!==t?t:U});return new q(n,r)};function B(){const e={Functions:q};r.Z.INTERNAL.registerComponent(new o.wA("functions-compat",V,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */B(),r.Z.registerVersion(M,F)},2028:(e,t,n)=>{"use strict";n.r(t);var r=n(9859),i=n(8897),s=n(5505),o=n(3513);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const a="firebasestorage.googleapis.com",l="storageBucket",u=12e4,c=6e5;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class h extends s.ZR{constructor(e,t){super(d(e),`Firebase Storage: ${t} (${d(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,h.prototype)}_codeEquals(e){return d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function d(e){return"storage/"+e}function f(){const e="An unknown error occurred, please check the error payload for server response.";return new h("unknown",e)}function p(e){return new h("object-not-found","Object '"+e+"' does not exist.")}function m(e){return new h("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function g(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new h("unauthenticated",e)}function v(){return new h("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function y(e){return new h("unauthorized","User does not have permission to access '"+e+"'.")}function _(){return new h("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function w(){return new h("canceled","User canceled the upload/download.")}function b(e){return new h("invalid-url","Invalid URL '"+e+"'.")}function S(e){return new h("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function k(){return new h("no-default-bucket","No default bucket found. Did you set the '"+l+"' property when initializing the app?")}function T(){return new h("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function I(){return new h("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function E(){return new h("no-download-url","The given file does not have any download URLs.")}function C(e){return new h("invalid-argument",e)}function x(){return new h("app-deleted","The Firebase app was deleted.")}function A(e){return new h("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function R(e,t){return new h("invalid-format","String does not match format '"+e+"': "+t)}function P(e){throw new h("internal-error","Internal error: "+e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=N.makeFromUrl(e,t)}catch(r){return new N(e,"")}if(""===n.path)return n;throw S(e)}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";function i(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function u(e){e.path_=decodeURIComponent(e.path)}const c="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${c}/b/${r}/o${d}`,"i"),p={bucket:1,path:3},m=t===a?"(?:storage.googleapis.com|storage.cloud.google.com)":t,g="([^?#]*)",v=new RegExp(`^https?://${m}/${r}/${g}`,"i"),y={bucket:1,path:2},_=[{regex:o,indices:l,postModify:i},{regex:f,indices:p,postModify:u},{regex:v,indices:y,postModify:u}];for(let a=0;a<_.length;a++){const t=_[a],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new N(e,i),t.postModify(n);break}}if(null==n)throw b(e);return n}}class O{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let u=!1;function c(...e){u||(u=!0,t.apply(null,e))}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e,...t){if(u)return void d();if(e)return d(),void c.call(null,e,...t);const n=l()||o;if(n)return d(),void c.call(null,e,...t);let i;r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),h(i)}let p=!1;function m(e){p||(p=!0,d(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}function L(e){e(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e){return void 0!==e}function F(e){return"function"===typeof e}function q(e){return"object"===typeof e&&!Array.isArray(e)}function U(e){return"string"===typeof e||e instanceof String}function V(e){return B()&&e instanceof Blob}function B(){return"undefined"!==typeof Blob}function j(e,t,n,r){if(r<t)throw C(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw C(`Invalid value for '${e}'. Expected ${n} or less.`)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function z(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H;(function(e){e[e["NO_ERROR"]=0]="NO_ERROR",e[e["NETWORK_ERROR"]=1]="NETWORK_ERROR",e[e["ABORT"]=2]="ABORT"})(H||(H={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class W{constructor(e,t,n,r,i,s,o,a,l,u,c){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new K(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===H.NO_ERROR,i=n.getStatus();if(!t||this.isRetryStatusCode_(i)){const t=n.getErrorCode()===H.ABORT;return void e(!1,new K(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new K(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());M(e)?n(e):n()}catch(s){r(s)}else if(null!==i){const e=f();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){const e=this.appDelete_?x():w();r(e)}else{const e=_();r(e)}};this.canceled_?t(!1,new K(!1,null,!0)):this.backoffId_=D(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&L(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=[408,429],r=-1!==n.indexOf(e),i=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||i}}class K{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function G(e,t){null!==t&&t.length>0&&(e["Authorization"]="Firebase "+t)}function Y(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function Z(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Q(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function J(e,t,n,r,i,s){const o=z(e.urlParams),a=e.url+o,l=Object.assign({},e.headers);return Z(l,t),G(l,n),Y(l,s),Q(l,r),new W(a,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ee(...e){const t=X();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(B())return new Blob(e);throw new h("unsupported-environment","This browser doesn't seem to support creating Blobs")}function te(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(e){return atob(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ie{constructor(e,t){this.data=e,this.contentType=t||null}}function se(e,t){switch(e){case re.RAW:return new ie(oe(t));case re.BASE64:case re.BASE64URL:return new ie(le(e,t));case re.DATA_URL:return new ie(ce(t),he(t))}throw f()}function oe(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){const i=n<e.length-1&&56320===(64512&e.charCodeAt(n+1));if(i){const i=r,s=e.charCodeAt(++n);r=65536|(1023&i)<<10|1023&s,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ae(e){let t;try{t=decodeURIComponent(e)}catch(n){throw R(re.DATA_URL,"Malformed data URL.")}return oe(t)}function le(e,t){switch(e){case re.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){const t=n?"-":"_";throw R(e,"Invalid character '"+t+"' found: is it base64url encoded?")}break}case re.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){const t=n?"+":"/";throw R(e,"Invalid character '"+t+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ne(t)}catch(i){throw R(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class ue{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw R(re.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=de(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}function ce(e){const t=new ue(e);return t.base64?le(re.BASE64,t.rest):ae(t.rest)}function he(e){const t=new ue(e);return t.contentType}function de(e,t){const n=e.length>=t.length;return!!n&&e.substring(e.length-t.length)===t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,t){let n=0,r="";V(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(V(this.data_)){const n=this.data_,r=te(n,e,t);return null===r?null:new fe(r)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new fe(n,!0)}}static getBlob(...e){if(B()){const t=e.map((e=>e instanceof fe?e.data_:e));return new fe(ee.apply(null,t))}{const t=e.map((e=>U(e)?se(re.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new fe(r,!0)}}uploadData(){return this.data_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e){let t;try{t=JSON.parse(e)}catch(n){return null}return q(t)?t:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e){if(0===e.length)return null;const t=e.lastIndexOf("/");if(-1===t)return"";const n=e.slice(0,t);return n}function ge(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}function ve(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e,t){return t}class _e{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||ye}}let we=null;function be(e){return!U(e)||e.length<2?e:ve(e)}function Se(){if(we)return we;const e=[];function t(e,t){return be(t)}e.push(new _e("bucket")),e.push(new _e("generation")),e.push(new _e("metageneration")),e.push(new _e("name","fullPath",!0));const n=new _e("name");function r(e,t){return void 0!==t?Number(t):t}n.xform=t,e.push(n);const i=new _e("size");return i.xform=r,e.push(i),e.push(new _e("timeCreated")),e.push(new _e("updated")),e.push(new _e("md5Hash",null,!0)),e.push(new _e("cacheControl",null,!0)),e.push(new _e("contentDisposition",null,!0)),e.push(new _e("contentEncoding",null,!0)),e.push(new _e("contentLanguage",null,!0)),e.push(new _e("contentType",null,!0)),e.push(new _e("metadata","customMetadata",!0)),we=e,we}function ke(e,t){function n(){const n=e["bucket"],r=e["fullPath"],i=new N(n,r);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function Te(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return ke(r,e),r}function Ie(e,t,n){const r=pe(t);if(null===r)return null;const i=r;return Te(e,i,n)}function Ee(e,t,n,r){const i=pe(t);if(null===i)return null;if(!U(i["downloadTokens"]))return null;const s=i["downloadTokens"];if(0===s.length)return null;const o=encodeURIComponent,a=s.split(","),l=a.map((t=>{const i=e["bucket"],s=e["fullPath"],a="/b/"+o(i)+"/o/"+o(s),l=$(a,n,r),u=z({alt:"media",token:t});return l+u}));return l[0]}function Ce(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe="prefixes",Ae="items";function Re(e,t,n){const r={prefixes:[],items:[],nextPageToken:n["nextPageToken"]};if(n[xe])for(const i of n[xe]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new N(t,n));r.prefixes.push(s)}if(n[Ae])for(const i of n[Ae]){const n=e._makeStorageReference(new N(t,i["name"]));r.items.push(n)}return r}function Pe(e,t,n){const r=pe(n);if(null===r)return null;const i=r;return Re(e,t,i)}class Ne{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(e){if(!e)throw f()}function De(e,t){function n(n,r){const i=Ie(e,r,t);return Oe(null!==i),i}return n}function Le(e,t){function n(n,r){const i=Pe(e,t,r);return Oe(null!==i),i}return n}function Me(e,t){function n(n,r){const i=Ie(e,r,t);return Oe(null!==i),Ee(i,r,e.host,e._protocol)}return n}function Fe(e){function t(t,n){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?v():g():402===t.getStatus()?m(e.bucket):403===t.getStatus()?y(e.path):n,r.serverResponse=n.serverResponse,r}return t}function qe(e){const t=Fe(e);function n(n,r){let i=t(n,r);return 404===n.getStatus()&&(i=p(e.path)),i.serverResponse=r.serverResponse,i}return n}function Ue(e,t,n){const r=t.fullServerUrl(),i=$(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new Ne(i,s,De(e,n),o);return a.errorHandler=qe(t),a}function Ve(e,t,n,r,i){const s={};t.isRoot?s["prefix"]="":s["prefix"]=t.path+"/",n&&n.length>0&&(s["delimiter"]=n),r&&(s["pageToken"]=r),i&&(s["maxResults"]=i);const o=t.bucketOnlyServerUrl(),a=$(o,e.host,e._protocol),l="GET",u=e.maxOperationRetryTime,c=new Ne(a,l,Le(e,t.bucket),u);return c.urlParams=s,c.errorHandler=Fe(t),c}function Be(e,t,n){const r=t.fullServerUrl(),i=$(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new Ne(i,s,Me(e,n),o);return a.errorHandler=qe(t),a}function je(e,t,n,r){const i=t.fullServerUrl(),s=$(i,e.host,e._protocol),o="PATCH",a=Ce(n,r),l={"Content-Type":"application/json; charset=utf-8"},u=e.maxOperationRetryTime,c=new Ne(s,o,De(e,r),u);return c.headers=l,c.body=a,c.errorHandler=qe(t),c}function $e(e,t){const n=t.fullServerUrl(),r=$(n,e.host,e._protocol),i="DELETE",s=e.maxOperationRetryTime;function o(e,t){}const a=new Ne(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=qe(t),a}function ze(e,t){return e&&e["contentType"]||t&&t.type()||"application/octet-stream"}function He(e,t,n){const r=Object.assign({},n);return r["fullPath"]=e.path,r["size"]=t.size(),r["contentType"]||(r["contentType"]=ze(null,t)),r}function We(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=He(t,r,i),c=Ce(u,n),h="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+l+"\r\nContent-Type: "+u["contentType"]+"\r\n\r\n",d="\r\n--"+l+"--",f=fe.getBlob(h,r,d);if(null===f)throw T();const p={name:u["fullPath"]},m=$(s,e.host,e._protocol),g="POST",v=e.maxUploadRetryTime,y=new Ne(m,g,De(e,n),v);return y.urlParams=p,y.headers=o,y.body=f.uploadData(),y.errorHandler=Fe(t),y}class Ke{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Ge(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(i){Oe(!1)}const r=t||["active"];return Oe(!!n&&-1!==r.indexOf(n)),n}function Ye(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=He(t,r,i),a={name:o["fullPath"]},l=$(s,e.host,e._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o["contentType"],"Content-Type":"application/json; charset=utf-8"},h=Ce(o,n),d=e.maxUploadRetryTime;function f(e){let t;Ge(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Oe(!1)}return Oe(U(t)),t}const p=new Ne(l,u,f,d);return p.urlParams=a,p.headers=c,p.body=h,p.errorHandler=Fe(t),p}function Ze(e,t,n,r){const i={"X-Goog-Upload-Command":"query"};function s(e){const t=Ge(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){Oe(!1)}n||Oe(!1);const i=Number(n);return Oe(!isNaN(i)),new Ke(i,r.size(),"final"===t)}const o="POST",a=e.maxUploadRetryTime,l=new Ne(n,o,s,a);return l.headers=i,l.errorHandler=Fe(t),l}const Qe=262144;function Je(e,t,n,r,i,s,o,a){const l=new Ke(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw I();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,d=h+c,f=c===u?"upload, finalize":"upload",p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(h,d);if(null===m)throw T();function g(e,n){const i=Ge(e,["active","final"]),o=l.current+c,a=r.size();let u;return u="final"===i?De(t,s)(e,n):null,new Ke(o,a,"final"===i,u)}const v="POST",y=t.maxUploadRetryTime,_=new Ne(n,v,g,y);return _.headers=p,_.body=m.uploadData(),_.progressCallback=a||null,_.errorHandler=Fe(e),_}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe={STATE_CHANGED:"state_changed"},et={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tt(e){switch(e){case"running":case"pausing":case"canceling":return et.RUNNING;case"paused":return et.PAUSED;case"success":return et.SUCCESS;case"canceled":return et.CANCELED;case"error":return et.ERROR;default:return et.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t,n){const r=F(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(e){return(...t)=>{Promise.resolve().then((()=>e(...t)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let it=null;class st{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=H.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=H.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=H.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw P("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw P("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw P("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw P("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw P("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ot extends st{initXhr(){this.xhr_.responseType="text"}}function at(){return it?it():new ot}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class lt{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Se(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=Ye(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,at,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=Ze(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,at,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=Qe*this._chunkMultiplier,t=new Ke(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=Je(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,at,r,i);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){const e=Qe*this._chunkMultiplier;e<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Ue(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,at,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=We(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,at,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":this._state=e,void 0!==this._request&&this._request.cancel();break;case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=w(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=tt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new nt(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();const e=this._observers.slice();e.forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(tt(this._state)){case et.SUCCESS:rt(this._resolve.bind(null,this.snapshot))();break;case et.CANCELED:case et.ERROR:const t=this._reject;rt(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){const t=tt(this._state);switch(t){case et.RUNNING:case et.PAUSED:e.next&&rt(e.next.bind(e,this.snapshot))();break;case et.SUCCESS:e.complete&&rt(e.complete.bind(e))();break;case et.CANCELED:case et.ERROR:e.error&&rt(e.error.bind(e,this._error))();break;default:e.error&&rt(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this._service=e,this._location=t instanceof N?t:N.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ut(e,t)}get root(){const e=new N(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ve(this._location.path)}get storage(){return this._service}get parent(){const e=me(this._location.path);if(null===e)return null;const t=new N(this._location.bucket,e);return new ut(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw A(e)}}function ct(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new lt(e,new fe(t),n)}function ht(e){const t={prefixes:[],items:[]};return dt(e,t).then((()=>t))}async function dt(e,t,n){const r={pageToken:n},i=await ft(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await dt(e,t,i.nextPageToken)}function ft(e,t){null!=t&&"number"===typeof t.maxResults&&j("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=Ve(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,at)}function pt(e){e._throwIfRoot("getMetadata");const t=Ue(e.storage,e._location,Se());return e.storage.makeRequestWithTokens(t,at)}function mt(e,t){e._throwIfRoot("updateMetadata");const n=je(e.storage,e._location,t,Se());return e.storage.makeRequestWithTokens(n,at)}function gt(e){e._throwIfRoot("getDownloadURL");const t=Be(e.storage,e._location,Se());return e.storage.makeRequestWithTokens(t,at).then((e=>{if(null===e)throw E();return e}))}function vt(e){e._throwIfRoot("deleteObject");const t=$e(e.storage,e._location);return e.storage.makeRequestWithTokens(t,at)}function yt(e,t){const n=ge(e._location.path,t),r=new N(e._location.bucket,n);return new ut(e.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(e){return/^[A-Za-z]+:\/\//.test(e)}function wt(e,t){return new ut(e,t)}function bt(e,t){if(e instanceof It){const n=e;if(null==n._bucket)throw k();const r=new ut(n,n._bucket);return null!=t?bt(r,t):r}return void 0!==t?yt(e,t):e}function St(e,t){if(t&&_t(t)){if(e instanceof It)return wt(e,t);throw C("To use ref(service, url), the first argument must be a Storage instance.")}return bt(e,t)}function kt(e,t){const n=null===t||void 0===t?void 0:t[l];return null==n?null:N.makeFromBucketSpec(n,e)}function Tt(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:(0,s.Sg)(i,e.app.options.projectId))}class It{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=a,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u,this._maxUploadRetryTime=c,this._requests=new Set,this._bucket=null!=r?N.makeFromBucketSpec(r,this._host):kt(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=N.makeFromBucketSpec(this._url,e):this._bucket=kt(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();return t.token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ut(this,e)}_makeRequest(e,t,n,r){if(this._deleted)return new O(x());{const i=J(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Et="@firebase/storage",Ct="0.9.6",xt="storage";function At(e,t,n){return e=(0,s.m9)(e),ct(e,t,n)}function Rt(e){return e=(0,s.m9)(e),pt(e)}function Pt(e,t){return e=(0,s.m9)(e),mt(e,t)}function Nt(e,t){return e=(0,s.m9)(e),ft(e,t)}function Ot(e){return e=(0,s.m9)(e),ht(e)}function Dt(e){return e=(0,s.m9)(e),gt(e)}function Lt(e){return e=(0,s.m9)(e),vt(e)}function Mt(e,t){return e=(0,s.m9)(e),St(e,t)}function Ft(e,t){return yt(e,t)}function qt(e,t,n,r={}){Tt(e,t,n,r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new It(n,r,s,t,i.SDK_VERSION)}function Vt(){(0,i._registerComponent)(new o.wA(xt,Ut,"PUBLIC").setMultipleInstances(!0)),(0,i.registerVersion)(Et,Ct,""),(0,i.registerVersion)(Et,Ct,"esm2017")}Vt();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bt{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Bt(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new Bt(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new Bt(e,this,this._ref)):{next:t.next?e=>t.next(new Bt(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class $t{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new zt(e,this._service)))}get items(){return this._delegate.items.map((e=>new zt(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=Ft(this._delegate,e);return new zt(t,this.storage)}get root(){return new zt(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new zt(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new jt(At(this._delegate,e,t),this)}putString(e,t=re.RAW,n){this._throwIfRoot("putString");const r=se(t,e),i=Object.assign({},n);return null==i["contentType"]&&null!=r.contentType&&(i["contentType"]=r.contentType),new jt(new lt(this._delegate,new fe(r.data,!0),i),this)}listAll(){return Ot(this._delegate).then((e=>new $t(e,this.storage)))}list(e){return Nt(this._delegate,e||void 0).then((e=>new $t(e,this.storage)))}getMetadata(){return Rt(this._delegate)}updateMetadata(e){return Pt(this._delegate,e)}getDownloadURL(){return Dt(this._delegate)}delete(){return this._throwIfRoot("delete"),Lt(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw A(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Wt(e))throw C("ref() expected a child path but got a URL, use refFromURL instead.");return new zt(Mt(this._delegate,e),this)}refFromURL(e){if(!Wt(e))throw C("refFromURL() expected a full URL but got a child path, use ref() instead.");try{N.makeFromUrl(e,this._delegate.host)}catch(t){throw C("refFromUrl() expected a valid full URL but got an invalid one.")}return new zt(Mt(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){qt(this._delegate,e,t,n)}}function Wt(e){return/^[A-Za-z]+:\/\//.test(e)}const Kt="@firebase/storage-compat",Gt="0.1.14",Yt="storage-compat";function Zt(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t}),i=new Ht(n,r);return i}function Qt(e){const t={TaskState:et,TaskEvent:Xe,StringFormat:re,Storage:Ht,Reference:zt};e.INTERNAL.registerComponent(new o.wA(Yt,Zt,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Kt,Gt)}Qt(r.Z)},4493:(e,t,n)=>{"use strict";n.d(t,{ET:()=>r.ET,JU:()=>r.JU,ad:()=>r.ad,hJ:()=>r.hJ,pl:()=>r.pl});var r=n(7574)},4617:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SWRVCache:()=>l,default:()=>Nt,mutate:()=>xt});var r=new WeakMap,i=0;function s(e){if(!e.length)return"";for(var t="arg",n=0;n<e.length;++n){var s=void 0;null===e[n]||"object"!==typeof e[n]&&"function"!==typeof e[n]?s="string"===typeof e[n]?'"'+e[n]+'"':String(e[n]):r.has(e[n])?s=r.get(e[n]):(s=i,r.set(e[n],i++)),t+="@"+s}return t}function o(e){if("function"===typeof e)try{e=e()}catch(t){e=""}return e=Array.isArray(e)?s(e):String(e||""),e}var a=function(){function e(e){void 0===e&&(e=0),this.items=new Map,this.ttl=e}return e.prototype.serializeKey=function(e){return o(e)},e.prototype.get=function(e){var t=this.serializeKey(e);return this.items.get(t)},e.prototype.set=function(e,t,n){var r=this.serializeKey(e),i=n||this.ttl,s=Date.now(),o={data:t,createdAt:s,expiresAt:i?s+i:1/0};this.dispatchExpire(i,o,r),this.items.set(r,o)},e.prototype.dispatchExpire=function(e,t,n){var r=this;e&&setTimeout((function(){var e=Date.now(),i=e>=t.expiresAt;i&&r.delete(n)}),e)},e.prototype.delete=function(e){this.items.delete(e)},e}();const l=a;var u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},u(e,t)};function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var h,d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)};function f(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{while((void 0===t||t-- >0)&&!(r=s.next()).done)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s["return"])&&n.call(s)}finally{if(i)throw i.error}}return o}function m(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var g=[],v=function(){function e(e){this.active=!0,this.effects=[],this.cleanups=[],this.vm=e}return e.prototype.run=function(e){if(this.active)try{return this.on(),e()}finally{this.off()}else 0},e.prototype.on=function(){this.active&&(g.push(this),h=this)},e.prototype.off=function(){this.active&&(g.pop(),h=g[g.length-1])},e.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach((function(e){return e.stop()})),this.cleanups.forEach((function(e){return e()})),this.active=!1)},e}();(function(e){function t(t){void 0===t&&(t=!1);var n=this,r=void 0;return O((function(){r=se(R())})),n=e.call(this,r)||this,t||y(n),n}c(t,e)})(v);function y(e,t){var n;if(t=t||h,t&&t.active)t.effects.push(e);else{var r=null===(n=L())||void 0===n?void 0:n.proxy;r&&r.$on("hook:destroyed",(function(){return e.stop()}))}}function _(){return h}function w(){var e,t;return(null===(e=_())||void 0===e?void 0:e.vm)||(null===(t=L())||void 0===t?void 0:t.proxy)}function b(e){if(!e.scope){var t=new v(e.proxy);e.scope=t,e.proxy.$on("hook:destroyed",(function(){return t.stop()}))}return e.scope}var S=void 0;try{var k=n(9302);k&&x(k)?S=k:k&&"default"in k&&x(k.default)&&(S=k.default)}catch(Ot){}var T=null,I=null,E=!0,C="__composition_api_installed__";function x(e){return e&&te(e)&&"Vue"===e.name}function A(e){return T&&z(e,C)}function R(){return T}function P(){var e=T||S;return e}function N(e){T=e,Object.defineProperty(e,C,{configurable:!0,writable:!0,value:!0})}function O(e){var t=E;E=!1;try{e()}finally{E=t}}function D(e){if(E){var t=I;null===t||void 0===t||t.scope.off(),I=e,null===I||void 0===I||I.scope.on()}}function L(){return I}var M=new WeakMap;function F(e){if(M.has(e))return M.get(e);var t={proxy:e,update:e.$forceUpdate,type:e.$options,uid:e._uid,emit:e.$emit.bind(e),parent:null,root:null};b(t);var n=["data","props","attrs","refs","vnode","slots"];return n.forEach((function(n){j(t,n,{get:function(){return e["$".concat(n)]}})})),j(t,"isMounted",{get:function(){return e._isMounted}}),j(t,"isUnmounted",{get:function(){return e._isDestroyed}}),j(t,"isDeactivated",{get:function(){return e._inactive}}),j(t,"emitted",{get:function(){return e._events}}),M.set(e,t),e.$parent&&(t.parent=F(e.$parent)),e.$root&&(t.root=F(e.$root)),t}var q=function(e){return Object.prototype.toString.call(e)};function U(e){return"function"===typeof e&&/native code/.test(e.toString())}var V="undefined"!==typeof Symbol&&U(Symbol)&&"undefined"!==typeof Reflect&&U(Reflect.ownKeys),B=function(e){return e};function j(e,t,n){var r=n.get,i=n.set;Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:r||B,set:i||B})}function $(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function z(e,t){return Object.hasOwnProperty.call(e,t)}function H(e,t){if(!e)throw new Error("[vue-composition-api] ".concat(t))}function W(e){return Array.isArray(e)}var K=Object.prototype.toString,G=function(e){return K.call(e)},Y=function(e){return"[object Map]"===G(e)},Z=function(e){return"[object Set]"===G(e)},Q=4294967295;function J(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)&&t<=Q}function X(e){return null!==e&&"object"===typeof e}function ee(e){return"[object Object]"===q(e)}function te(e){return"function"===typeof e}function ne(e,t,n){if("undefined"===typeof window||"undefined"===typeof console)throw e;console.error(e)}function re(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function ie(e,t){return t=t||L(),t}function se(e,t){void 0===t&&(t={});var n=e.config.silent;e.config.silent=!0;var r=new e(t);return e.config.silent=n,r}function oe(e){var t=R();return t&&e instanceof t}function ae(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e.$scopedSlots[t])return e.$scopedSlots[t].apply(e,n)}}function le(e,t){var n;if(e){if(e._normalized)return e._normalized;for(var r in n={},e)e[r]&&"$"!==r[0]&&(n[r]=!0)}else n={};for(var r in t)r in n||(n[r]=!0);return n}function ue(e){return V?Symbol.for(e):e}var ce=ue("composition-api.preFlushQueue"),he=ue("composition-api.postFlushQueue"),de="composition-api.refKey",fe=new WeakMap,pe=new WeakMap,me=new WeakMap;function ge(e,t,n){var r=R(),i=r.util,s=(i.warn,i.defineReactive);var o=e.__ob__;function a(){o&&X(n)&&!z(n,"__ob__")&&Ae(n)}if(W(e)){if(J(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),a(),n;if("length"===t&&n!==e.length)return e.length=n,null===o||void 0===o||o.dep.notify(),n}return t in e&&!(t in Object.prototype)?(e[t]=n,a(),n):e._isVue||o&&o.vmCount?n:o?(s(o.value,t,n),Ce(e,t,n),a(),o.dep.notify(),n):(e[t]=n,n)}var ve=function(){function e(e){var t=e.get,n=e.set;j(this,"value",{get:t,set:n})}return e}();function ye(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new ve(e);n&&(r.effect=!0);var i=Object.seal(r);return t&&me.set(i,!0),i}function _e(e){var t;if(we(e))return e;var n=Ne((t={},t[de]=e,t));return ye({get:function(){return n[de]},set:function(e){return n[de]=e}})}function we(e){return e instanceof ve}function be(e){if(!ee(e))return e;var t={};for(var n in e)t[n]=Se(e,n);return t}function Se(e,t){t in e||ge(e,t,void 0);var n=e[t];return we(n)?n:ye({get:function(){return e[t]},set:function(n){return e[t]=n}})}var ke="__v_skip";function Te(e){var t;return Boolean(e&&z(e,"__ob__")&&"object"===typeof e.__ob__&&(null===(t=e.__ob__)||void 0===t?void 0:t[ke]))}function Ie(e){var t;return Boolean(e&&z(e,"__ob__")&&"object"===typeof e.__ob__&&!(null===(t=e.__ob__)||void 0===t?void 0:t[ke]))}function Ee(e){if(!(!ee(e)||Te(e)||W(e)||we(e)||oe(e)||fe.has(e))){fe.set(e,!0);for(var t=Object.keys(e),n=0;n<t.length;n++)Ce(e,t[n])}}function Ce(e,t,n){if("__ob__"!==t&&!Te(e[t])){var r,i,s=Object.getOwnPropertyDescriptor(e,t);if(s){if(!1===s.configurable)return;r=s.get,i=s.set,r&&!i||2!==arguments.length||(n=e[t])}Ee(n),j(e,t,{get:function(){var i=r?r.call(e):n;return t!==de&&we(i)?i.value:i},set:function(s){r&&!i||(t!==de&&we(n)&&!we(s)?n.value=s:i?(i.call(e,s),n=s):n=s,Ee(s))}})}}function xe(e){var t,n=P();if(n.observable)t=n.observable(e);else{var r=se(n,{data:{$$state:e}});t=r._data.$$state}return z(t,"__ob__")||Ae(t),t}function Ae(e,t){var n,r;if(void 0===t&&(t=new Set),!t.has(e)&&!z(e,"__ob__")&&Object.isExtensible(e)){$(e,"__ob__",Re(e)),t.add(e);try{for(var i=f(Object.keys(e)),s=i.next();!s.done;s=i.next()){var o=s.value,a=e[o];(ee(a)||W(a))&&!Te(a)&&Object.isExtensible(a)&&Ae(a,t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}function Re(e){return void 0===e&&(e={}),{value:e,dep:{notify:B,depend:B,addSub:B,removeSub:B}}}function Pe(){return xe({}).__ob__}function Ne(e){if(!X(e))return e;if(!ee(e)&&!W(e)||Te(e)||!Object.isExtensible(e))return e;var t=xe(e);return Ee(t),t}var Oe=function(e){return"on".concat(e[0].toUpperCase()+e.slice(1))};function De(e){return function(t,n){var r=ie(Oe(e),n);return r&&Le(R(),r,e,t)}}function Le(e,t,n,r){var i=t.proxy.$options,s=e.config.optionMergeStrategies[n],o=Me(t,r);return i[n]=s(i[n],o),o}function Me(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=L();D(e);try{return t.apply(void 0,m([],p(n),!1))}finally{D(i)}}}De("beforeMount");var Fe,qe=De("mounted"),Ue=(De("beforeUpdate"),De("updated"),De("beforeDestroy"),De("destroyed")),Ve=(De("errorCaptured"),De("activated"),De("deactivated"),De("serverPrefetch"));function Be(){Ke(this,ce)}function je(){Ke(this,he)}function $e(e){return void 0!==e[ce]}function ze(e){e[ce]=[],e[he]=[],e.$on("hook:beforeUpdate",Be),e.$on("hook:updated",je)}function He(e){return d({immediate:!1,deep:!1,flush:"pre"},e)}function We(){var e=w();return e?$e(e)||ze(e):(Fe||(Fe=se(R())),e=Fe),e}function Ke(e,t){for(var n=e[t],r=0;r<n.length;r++)n[r]();n.length=0}function Ge(e,t,n){var r=function(){e.$nextTick((function(){e[ce].length&&Ke(e,ce),e[he].length&&Ke(e,he)}))};switch(n){case"pre":r(),e[ce].push(t);break;case"post":r(),e[he].push(t);break;default:H(!1,'flush must be one of ["post", "pre", "sync"], but got '.concat(n));break}}function Ye(e,t,n,r){var i=e._watchers.length;return e.$watch(t,n,{immediate:r.immediateInvokeCallback,deep:r.deep,lazy:r.noRun,sync:r.sync,before:r.before}),e._watchers[i]}function Ze(e,t){var n=e.teardown;e.teardown=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n.apply(e,r),t()}}function Qe(e,t,n,r){var i;var s,o=r.flush,a="sync"===o,l=function(t){s=function(){try{t()}catch(n){ne(n,e,"onCleanup()")}}},u=function(){s&&(s(),s=null)},c=function(t){return a||e===Fe?t:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Ge(e,(function(){t.apply(void 0,m([],p(n),!1))}),o)}};if(null===n){var h=!1,d=function(){if(!h)try{h=!0,t(l)}finally{h=!1}},f=Ye(e,d,B,{deep:r.deep||!1,sync:a,before:u});Ze(f,u),f.lazy=!1;var g=f.get.bind(f);return f.get=c(g),function(){f.teardown()}}var v,y=r.deep,_=!1;if(we(t)?v=function(){return t.value}:Ie(t)?(v=function(){return t},y=!0):W(t)?(_=!0,v=function(){return t.map((function(e){return we(e)?e.value:Ie(e)?Xe(e):te(e)?e():B}))}):v=te(t)?t:B,y){var w=v;v=function(){return Xe(w())}}var b=function(e,t){if(y||!_||!e.every((function(e,n){return re(e,t[n])})))return u(),n(e,t,l)},S=c(b);if(r.immediate){var k=S,T=function(e,t){return T=k,b(e,W(e)?[]:t)};S=function(e,t){return T(e,t)}}var I=e.$watch(v,S,{immediate:r.immediate,deep:y,sync:a}),E=e._watchers[e._watchers.length-1];return Ie(E.value)&&(null===(i=E.value.__ob__)||void 0===i?void 0:i.dep)&&y&&E.value.__ob__.dep.addSub({update:function(){E.run()}}),Ze(E,u),function(){I()}}function Je(e,t,n){var r=null;te(t)?r=t:(n=t,r=null);var i=He(n),s=We();return Qe(s,e,r,i)}function Xe(e,t){if(void 0===t&&(t=new Set),!X(e)||t.has(e)||pe.has(e))return e;if(t.add(e),we(e))Xe(e.value,t);else if(W(e))for(var n=0;n<e.length;n++)Xe(e[n],t);else if(Z(e)||Y(e))e.forEach((function(e){Xe(e,t)}));else if(ee(e))for(var r in e)Xe(e[r],t);return e}function et(e,t,n){var r=e.__composition_api_state__=e.__composition_api_state__||{};r[t]=n}function tt(e,t){return(e.__composition_api_state__||{})[t]}var nt={set:et,get:tt};function rt(e,t,n){var r=e.$options.props;t in e||r&&z(r,t)||(we(n)?j(e,t,{get:function(){return n.value},set:function(e){n.value=e}}):j(e,t,{get:function(){return Ie(n)&&n.__ob__.dep.depend(),n},set:function(e){n=e}}))}function it(e){var t=nt.get(e,"rawBindings")||{};if(t&&Object.keys(t).length){for(var n=e.$refs,r=nt.get(e,"refs")||[],i=0;i<r.length;i++){var s=r[i],o=t[s];!n[s]&&o&&we(o)&&(o.value=null)}var a=Object.keys(n),l=[];for(i=0;i<a.length;i++){s=a[i],o=t[s];n[s]&&o&&we(o)&&(o.value=n[s],l.push(s))}nt.set(e,"refs",l)}}function st(e){var t=[e._vnode];while(t.length){var n=t.pop();if(n&&(n.context&&it(n.context),n.children))for(var r=0;r<n.children.length;++r)t.push(n.children[r])}}function ot(e,t){var n,r;if(e){var i=nt.get(e,"attrBindings");if(i||t){if(!i){var s=Ne({});i={ctx:t,data:s},nt.set(e,"attrBindings",i),j(t,"attrs",{get:function(){return null===i||void 0===i?void 0:i.data},set:function(){}})}var o=e.$attrs,a=function(t){z(i.data,t)||j(i.data,t,{get:function(){return e.$attrs[t]}})};try{for(var l=f(Object.keys(o)),u=l.next();!u.done;u=l.next()){var c=u.value;a(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}}function at(e,t){var n=e.$options._parentVnode;if(n){for(var r=nt.get(e,"slots")||[],i=le(n.data.scopedSlots,e.$slots),s=0;s<r.length;s++){var o=r[s];i[o]||delete t[o]}var a=Object.keys(i);for(s=0;s<a.length;s++){o=a[s];t[o]||(t[o]=ae(e,o))}nt.set(e,"slots",a)}}function lt(e,t,n){var r=L();D(e);try{return t(e)}catch(i){if(!n)throw i;n(i)}finally{D(r)}}function ut(e){function t(){var e=this,t=e.$options,r=t.setup,i=t.render;if(i&&(t.render=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return lt(F(e),(function(){return i.apply(t,n)}))}),r&&te(r)){var s=t.data;t.data=function(){return n(e,e.$props),te(s)?s.call(e,e):s||{}}}}function n(e,t){void 0===t&&(t={});var n,o=e.$options.setup,a=s(e),l=F(e);if(l.setupContext=a,$(t,"__ob__",Pe()),at(e,a.slots),lt(l,(function(){n=o(t,a)})),n)if(te(n)){var u=n;e.$options.render=function(){return at(e,a.slots),lt(l,(function(){return u()}))}}else if(X(n)){Ie(n)&&(n=be(n)),nt.set(e,"rawBindings",n);var c=n;Object.keys(c).forEach((function(t){var n=c[t];if(!we(n))if(Ie(n))W(n)&&(n=_e(n));else if(te(n)){var s=n;n=n.bind(e),Object.keys(s).forEach((function(e){n[e]=s[e]}))}else X(n)?i(n)&&r(n):n=_e(n);rt(e,t,n)}))}else 0}function r(e,t){if(void 0===t&&(t=new Set),!t.has(e)&&ee(e)&&!we(e)&&!Ie(e)&&!Te(e)){var n=R(),i=n.util.defineReactive;Object.keys(e).forEach((function(n){var s=e[n];i(e,n,s),s&&(t.add(s),r(s,t))}))}}function i(e,t){return void 0===t&&(t=new Map),t.has(e)?t.get(e):(t.set(e,!1),W(e)&&Ie(e)?(t.set(e,!0),!0):!(!ee(e)||Te(e)||we(e))&&Object.keys(e).some((function(n){return i(e[n],t)})))}function s(e){var t={slots:{}},n=["root","parent","refs","listeners","isServer","ssrContext"],r=["emit"];return n.forEach((function(n){var r="$".concat(n);j(t,n,{get:function(){return e[r]},set:function(){}})})),ot(e,t),r.forEach((function(n){var r="$".concat(n);j(t,n,{get:function(){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=e[r];i.apply(e,t)}}})})),t}e.mixin({beforeCreate:t,mounted:function(){st(this)},beforeUpdate:function(){ot(this)},updated:function(){st(this)}})}function ct(e,t){if(!e)return t;if(!t)return e;for(var n,r,i,s=V?Reflect.ownKeys(e):Object.keys(e),o=0;o<s.length;o++)n=s[o],"__ob__"!==n&&(r=t[n],i=e[n],z(t,n)?r!==i&&ee(r)&&!we(r)&&ee(i)&&!we(i)&&ct(i,r):t[n]=i);return t}function ht(e){A(e)||(e.config.optionMergeStrategies.setup=function(e,t){return function(n,r){return ct(te(e)?e(n,r)||{}:void 0,te(t)?t(n,r)||{}:void 0)}},N(e),ut(e))}var dt={install:function(e){return ht(e)}};function ft(){return"undefined"===typeof navigator.onLine||navigator.onLine}function pt(){return"undefined"===typeof document||"undefined"===typeof document.visibilityState||"hidden"!==document.visibilityState}"undefined"!==typeof window&&window.Vue&&window.Vue.use(dt);var mt=function(e){return fetch(e).then((function(e){return e.json()}))};const gt={isOnline:ft,isDocumentVisible:pt,fetcher:mt};var vt=function(){return vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vt.apply(this,arguments)},yt=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):i(e.value).then(o,a)}l((r=r.apply(e,t||[])).next())}))},_t=function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,r&&(i=2&s[0]?r["return"]:s[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},wt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{while((void 0===t||t-- >0)&&!(r=s.next()).done)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s["return"])&&n.call(s)}finally{if(i)throw i.error}}return o},bt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wt(arguments[t]));return e},St=new l,kt=new l,Tt=new l,It={cache:St,refreshInterval:0,ttl:0,serverTTL:1e3,dedupingInterval:2e3,revalidateOnFocus:!0,revalidateDebounce:0,shouldRetryOnError:!0,errorRetryInterval:5e3,errorRetryCount:5,fetcher:gt.fetcher,isOnline:gt.isOnline,isDocumentVisible:gt.isDocumentVisible};function Et(e,t,n){var r=kt.get(e);if(r)r.data.push(t);else{var i=5e3;kt.set(e,[t],n>0?n+i:n)}}function Ct(e,t,n){if(n.isDocumentVisible()&&!(void 0!==n.errorRetryCount&&t>n.errorRetryCount)){var r=Math.min(t||0,n.errorRetryCount),i=r*n.errorRetryInterval;setTimeout((function(){e(null,{errorRetryCount:r+1,shouldRetryOnError:!0})}),i)}}var xt=function(e,t,n,r){return void 0===n&&(n=St),void 0===r&&(r=It.ttl),yt(void 0,void 0,void 0,(function(){var i,s,o,a,l,u,c;return _t(this,(function(h){switch(h.label){case 0:if(!Rt(t))return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,t];case 2:return i=h.sent(),[3,4];case 3:return a=h.sent(),s=a,[3,4];case 4:return[3,6];case 5:i=t,h.label=6;case 6:return o=!1,l={data:i,error:s,isValidating:o},"undefined"!==typeof i&&n.set(e,l,r),u=kt.get(e),u&&u.data.length&&(c=u.data.filter((function(t){return t.key===e})),c.forEach((function(e,t){"undefined"!==typeof l.data&&(e.data=l.data),e.error=l.error,e.isValidating=l.isValidating;var n=t===c.length-1;n||delete c[t]})),c=c.filter(Boolean)),[2,l]}}))}))};function At(){for(var e,t,n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=vt({},It),o=!1,a=!1,l=L(),u=(null===l||void 0===l?void 0:l.proxy)||l;if(!u)throw new Error("Could not get current instance, check to make sure that `useSwrv` is declared in the top level of the setup function.");var c=u.$isServer,h=Boolean(!c&&u.$vnode&&u.$vnode.elm&&u.$vnode.elm.dataset&&u.$vnode.elm.dataset.swrvKey);r.length>=1&&(e=r[0]),r.length>=2&&(t=r[1]),r.length>2&&(s=vt(vt({},s),r[2]));var d=c?s.serverTTL:s.ttl,f="function"===typeof e?e:_e(e);"undefined"===typeof t&&(t=s.fetcher);var p=null;if(h){var m=window.__SWRV_STATE__||window.__NUXT__&&window.__NUXT__.swrv||[],g=+u.$vnode.elm.dataset.swrvKey;if(void 0!==g&&null!==g){var v=m[g]||[],y=v[we(f)?f.value:f()];y&&(p=Ne(y),a=!0)}}p||(p=Ne({data:void 0,error:void 0,isValidating:!0,key:null}));var _=function(e,r){return yt(n,void 0,void 0,(function(){var n,i,a,l,u,c,h,m=this;return _t(this,(function(g){switch(g.label){case 0:return n=void 0===p.data,i=f.value,i?(a=s.cache.get(i),l=a&&a.data,p.isValidating=!0,l&&(p.data=l.data,p.error=l.error),u=e||t,!u||!s.isDocumentVisible()&&!n||void 0!==(null===r||void 0===r?void 0:r.forceRevalidate)&&!(null===r||void 0===r?void 0:r.forceRevalidate)||a&&(c=Boolean(Date.now()-a.createdAt>=s.dedupingInterval||(null===r||void 0===r?void 0:r.forceRevalidate)),!c)?(p.isValidating=!1,[2]):(h=function(){return yt(m,void 0,void 0,(function(){var e,t,n,o;return _t(this,(function(a){switch(a.label){case 0:return e=Tt.get(i),e?[3,2]:(t=Array.isArray(i)?i:[i],n=u.apply(void 0,bt(t)),Tt.set(i,n,s.dedupingInterval),[4,xt(i,n,s.cache,d)]);case 1:return a.sent(),[3,4];case 2:return[4,xt(i,e.data,s.cache,d)];case 3:a.sent(),a.label=4;case 4:return p.isValidating=!1,Tt.delete(i),void 0!==p.error&&(o=s.shouldRetryOnError&&(!r||r.shouldRetryOnError),o&&Ct(_,r?r.errorRetryCount:1,s)),[2]}}))}))},l&&s.revalidateDebounce?[4,setTimeout((function(){return yt(m,void 0,void 0,(function(){return _t(this,(function(e){switch(e.label){case 0:return o?[3,2]:[4,h()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}),s.revalidateDebounce)]:[3,2])):[2];case 1:return g.sent(),[3,4];case 2:return[4,h()];case 3:g.sent(),g.label=4;case 4:return[2]}}))}))},w=function(){return yt(n,void 0,void 0,(function(){return _t(this,(function(e){return[2,_(null,{shouldRetryOnError:!1})]}))}))},b=null;if(qe((function(){var e=function(){return yt(n,void 0,void 0,(function(){return _t(this,(function(t){switch(t.label){case 0:return p.error||!s.isOnline()?[3,2]:[4,_()];case 1:return t.sent(),[3,3];case 2:b&&clearTimeout(b),t.label=3;case 3:return s.refreshInterval&&!o&&(b=setTimeout(e,s.refreshInterval)),[2]}}))}))};s.refreshInterval&&(b=setTimeout(e,s.refreshInterval)),s.revalidateOnFocus&&(document.addEventListener("visibilitychange",w,!1),window.addEventListener("focus",w,!1))})),Ue((function(){o=!0,b&&clearTimeout(b),s.revalidateOnFocus&&(document.removeEventListener("visibilitychange",w,!1),window.removeEventListener("focus",w,!1));var e=kt.get(f.value);e&&(e.data=e.data.filter((function(e){return e!==p})))})),c){var S=[];u.$ssrContext&&(S=u.$ssrContext.swrv=u.$ssrContext.swrv||S);var k=S.length;(!u.$vnode||u.$node&&!u.$node.data)&&(u.$vnode={data:{attrs:{"data-swrv-key":k}}});var T=u.$vnode.data.attrs=u.$vnode.data.attrs||{};T["data-swrv-key"]=k,u.$ssrContext&&u.$ssrContext.nuxt&&(u.$ssrContext.nuxt.swrv=S),Ve((function(){return yt(n,void 0,void 0,(function(){return _t(this,(function(e){switch(e.label){case 0:return[4,_()];case 1:return e.sent(),S[k]||(S[k]={}),S[k][f.value]={data:p.data,error:p.error,isValidating:p.isValidating},[2]}}))}))}))}try{Je(f,(function(e){f.value=e,p.key=e,p.isValidating=Boolean(e),Et(f.value,p,d),c||a||!f.value||_(),a=!1}),{immediate:!0})}catch(Ot){}var I=vt(vt({},be(p)),{mutate:function(e,t){return _(e,vt(vt({},t),{forceRevalidate:!0}))}});return I}function Rt(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}const Pt=At,Nt=Pt},1639:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},8910:(e,t,n)=>{"use strict";n.d(t,{PO:()=>H,p7:()=>tt,tv:()=>it,yj:()=>st});var r=n(9835),i=n(499);
/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const s="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,o=e=>s?Symbol(e):"_vr_"+e,a=o("rvlm"),l=o("rvd"),u=o("r"),c=o("rl"),h=o("rvl"),d="undefined"!==typeof window;function f(e){return e.__esModule||s&&"Module"===e[Symbol.toStringTag]}const p=Object.assign;function m(e,t){const n={};for(const r in t){const i=t[r];n[r]=Array.isArray(i)?i.map(e):e(i)}return n}const g=()=>{};const v=/\/$/,y=e=>e.replace(v,"");function _(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("?"),l=t.indexOf("#",a>-1?a:0);return a>-1&&(r=t.slice(0,a),s=t.slice(a+1,l>-1?l:t.length),i=e(s)),l>-1&&(r=r||t.slice(0,l),o=t.slice(l,t.length)),r=C(null!=r?r:t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function w(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function b(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function S(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&k(t.matched[r],n.matched[i])&&T(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function k(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function T(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!I(e[n],t[n]))return!1;return!0}function I(e,t){return Array.isArray(e)?E(e,t):Array.isArray(t)?E(t,e):e===t}function E(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function C(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i,s,o=n.length-1;for(i=0;i<r.length;i++)if(s=r[i],1!==o&&"."!==s){if(".."!==s)break;o--}return n.slice(0,o).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var x,A;(function(e){e["pop"]="pop",e["push"]="push"})(x||(x={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(A||(A={}));function R(e){if(!e)if(d){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),y(e)}const P=/^[^#]+#/;function N(e,t){return e.replace(P,"#")+t}function O(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const D=()=>({left:window.pageXOffset,top:window.pageYOffset});function L(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=O(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function M(e,t){const n=history.state?history.state.position-t:-1;return n+e}const F=new Map;function q(e,t){F.set(e,t)}function U(e){const t=F.get(e);return F.delete(e),t}let V=()=>location.protocol+"//"+location.host;function B(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let t=i.includes(e.slice(s))?e.slice(s).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),b(n,"")}const o=b(n,e);return o+r+i}function j(e,t,n,r){let i=[],s=[],o=null;const a=({state:s})=>{const a=B(e,location),l=n.value,u=t.value;let c=0;if(s){if(n.value=a,t.value=s,o&&o===l)return void(o=null);c=u?s.position-u.position:0}else r(a);i.forEach((e=>{e(n.value,l,{delta:c,type:x.pop,direction:c?c>0?A.forward:A.back:A.unknown})}))};function l(){o=n.value}function u(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return s.push(t),t}function c(){const{history:e}=window;e.state&&e.replaceState(p({},e.state,{scroll:D()}),"")}function h(){for(const e of s)e();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:h}}function $(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?D():null}}function z(e){const{history:t,location:n}=window,r={value:B(e,n)},i={value:t.state};function s(r,s,o){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+r:V()+e+r;try{t[o?"replaceState":"pushState"](s,"",l),i.value=s}catch(u){console.error(u),n[o?"replace":"assign"](l)}}function o(e,n){const o=p({},t.state,$(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});s(e,o,!0),r.value=e}function a(e,n){const o=p({},i.value,t.state,{forward:e,scroll:D()});s(o.current,o,!0);const a=p({},$(r.value,e,null),{position:o.position+1},n);s(e,a,!1),r.value=e}return i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:a,replace:o}}function H(e){e=R(e);const t=z(e),n=j(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const i=p({location:"",base:e,go:r,createHref:N.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function W(e){return"string"===typeof e||e&&"object"===typeof e}function K(e){return"string"===typeof e||"symbol"===typeof e}const G={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Y=o("nf");var Z;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(Z||(Z={}));function Q(e,t){return p(new Error,{type:e,[Y]:!0},t)}function J(e,t){return e instanceof Error&&Y in e&&(null==t||!!(e.type&t))}const X="[^/]+?",ee={sensitive:!1,strict:!1,start:!0,end:!0},te=/[.+*?^${}()[\]/\\]/g;function ne(e,t){const n=p({},ee,t),r=[];let i=n.start?"^":"";const s=[];for(const c of e){const e=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let t=0;t<c.length;t++){const r=c[t];let o=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(te,"\\$&"),o+=40;else if(1===r.type){const{value:e,repeatable:n,optional:a,regexp:l}=r;s.push({name:e,repeatable:n,optional:a});const h=l||X;if(h!==X){o+=10;try{new RegExp(`(${h})`)}catch(u){throw new Error(`Invalid custom RegExp for param "${e}" (${h}): `+u.message)}}let d=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;t||(d=a&&c.length<2?`(?:/${d})`:"/"+d),a&&(d+="?"),i+=d,o+=20,a&&(o+=-8),n&&(o+=-20),".*"===h&&(o+=-50)}e.push(o)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(e){const t=e.match(o),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=s[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n}function l(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const s of i)if(0===s.type)n+=s.value;else if(1===s.type){const{value:o,repeatable:a,optional:l}=s,u=o in t?t[o]:"";if(Array.isArray(u)&&!a)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!l)throw new Error(`Missing required param "${o}"`);i.length<2&&e.length>1&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}return{re:o,score:r,keys:s,parse:a,stringify:l}}function re(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function ie(e,t){let n=0;const r=e.score,i=t.score;while(n<r.length&&n<i.length){const e=re(r[n],i[n]);if(e)return e;n++}return i.length-r.length}const se={type:0,value:""},oe=/[a-zA-Z0-9_]/;function ae(e){if(!e)return[[]];if("/"===e)return[[se]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${u}": ${e}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a,l=0,u="",c="";function h(){u&&(0===n?s.push({type:0,value:u}):1===n||2===n||3===n?(s.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),u="")}function d(){u+=a}while(l<e.length)if(a=e[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(u&&h(),o()):":"===a?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:"("===a?n=2:oe.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==c[c.length-1]?c=c.slice(0,-1)+a:n=3:c+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,c="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function le(e,t,n){const r=ne(ae(e.path),n);const i=p(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function ue(e,t){const n=[],r=new Map;function i(e){return r.get(e)}function s(e,n,r){const i=!r,a=he(e);a.aliasOf=r&&r.record;const u=me(t,e),c=[a];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)c.push(p({},a,{components:r?r.record.components:a.components,path:e,aliasOf:r?r.record:a}))}let h,d;for(const t of c){const{path:c}=t;if(n&&"/"!==c[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(c&&r+c)}if(h=le(t,n,u),r?r.alias.push(h):(d=d||h,d!==h&&d.alias.push(h),i&&e.name&&!fe(h)&&o(e.name)),"children"in a){const e=a.children;for(let t=0;t<e.length;t++)s(e[t],h,r&&r.children[t])}r=r||h,l(h)}return d?()=>{o(d)}:g}function o(e){if(K(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function a(){return n}function l(e){let t=0;while(t<n.length&&ie(e,n[t])>=0&&(e.record.path!==n[t].record.path||!ge(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!fe(e)&&r.set(e.record.name,e)}function u(e,t){let i,s,o,a={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw Q(1,{location:e});o=i.record.name,a=p(ce(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),s=i.stringify(a)}else if("path"in e)s=e.path,i=n.find((e=>e.re.test(s))),i&&(a=i.parse(s),o=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw Q(1,{location:e,currentLocation:t});o=i.record.name,a=p({},t.params,e.params),s=i.stringify(a)}const l=[];let u=i;while(u)l.unshift(u.record),u=u.parent;return{name:o,path:s,params:a,matched:l,meta:pe(l)}}return t=me({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>s(e))),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function ce(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function he(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:de(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function de(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"===typeof n?n:n[r];return t}function fe(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function pe(e){return e.reduce(((e,t)=>p(e,t.meta)),{})}function me(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function ge(e,t){return t.children.some((t=>t===e||ge(e,t)))}const ve=/#/g,ye=/&/g,_e=/\//g,we=/=/g,be=/\?/g,Se=/\+/g,ke=/%5B/g,Te=/%5D/g,Ie=/%5E/g,Ee=/%60/g,Ce=/%7B/g,xe=/%7C/g,Ae=/%7D/g,Re=/%20/g;function Pe(e){return encodeURI(""+e).replace(xe,"|").replace(ke,"[").replace(Te,"]")}function Ne(e){return Pe(e).replace(Ce,"{").replace(Ae,"}").replace(Ie,"^")}function Oe(e){return Pe(e).replace(Se,"%2B").replace(Re,"+").replace(ve,"%23").replace(ye,"%26").replace(Ee,"`").replace(Ce,"{").replace(Ae,"}").replace(Ie,"^")}function De(e){return Oe(e).replace(we,"%3D")}function Le(e){return Pe(e).replace(ve,"%23").replace(be,"%3F")}function Me(e){return null==e?"":Le(e).replace(_e,"%2F")}function Fe(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function qe(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const e=r[i].replace(Se," "),n=e.indexOf("="),s=Fe(n<0?e:e.slice(0,n)),o=n<0?null:Fe(e.slice(n+1));if(s in t){let e=t[s];Array.isArray(e)||(e=t[s]=[e]),e.push(o)}else t[s]=o}return t}function Ue(e){let t="";for(let n in e){const r=e[n];if(n=De(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const i=Array.isArray(r)?r.map((e=>e&&Oe(e))):[r&&Oe(r)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Ve(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function Be(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function je(e,t,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((o,a)=>{const l=e=>{!1===e?a(Q(4,{from:n,to:t})):e instanceof Error?a(e):W(e)?a(Q(2,{from:t,to:e})):(s&&r.enterCallbacks[i]===s&&"function"===typeof e&&s.push(e),o())},u=e.call(r&&r.instances[i],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch((e=>a(e)))}))}function $e(e,t,n,r){const i=[];for(const s of e)for(const e in s.components){let o=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if(ze(o)){const a=o.__vccOpts||o,l=a[t];l&&i.push(je(l,n,r,s,e))}else{let a=o();0,i.push((()=>a.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const o=f(i)?i.default:i;s.components[e]=o;const a=o.__vccOpts||o,l=a[t];return l&&je(l,n,r,s,e)()}))))}}return i}function ze(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function He(e){const t=(0,r.f3)(u),n=(0,r.f3)(c),s=(0,r.Fl)((()=>t.resolve((0,i.SU)(e.to)))),o=(0,r.Fl)((()=>{const{matched:e}=s.value,{length:t}=e,r=e[t-1],i=n.matched;if(!r||!i.length)return-1;const o=i.findIndex(k.bind(null,r));if(o>-1)return o;const a=Ze(e[t-2]);return t>1&&Ze(r)===a&&i[i.length-1].path!==a?i.findIndex(k.bind(null,e[t-2])):o})),a=(0,r.Fl)((()=>o.value>-1&&Ye(n.params,s.value.params))),l=(0,r.Fl)((()=>o.value>-1&&o.value===n.matched.length-1&&T(n.params,s.value.params)));function h(n={}){return Ge(n)?t[(0,i.SU)(e.replace)?"replace":"push"]((0,i.SU)(e.to)).catch(g):Promise.resolve()}return{route:s,href:(0,r.Fl)((()=>s.value.href)),isActive:a,isExactActive:l,navigate:h}}const We=(0,r.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:He,setup(e,{slots:t}){const n=(0,i.qj)(He(e)),{options:s}=(0,r.f3)(u),o=(0,r.Fl)((()=>({[Qe(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Qe(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=t.default&&t.default(n);return e.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),Ke=We;function Ge(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ye(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function Ze(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Qe=(e,t,n)=>null!=e?e:null!=t?t:n,Je=(0,r.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=(0,r.f3)(h),o=(0,r.Fl)((()=>e.route||s.value)),u=(0,r.f3)(l,0),c=(0,r.Fl)((()=>o.value.matched[u]));(0,r.JJ)(l,u+1),(0,r.JJ)(a,c),(0,r.JJ)(h,o);const d=(0,i.iH)();return(0,r.YP)((()=>[d.value,c.value,e.name]),(([e,t,n],[r,i,s])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&k(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=o.value,s=c.value,a=s&&s.components[e.name],l=e.name;if(!a)return Xe(n.default,{Component:a,route:i});const u=s.props[e.name],h=u?!0===u?i.params:"function"===typeof u?u(i):u:null,f=e=>{e.component.isUnmounted&&(s.instances[l]=null)},m=(0,r.h)(a,p({},h,t,{onVnodeUnmounted:f,ref:d}));return Xe(n.default,{Component:m,route:i})||m}}});function Xe(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const et=Je;function tt(e){const t=ue(e.routes,e),n=e.parseQuery||qe,s=e.stringifyQuery||Ue,o=e.history;const a=Be(),l=Be(),f=Be(),v=(0,i.XI)(G);let y=G;d&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=m.bind(null,(e=>""+e)),k=m.bind(null,Me),T=m.bind(null,Fe);function I(e,n){let r,i;return K(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function E(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function C(){return t.getRoutes().map((e=>e.record))}function A(e){return!!t.getRecordMatcher(e)}function R(e,r){if(r=p({},r||v.value),"string"===typeof e){const i=_(n,e,r.path),s=t.resolve({path:i.path},r),a=o.createHref(i.fullPath);return p(i,s,{params:T(s.params),hash:Fe(i.hash),redirectedFrom:void 0,href:a})}let i;if("path"in e)i=p({},e,{path:_(n,e.path,r.path).path});else{const t=p({},e.params);for(const e in t)null==t[e]&&delete t[e];i=p({},e,{params:k(e.params)}),r.params=k(r.params)}const a=t.resolve(i,r),l=e.hash||"";a.params=b(T(a.params));const u=w(s,p({},e,{hash:Ne(l),path:a.path})),c=o.createHref(u);return p({fullPath:u,hash:l,query:s===Ue?Ve(e.query):e.query||{}},a,{redirectedFrom:void 0,href:c})}function P(e){return"string"===typeof e?_(n,e,v.value.path):p({},e)}function N(e,t){if(y!==e)return Q(8,{from:t,to:e})}function O(e){return B(e)}function F(e){return O(p(P(e),{replace:!0}))}function V(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=P(r):{path:r},r.params={}),p({query:e.query,hash:e.hash,params:e.params},r)}}function B(e,t){const n=y=R(e),r=v.value,i=e.state,o=e.force,a=!0===e.replace,l=V(n);if(l)return B(p(P(l),{state:i,force:o,replace:a}),t||n);const u=n;let c;return u.redirectedFrom=t,!o&&S(s,r,n)&&(c=Q(16,{to:u,from:r}),ie(r,r,!0,!1)),(c?Promise.resolve(c):$(u,r)).catch((e=>J(e)?J(e,2)?e:re(e):te(e,u,r))).then((e=>{if(e){if(J(e,2))return B(p(P(e.to),{state:i,force:o,replace:a}),t||u)}else e=H(u,r,!0,a,i);return z(u,r,e),e}))}function j(e,t){const n=N(e,t);return n?Promise.reject(n):Promise.resolve()}function $(e,t){let n;const[r,i,s]=rt(e,t);n=$e(r.reverse(),"beforeRouteLeave",e,t);for(const a of r)a.leaveGuards.forEach((r=>{n.push(je(r,e,t))}));const o=j.bind(null,e,t);return n.push(o),nt(n).then((()=>{n=[];for(const r of a.list())n.push(je(r,e,t));return n.push(o),nt(n)})).then((()=>{n=$e(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push(je(r,e,t))}));return n.push(o),nt(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(je(i,e,t));else n.push(je(r.beforeEnter,e,t));return n.push(o),nt(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=$e(s,"beforeRouteEnter",e,t),n.push(o),nt(n)))).then((()=>{n=[];for(const r of l.list())n.push(je(r,e,t));return n.push(o),nt(n)})).catch((e=>J(e,8)?e:Promise.reject(e)))}function z(e,t,n){for(const r of f.list())r(e,t,n)}function H(e,t,n,r,i){const s=N(e,t);if(s)return s;const a=t===G,l=d?history.state:{};n&&(r||a?o.replace(e.fullPath,p({scroll:a&&l&&l.scroll},i)):o.push(e.fullPath,i)),v.value=e,ie(e,t,n,a),re()}let W;function Y(){W||(W=o.listen(((e,t,n)=>{const r=R(e),i=V(r);if(i)return void B(p(i,{replace:!0}),r).catch(g);y=r;const s=v.value;d&&q(M(s.fullPath,n.delta),D()),$(r,s).catch((e=>J(e,12)?e:J(e,2)?(B(e.to,r).then((e=>{J(e,20)&&!n.delta&&n.type===x.pop&&o.go(-1,!1)})).catch(g),Promise.reject()):(n.delta&&o.go(-n.delta,!1),te(e,r,s)))).then((e=>{e=e||H(r,s,!1),e&&(n.delta?o.go(-n.delta,!1):n.type===x.pop&&J(e,20)&&o.go(-1,!1)),z(r,s,e)})).catch(g)})))}let Z,X=Be(),ee=Be();function te(e,t,n){re(e);const r=ee.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function ne(){return Z&&v.value!==G?Promise.resolve():new Promise(((e,t)=>{X.add([e,t])}))}function re(e){return Z||(Z=!e,Y(),X.list().forEach((([t,n])=>e?n(e):t())),X.reset()),e}function ie(t,n,i,s){const{scrollBehavior:o}=e;if(!d||!o)return Promise.resolve();const a=!i&&U(M(t.fullPath,0))||(s||!i)&&history.state&&history.state.scroll||null;return(0,r.Y3)().then((()=>o(t,n,a))).then((e=>e&&L(e))).catch((e=>te(e,t,n)))}const se=e=>o.go(e);let oe;const ae=new Set,le={currentRoute:v,addRoute:I,removeRoute:E,hasRoute:A,getRoutes:C,resolve:R,options:e,push:O,replace:F,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:a.add,beforeResolve:l.add,afterEach:f.add,onError:ee.add,isReady:ne,install(e){const t=this;e.component("RouterLink",Ke),e.component("RouterView",et),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(v)}),d&&!oe&&v.value===G&&(oe=!0,O(o.location).catch((e=>{0})));const n={};for(const i in G)n[i]=(0,r.Fl)((()=>v.value[i]));e.provide(u,t),e.provide(c,(0,i.qj)(n)),e.provide(h,v);const s=e.unmount;ae.add(e),e.unmount=function(){ae.delete(e),ae.size<1&&(y=G,W&&W(),W=null,v.value=G,oe=!1,Z=!1),s()}}};return le}function nt(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function rt(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const s=t.matched[o];s&&(e.matched.find((e=>k(e,s)))?r.push(s):n.push(s));const a=e.matched[o];a&&(t.matched.find((e=>k(e,a)))||i.push(a))}return[n,r,i]}function it(){return(0,r.f3)(u)}function st(){return(0,r.f3)(c)}},9302:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseTransition:()=>r.P$,Comment:()=>r.sv,EffectScope:()=>r.Bj,Fragment:()=>r.HY,KeepAlive:()=>r.Ob,ReactiveEffect:()=>r.qq,Static:()=>r.qG,Suspense:()=>r.n4,Teleport:()=>r.lR,Text:()=>r.xv,Transition:()=>r.uT,TransitionGroup:()=>r.W3,VueElement:()=>r.a2,callWithAsyncErrorHandling:()=>r.$d,callWithErrorHandling:()=>r.KU,camelize:()=>r._A,capitalize:()=>r.kC,cloneVNode:()=>r.Ho,compatUtils:()=>r.ry,compile:()=>i,computed:()=>r.Fl,createApp:()=>r.ri,createBlock:()=>r.j4,createCommentVNode:()=>r.kq,createElementBlock:()=>r.iD,createElementVNode:()=>r._,createHydrationRenderer:()=>r.Eo,createPropsRestProxy:()=>r.p1,createRenderer:()=>r.Us,createSSRApp:()=>r.vr,createSlots:()=>r.Nv,createStaticVNode:()=>r.uE,createTextVNode:()=>r.Uk,createVNode:()=>r.Wm,customRef:()=>r.ZM,defineAsyncComponent:()=>r.RC,defineComponent:()=>r.aZ,defineCustomElement:()=>r.MW,defineEmits:()=>r.Bz,defineExpose:()=>r.WY,defineProps:()=>r.yb,defineSSRCustomElement:()=>r.Ah,devtools:()=>r.mW,effect:()=>r.cE,effectScope:()=>r.B,getCurrentInstance:()=>r.FN,getCurrentScope:()=>r.nZ,getTransitionRawChildren:()=>r.Q6,guardReactiveProps:()=>r.F4,h:()=>r.h,handleError:()=>r.S3,hydrate:()=>r.ZB,initCustomFormatter:()=>r.Mr,initDirectivesForSSR:()=>r.Nd,inject:()=>r.f3,isMemoSame:()=>r.nQ,isProxy:()=>r.X3,isReactive:()=>r.PG,isReadonly:()=>r.$y,isRef:()=>r.dq,isRuntimeOnly:()=>r.of,isShallow:()=>r.yT,isVNode:()=>r.lA,markRaw:()=>r.Xl,mergeDefaults:()=>r.u_,mergeProps:()=>r.dG,nextTick:()=>r.Y3,normalizeClass:()=>r.C_,normalizeProps:()=>r.vs,normalizeStyle:()=>r.j5,onActivated:()=>r.dl,onBeforeMount:()=>r.wF,onBeforeUnmount:()=>r.Jd,onBeforeUpdate:()=>r.Xn,onDeactivated:()=>r.se,onErrorCaptured:()=>r.d1,onMounted:()=>r.bv,onRenderTracked:()=>r.bT,onRenderTriggered:()=>r.Yq,onScopeDispose:()=>r.EB,onServerPrefetch:()=>r.vl,onUnmounted:()=>r.SK,onUpdated:()=>r.ic,openBlock:()=>r.wg,popScopeId:()=>r.Cn,provide:()=>r.JJ,proxyRefs:()=>r.WL,pushScopeId:()=>r.dD,queuePostFlushCb:()=>r.qb,reactive:()=>r.qj,readonly:()=>r.OT,ref:()=>r.iH,registerRuntimeCompiler:()=>r.Y1,render:()=>r.sY,renderList:()=>r.Ko,renderSlot:()=>r.WI,resolveComponent:()=>r.up,resolveDirective:()=>r.Q2,resolveDynamicComponent:()=>r.LL,resolveFilter:()=>r.eq,resolveTransitionHooks:()=>r.U2,setBlockTracking:()=>r.qZ,setDevtoolsHook:()=>r.ec,setTransitionHooks:()=>r.nK,shallowReactive:()=>r.Um,shallowReadonly:()=>r.YS,shallowRef:()=>r.XI,ssrContextKey:()=>r.Uc,ssrUtils:()=>r.G,stop:()=>r.sT,toDisplayString:()=>r.zw,toHandlerKey:()=>r.hR,toHandlers:()=>r.mx,toRaw:()=>r.IU,toRef:()=>r.Vh,toRefs:()=>r.BK,transformVNodeArgs:()=>r.C3,triggerRef:()=>r.oR,unref:()=>r.SU,useAttrs:()=>r.l1,useCssModule:()=>r.fb,useCssVars:()=>r.sj,useSSRContext:()=>r.Zq,useSlots:()=>r.Rr,useTransitionState:()=>r.Y8,vModelCheckbox:()=>r.e8,vModelDynamic:()=>r.YZ,vModelRadio:()=>r.G2,vModelSelect:()=>r.bM,vModelText:()=>r.nr,vShow:()=>r.F8,version:()=>r.i8,warn:()=>r.ZK,watch:()=>r.YP,watchEffect:()=>r.m0,watchPostEffect:()=>r.Rh,watchSyncEffect:()=>r.yX,withAsyncContext:()=>r.mv,withCtx:()=>r.w5,withDefaults:()=>r.b9,withDirectives:()=>r.wy,withKeys:()=>r.D2,withMemo:()=>r.MX,withModifiers:()=>r.iM,withScopeId:()=>r.HX});var r=n(1957);const i=()=>{0}},3258:(e,t,n)=>{"use strict";n.d(t,{Jx:()=>k,b6:()=>g});var r=n(499),i=n(9835),s=n(1957);let o=Symbol("map"),a=Symbol("api"),l=Symbol("marker"),u=Symbol("markerCluster"),c=Symbol("mapTilesLoaded"),h=(0,r.iH)(null),d="click dblclick drag dragend dragstart mousedown mousemove mouseout mouseover mouseup rightclick".split(" ");var f=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r;if(Array.isArray(t)){var i=t.length;if(i!=n.length)return!1;for(r=i;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();var s=Object.keys(t);if(i=s.length,i!==Object.keys(n).length)return!1;for(r=i;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;0!==r--;)if(i=s[r],!e(t[i],n[i]))return!1;return!0}return t!==t&&n!==n};class p{constructor({apiKey:e,channel:t,client:n,id:r="__googleMapsScriptId",libraries:i=[],language:s,region:o,version:a,mapIds:l,nonce:u,retries:c=3,url:h="https://maps.googleapis.com/maps/api/js"}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.loading=this.done=!1,this.errors=[],this.version=a,this.apiKey=e,this.channel=t,this.client=n,this.id=r||"__googleMapsScriptId",this.libraries=i,this.language=s,this.region=o,this.mapIds=l,this.nonce=u,this.retries=c,this.url=h,p.instance){if(!f(this.options,p.instance.options))throw Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(p.instance.options)}`);return p.instance}p.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),0<this.libraries.length&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),e}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((n=>{n?t(n.error):e(window.google)}))}))}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))this.callback();else{var e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}}reset(){this.deleteScript(),this.loading=this.done=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){this.errors.push(e),this.errors.length<=this.retries?(e=this.errors.length*Math.pow(2,this.errors.length),console.log(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)):(this.onerrorEvent=e,this.callback())}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){this.resetIfRetryingFailed(),this.done?this.callback():window.google&&window.google.maps&&window.google.maps.version?(console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback()):this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}let m="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed".split(" ");var g=(0,i.aZ)({props:{apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1}},emits:m,setup(e,{emit:t}){let n=(0,r.iH)(null),s=(0,r.iH)(!1),l=(0,r.iH)(null),u=(0,r.iH)(null),d=(0,r.iH)(!1);(0,i.JJ)(o,l),(0,i.JJ)(a,u),(0,i.JJ)(c,d);let f=()=>{const t={...e};Object.keys(t).forEach((e=>{void 0===t[e]&&delete t[e]}));var n=e=>{var t;return e?{position:null===(t=u.value)||void 0===t?void 0:t.ControlPosition[e]}:{}};return n={scaleControlOptions:e.scaleControlStyle?{style:e.scaleControlStyle}:{},panControlOptions:n(e.panControlPosition),zoomControlOptions:n(e.zoomControlPosition),rotateControlOptions:n(e.rotateControlPosition),streetViewControlOptions:n(e.streetViewControlPosition),fullscreenControlOptions:n(e.fullscreenControlPosition),disableDefaultUI:e.disableDefaultUi},{...t,...n}},g=(0,i.YP)([u,l],(([e,t])=>{e&&t&&(e.event.addListenerOnce(t,"tilesloaded",(()=>{d.value=!0})),setTimeout(g,0))}),{immediate:!0}),v=()=>{try{const{apiKey:t,region:n,version:r,language:i,libraries:s}=e;h.value=new p({apiKey:t,region:n,version:r,language:i,libraries:s})}catch(t){console.error(t)}};return(0,i.bv)((()=>{v(),h.value.load().then((()=>{u.value=google.maps,l.value=new google.maps.Map(n.value,f()),m.forEach((e=>{var n;null===(n=l.value)||void 0===n||n.addListener(e,(n=>t(e,n)))})),s.value=!0;let o=Object.keys(e).filter((e=>!["center","zoom"].includes(e))).map((t=>(0,r.Vh)(e,t)));(0,i.YP)([()=>e.center,()=>e.zoom,...o],(([e,t],[n,r])=>{var i,s,o;let{center:a,zoom:u,...c}=f();null===(i=l.value)||void 0===i||i.setOptions(c),void 0!==t&&t!==r&&(null===(s=l.value)||void 0===s||s.setZoom(t)),t=!n||e.lng!==n.lng||e.lat!==n.lat,e&&t&&(null===(o=l.value)||void 0===o||o.panTo(e))}))}))})),(0,i.Jd)((()=>{var e;d.value=!1,l.value&&(null===(e=u.value)||void 0===e||e.event.clearInstanceListeners(l.value))})),{mapRef:n,ready:s,map:l,api:u,mapTilesLoaded:d}}});function v(e,t){if(void 0===t&&(t={}),t=t.insertAt,e&&"undefined"!==typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}v("\n.mapdiv[data-v-177d06e3] {\n  width: 100%;\n  height: 100%;\n}\n");let y=(0,i.HX)("data-v-177d06e3");(0,i.dD)("data-v-177d06e3");let _={ref:"mapRef",class:"mapdiv"};(0,i.Cn)();let w=y((e=>((0,i.wg)(),(0,i.j4)("div",null,[(0,i.Wm)("div",_,null,512),(0,i.WI)(e.$slots,"default",{ready:e.ready,map:e.map,api:e.api,mapTilesLoaded:e.mapTilesLoaded},void 0,!0)]))));g.render=w,g.__scopeId="data-v-177d06e3";let b=(e,t,n,s)=>{let l=null;const c=(0,r.iH)(null),h=(0,i.f3)(o,(0,r.iH)()),d=(0,i.f3)(a,(0,r.iH)()),f=(0,i.f3)(u,(0,r.iH)()),p=(0,i.Fl)((()=>!!(f.value&&d.value&&l instanceof d.value.Marker)));return(0,i.YP)([h,n],((r,[i,o])=>{var a,u,m;r=JSON.stringify(n.value)!==JSON.stringify(o)||h.value!==i,h.value&&d.value&&r&&(l?(l.setOptions(n.value),p.value&&(null===(a=f.value)||void 0===a||a.removeMarker(l),null===(u=f.value)||void 0===u||u.addMarker(l))):(c.value=l="Marker"===e?new d.value[e](n.value):new d.value[e]({...n.value,map:h.value}),p.value?null===(m=f.value)||void 0===m||m.addMarker(l):l.setMap(h.value),t.forEach((e=>{null===l||void 0===l||l.addListener(e,(t=>s(e,t)))}))))}),{immediate:!0}),(0,i.Jd)((()=>{var e,t;l&&(null===(e=d.value)||void 0===e||e.event.clearInstanceListeners(l),p.value?null===(t=f.value)||void 0===t||t.removeMarker(l):l.setMap(null))})),c},S="animation_changed click dblclick rightclick dragstart dragend drag mouseover mousedown mouseout mouseup draggable_changed clickable_changed contextmenu cursor_changed flat_changed rightclick zindex_changed icon_changed position_changed shape_changed title_changed visible_changed".split(" ");var k=(0,i.aZ)({name:"Marker",props:{options:{type:Object,required:!0}},emits:S,setup(e,{emit:t,expose:n,slots:s}){return e=(0,r.Vh)(e,"options"),t=b("Marker",S,e,t),(0,i.JJ)(l,t),n({marker:t}),()=>{var e;return null===(e=s.default)||void 0===e?void 0:e.call(s)}}});(0,i.aZ)({name:"Polyline",props:{options:{type:Object,required:!0}},emits:d,setup(e,{emit:t}){return e=(0,r.Vh)(e,"options"),{polyline:b("Polyline",d,e,t)}},render:()=>null}),(0,i.aZ)({name:"Polygon",props:{options:{type:Object,required:!0}},emits:d,setup(e,{emit:t}){return e=(0,r.Vh)(e,"options"),{polygon:b("Polygon",d,e,t)}},render:()=>null});let T=d.concat(["bounds_changed"]);(0,i.aZ)({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:T,setup(e,{emit:t}){return e=(0,r.Vh)(e,"options"),{rectangle:b("Rectangle",T,e,t)}},render:()=>null});let I=d.concat(["center_changed","radius_changed"]);(0,i.aZ)({name:"Circle",props:{options:{type:Object,required:!0}},emits:I,setup(e,{emit:t}){return e=(0,r.Vh)(e,"options"),{circle:b("Circle",I,e,t)}},render:()=>null});var E=(0,i.aZ)({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(e,{emit:t}){let n=(0,r.iH)(null),s=(0,i.f3)(o,(0,r.iH)()),l=(0,i.f3)(a,(0,r.iH)()),u=(0,i.f3)(c,(0,r.iH)(!1)),h=(0,r.iH)(!1),d=(0,i.YP)([u,l,n],(([n,r,i])=>{r&&n&&i&&(f(e.position),h.value=!0,t("content:loaded"),setTimeout(d,0))}),{immediate:!0}),f=e=>{s.value&&l.value&&n.value&&s.value.controls[l.value.ControlPosition[e]].push(n.value)},p=e=>{if(s.value&&l.value){let t=null;e=l.value.ControlPosition[e],s.value.controls[e].forEach(((e,r)=>{e===n.value&&(t=r)})),null!==t&&s.value.controls[e].removeAt(t)}};return(0,i.Jd)((()=>p(e.position))),(0,i.YP)((()=>e.position),((e,t)=>{p(t),f(e)})),(0,i.YP)((()=>e.index),(t=>{t&&n.value&&(n.value.index=e.index)})),{controlRef:n,showContent:h}}});let C={ref:"controlRef"};E.render=function(e){return(0,i.wg)(),(0,i.j4)(i.HY,null,[(0,i.kq)("\n    v-show must be used instead of v-if otherwise there\n    would be no rendered content pushed to the map controls\n  "),(0,i.wy)((0,i.Wm)("div",C,[(0,i.WI)(e.$slots,"default")],512),[[s.F8,e.showContent]])],2112)};let x="closeclick content_changed domready position_changed visible zindex_changed".split(" ");var A=(0,i.aZ)({props:{options:{type:Object,default:()=>({})}},emits:x,setup(e,{slots:t,emit:n}){let s,u,c=(0,r.iH)(),h=(0,r.iH)(),d=(0,i.f3)(o,(0,r.iH)()),f=(0,i.f3)(a,(0,r.iH)()),p=(0,i.f3)(l,(0,r.iH)()),m=(0,i.Fl)((()=>{var e;return null===(e=t.default)||void 0===e?void 0:e.call(t).some((e=>e.type!==i.sv))}));return(0,i.bv)((()=>{(0,i.YP)([d,()=>e.options],(([,e],[t,r])=>{t=JSON.stringify(e)!==JSON.stringify(r)||d.value!==t,d.value&&f.value&&t&&(s?(s.setOptions({...e,content:m.value?h.value:e.content}),p.value||s.open({map:d.value})):(c.value=s=new f.value.InfoWindow({...e,content:m.value?h.value:e.content}),p.value?u=p.value.addListener("click",(()=>{s.open({map:d.value,anchor:p.value})})):s.open({map:d.value}),x.forEach((e=>{null===s||void 0===s||s.addListener(e,(t=>n(e,t)))}))))}),{immediate:!0})})),(0,i.Jd)((()=>{var e;u&&u.remove(),s&&(null===(e=f.value)||void 0===e||e.event.clearInstanceListeners(s),s.close())})),{infoWindow:c,infoWindowRef:h,hasSlotContent:m,anchor:p}}});v("\n.info-window-content[data-v-5b373d6e] {\n  display: none;\n}\n.mapdiv .info-window-content[data-v-5b373d6e] {\n  display: block;\n}\n");let R=(0,i.HX)("data-v-5b373d6e");(0,i.dD)("data-v-5b373d6e");let P={key:0,ref:"infoWindowRef",class:"info-window-content"};(0,i.Cn)();let N=R((e=>e.hasSlotContent?((0,i.wg)(),(0,i.j4)("div",P,[(0,i.WI)(e.$slots,"default",{},void 0,!0)],512)):(0,i.kq)("v-if",!0)));function O(e,t,n,r,i,s){if(!(i-r<=n)){var o=r+i>>1;D(e,t,o,r,i,s%2),O(e,t,n,r,o-1,s+1),O(e,t,n,o+1,i,s+1)}}function D(e,t,n,r,i,s){for(;i>r;){if(600<i-r){var o=i-r+1,a=n-r+1,l=Math.log(o),u=.5*Math.exp(2*l/3);l=.5*Math.sqrt(l*u*(o-u)/o)*(0>a-o/2?-1:1),D(e,t,n,Math.max(r,Math.floor(n-a*u/o+l)),Math.min(i,Math.floor(n+(o-a)*u/o+l)),s)}for(o=t[2*n+s],a=r,u=i,L(e,t,r,n),t[2*i+s]>o&&L(e,t,r,i);a<u;){for(L(e,t,a,u),a++,u--;t[2*a+s]<o;)a++;for(;t[2*u+s]>o;)u--}t[2*r+s]===o?L(e,t,r,u):(u++,L(e,t,u,i)),u<=n&&(r=u+1),n<=u&&(i=u-1)}}function L(e,t,n,r){M(e,n,r),M(t,2*n,2*r),M(t,2*n+1,2*r+1)}function M(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}A.render=N,A.__scopeId="data-v-5b373d6e";let F=e=>e[0],q=e=>e[1];class U{constructor(e,t=F,n=q,r=64,i=Float64Array){this.nodeSize=r,this.points=e;let s=this.ids=new(65536>e.length?Uint16Array:Uint32Array)(e.length);i=this.coords=new i(2*e.length);for(let o=0;o<e.length;o++)s[o]=o,i[2*o]=t(e[o]),i[2*o+1]=n(e[o]);O(s,i,r,0,s.length-1,0)}range(e,t,n,r){{var i=this.ids,s=this.coords,o=this.nodeSize;let l,u,c=[0,i.length-1,0],h=[];for(;c.length;){var a=c.pop();let d=c.pop(),f=c.pop();if(d-f<=o){for(a=f;a<=d;a++)l=s[2*a],u=s[2*a+1],l>=e&&l<=n&&u>=t&&u<=r&&h.push(i[a]);continue}let p=Math.floor((f+d)/2);l=s[2*p],u=s[2*p+1],l>=e&&l<=n&&u>=t&&u<=r&&h.push(i[p]);let m=(a+1)%2;(0===a?e<=l:t<=u)&&(c.push(f),c.push(p-1),c.push(m)),(0===a?n>=l:r>=u)&&(c.push(p+1),c.push(d),c.push(m))}e=h}return e}within(e,t,n){{var r=this.ids,i=this.coords,s=this.nodeSize;let c=[0,r.length-1,0],h=[],d=n*n;for(;c.length;){var o=c.pop();let f=c.pop();var a=c.pop();if(f-a<=s){for(o=a;o<=f;o++){a=i[2*o]-e;var l=i[2*o+1]-t;a=a*a+l*l,a<=d&&h.push(r[o])}continue}l=Math.floor((a+f)/2);let p=i[2*l],m=i[2*l+1];{var u=p-e;let n=m-t;u=u*u+n*n}u<=d&&h.push(r[l]),u=(o+1)%2,(0===o?e-n<=p:t-n<=m)&&(c.push(a),c.push(l-1),c.push(u)),(0===o?e+n>=p:t+n>=m)&&(c.push(l+1),c.push(f),c.push(u))}e=h}return e}}let V={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},B=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1));class j{constructor(e){this.options=G(Object.create(V),e),this.trees=Array(this.options.maxZoom+1)}load(e){let{log:t,minZoom:n,maxZoom:r,nodeSize:i}=this.options;t&&console.time("total time");var s=`prepare ${e.length} points`;t&&console.time(s),this.points=e;let o=[];for(let a=0;a<e.length;a++)e[a].geometry&&o.push(z(e[a],a));for(this.trees[r+1]=new U(o,Y,Z,i,Float32Array),t&&console.timeEnd(s),e=r;e>=n;e--)s=+Date.now(),o=this._cluster(o,e),this.trees[e]=new U(o,Y,Z,i,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,o.length,+Date.now()-s);return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;var r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180;let s=Math.max(-90,Math.min(90,e[3]));if(360<=e[2]-e[0])n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,s],t);return r=this.getClusters([-180,r,i,s],t),o.concat(r)}for(o of(t=this.trees[this._limitZoom(t)],i=t.range(n/360+.5,K(s),i/360+.5,K(r)),r=[],i))i=t.points[o],r.push(i.numPoints?H(i):this.points[i.index]);return r}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e);let r=this.trees[n];if(!r)throw Error("No cluster with the specified id.");if(t=r.points[t],!t)throw Error("No cluster with the specified id.");t=r.within(t.x,t.y,this.options.radius/(this.options.extent*Math.pow(2,n-1))),n=[];for(let i of t)t=r.points[i],t.parentId===e&&n.push(t.numPoints?H(t):this.points[t.index]);if(0===n.length)throw Error("No cluster with the specified id.");return n}getLeaves(e,t,n){let r=[];return this._appendLeaves(r,e,t||10,n||0,0),r}getTile(e,t,n){let r=this.trees[this._limitZoom(e)];e=Math.pow(2,e);let{extent:i,radius:s}=this.options,o=s/i,a=(n-o)/e,l=(n+1+o)/e,u={features:[]};return this._addTileFeatures(r.range((t-o)/e,a,(t+1+o)/e,l),r.points,t,n,e,u),0===t&&this._addTileFeatures(r.range(1-o/e,a,1,l),r.points,e,n,e,u),t===e-1&&this._addTileFeatures(r.range(0,a,o/e,l),r.points,-1,n,e,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){if(e=this.getChildren(e),t++,1!==e.length)break;e=e[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,i){t=this.getChildren(t);for(let s of t)if((t=s.properties)&&t.cluster?i=i+t.point_count<=r?i+t.point_count:this._appendLeaves(e,t.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break;return i}_addTileFeatures(e,t,n,r,i,s){for(let l of e){e=t[l];let u=e.numPoints;var o=void 0;let c;var a=void 0;let h;u?(o=W(e),c=e.x,a=e.y):(a=this.points[e.index],o=a.properties,c=a.geometry.coordinates[0]/360+.5,a=K(a.geometry.coordinates[1])),o={type:1,geometry:[[Math.round(this.options.extent*(c*i-n)),Math.round(this.options.extent*(a*i-r))]],tags:o},u?h=e.id:this.options.generateId?h=e.index:this.points[e.index].id&&(h=this.points[e.index].id),void 0!==h&&(o.id=h),s.features.push(o)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){let n=[],{radius:r,extent:i,reduce:s,minPoints:o}=this.options,a=r/(i*Math.pow(2,t));for(let d=0;d<e.length;d++){var l=e[d];if(l.zoom<=t)continue;l.zoom=t;let r=this.trees[t+1];var u=r.within(l.x,l.y,a),c=l.numPoints||1;let i=c;for(let e of u){var h=r.points[e];h.zoom>t&&(i+=h.numPoints||1)}if(i>c&&i>=o){h=l.x*c;let e=l.y*c;c=s&&1<c?this._map(l,!0):null;let o=(d<<5)+(t+1)+this.points.length;for(let n of u){if(u=r.points[n],u.zoom<=t)continue;u.zoom=t;let i=u.numPoints||1;h+=u.x*i,e+=u.y*i,u.parentId=o,s&&(c||(c=this._map(l,!0)),s(c,this._map(u)))}l.parentId=o,n.push($(h/i,e/i,o,i,c))}else if(n.push(l),1<i)for(let e of u)l=r.points[e],l.zoom<=t||(l.zoom=t,n.push(l))}return n}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?G({},e.properties):e.properties;e=this.points[e.index].properties;let n=this.options.map(e);return t&&n===e?G({},n):n}}function $(e,t,n,r,i){return{x:B(e),y:B(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function z(e,t){let[n,r]=e.geometry.coordinates;return{x:B(n/360+.5),y:B(K(r)),zoom:1/0,index:t,parentId:-1}}function H(e){var t=e.id,n=W(e);return{type:"Feature",id:t,properties:n,geometry:{type:"Point",coordinates:[360*(e.x-.5),360*Math.atan(Math.exp((180-360*e.y)*Math.PI/180))/Math.PI-90]}}}function W(e){let t=e.numPoints,n=1e4<=t?`${Math.round(t/1e3)}k`:1e3<=t?Math.round(t/100)/10+"k":t;return G(G({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function K(e){return e=Math.sin(e*Math.PI/180),e=.5-.25*Math.log((1+e)/(1-e))/Math.PI,0>e?0:1<e?1:e}function G(e,t){for(let n in t)e[n]=t[n];return e}function Y(e){return e.x}function Z(e){return e.y}var Q=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r;if(Array.isArray(t)){var i=t.length;if(i!=n.length)return!1;for(r=i;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();var s=Object.keys(t);if(i=s.length,i!==Object.keys(n).length)return!1;for(r=i;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;0!==r--;)if(i=s[r],!e(t[i],n[i]))return!1;return!0}return t!==t&&n!==n};class J{constructor({markers:e,position:t}){this.markers=e,t&&(this._position=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t))}get bounds(){if(0!==this.markers.length||this._position)return this.markers.reduce(((e,t)=>e.extend(t.getPosition())),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>e.getVisible())).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}class X{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return ee(e)}}let ee=e=>e.map((e=>new J({position:e.getPosition(),markers:[e]})));class te extends X{constructor(e){var t,{maxZoom:n,radius:r=60}=e,i=["maxZoom","radius"],s={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>i.indexOf(t)&&(s[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)0>i.indexOf(t[o])&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]])}super({maxZoom:n}),this.superCluster=new j(Object.assign({maxZoom:this.maxZoom,radius:r},s)),this.state={zoom:null}}calculate(e){let t=!1;if(!Q(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var n=this.markers.map((e=>({type:"Feature",geometry:{type:"Point",coordinates:[e.getPosition().lng(),e.getPosition().lat()]},properties:{marker:e}})));this.superCluster.load(n)}return n={zoom:e.map.getZoom()},t||this.state.zoom>this.maxZoom&&n.zoom>this.maxZoom||(t=t||!Q(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,t]},properties:n}){return n.cluster?new J({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map((e=>e.properties.marker)),position:new google.maps.LatLng({lat:t,lng:e})}):(e=n.marker,new J({markers:[e],position:e.getPosition()}))}}class ne{constructor(e,t){this.markers={sum:e.length},e=t.map((e=>e.count));let n=e.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:n/t.length,sum:n,min:Math.min(...e),max:Math.max(...e)}}}}class re{render({count:e,position:t},n){return n=window.btoa(`\n  <svg fill="${e>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">\n    <circle cx="120" cy="120" opacity=".6" r="70" />\n    <circle cx="120" cy="120" opacity=".3" r="90" />\n    <circle cx="120" cy="120" opacity=".2" r="110" />\n  </svg>`),new google.maps.Marker({position:t,icon:{url:`data:image/svg+xml;base64,${n}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}class ie{constructor(){var e=ie,t=google.maps.OverlayView;for(let n in t.prototype)e.prototype[n]=t.prototype[n]}}var se,oe=se||(se={});oe.CLUSTERING_BEGIN="clusteringbegin",oe.CLUSTERING_END="clusteringend",oe.CLUSTER_CLICK="click";let ae=(e,t,n)=>{n.fitBounds(t.bounds)};class le extends ie{constructor({map:e,markers:t=[],algorithm:n=new te({}),renderer:r=new re,onClusterClick:i=ae}){super(),this.markers=[...t],this.clusters=[],this.algorithm=n,this.renderer=r,this.onClusterClick=i,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){let n=this.markers.indexOf(e);return-1!==n&&(e.setMap(null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){let n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){let e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,se.CLUSTERING_BEGIN,this);let{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(n||void 0==n)&&(this.reset(),this.clusters=t,this.renderClusters()),google.maps.event.trigger(this,se.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>e.setMap(null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){let e=new ne(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,se.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),n.marker.setMap(t)}))}}let ue=["clusteringbegin","clusteringend","click"];(0,i.aZ)({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:ue,setup(e,{emit:t,expose:n,slots:s}){let l=(0,r.iH)(),c=(0,i.f3)(o,(0,r.iH)()),h=(0,i.f3)(a,(0,r.iH)());return(0,i.JJ)(u,l),(0,i.YP)(c,(()=>{c.value&&(l.value=(0,r.Xl)(new le({map:c.value,...e.options})),ue.forEach((e=>{var n;null===(n=l.value)||void 0===n||n.addListener(e,(n=>t(e,n)))})))}),{immediate:!0}),(0,i.Jd)((()=>{var e;l.value&&(null===(e=h.value)||void 0===e||e.event.clearInstanceListeners(l.value),l.value.clearMarkers(),l.value.setMap(null))})),n({markerCluster:l}),()=>{var e;return null===(e=s.default)||void 0===e?void 0:e.call(s)}}})},3340:(e,t,n)=>{"use strict";function r(e){return e}function i(e){return e}n.d(t,{BC:()=>i,xr:()=>r})},9859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(5505),i=n(3513),s=n(8897),o=n(9795);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate))))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},u=new r.LL("app-compat","Firebase",l);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(e){const t={},n={__esModule:!0,initializeApp:a,app:o,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:c,removeApp:i,useAsService:h,modularAPIs:s}};function i(e){delete t[e]}function o(e){if(e=e||s._DEFAULT_ENTRY_NAME,!(0,r.r3)(t,e))throw u.create("no-app",{appName:e});return t[e]}function a(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l}function l(){return Object.keys(t).map((e=>t[e]))}function c(t){const i=t.name,a=i.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=o())=>{if("function"!==typeof e[a])throw u.create("invalid-app-argument",{appName:i});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){const n=this._getService.bind(this,i);return n.apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null}function h(e,t){if("serverAuth"===t)return null;const n=t;return n}return n["default"]=n,Object.defineProperty(n,"apps",{get:l}),o["App"]=e,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(){const e=c(a);function t(t){(0,r.ZB)(e,t)}return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:h,extendNamespace:t,createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),e}const d=h(),f=new o.Yd("@firebase/app-compat"),p="@firebase/app-compat",m="0.1.25";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function g(e){(0,s.registerVersion)(p,m,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,r.jU)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const v=d;g()},8897:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>s.ZR,SDK_VERSION:()=>ye,_DEFAULT_ENTRY_NAME:()=>se,_addComponent:()=>ue,_addOrOverwriteComponent:()=>ce,_apps:()=>ae,_clearComponents:()=>pe,_components:()=>le,_getProvider:()=>de,_registerComponent:()=>he,_removeServiceInstance:()=>fe,deleteApp:()=>Se,getApp:()=>we,getApps:()=>be,initializeApp:()=>_e,onLog:()=>Te,registerVersion:()=>ke,setLogLevel:()=>Ie});var r=n(3513),i=n(9795),s=n(5505);const o=(e,t)=>t.some((t=>e instanceof t));let a,l;function u(){return a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c(){return l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap;function g(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(S(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&h.set(t,e)})).catch((()=>{})),m.set(t,e),t}function v(e){if(d.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));d.set(e,t)}let y={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return d.get(e);if("objectStoreNames"===t)return e.objectStoreNames||f.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return S(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function _(e){y=e(y)}function w(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?c().includes(e)?function(...t){return e.apply(k(this),t),S(h.get(this))}:function(...t){return S(e.apply(k(this),t))}:function(t,...n){const r=e.call(k(this),t,...n);return f.set(r,t.sort?t.sort():[t]),S(r)}}function b(e){return"function"===typeof e?w(e):(e instanceof IDBTransaction&&v(e),o(e,u())?new Proxy(e,y):e)}function S(e){if(e instanceof IDBRequest)return g(e);if(p.has(e))return p.get(e);const t=b(e);return t!==e&&(p.set(e,t),m.set(t,e)),t}const k=e=>m.get(e);function T(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=S(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(S(o.result),e.oldVersion,e.newVersion,S(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}const I=["get","getKey","getAll","getAllKeys","count"],E=["put","add","delete","clear"],C=new Map;function x(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(C.get(t))return C.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=E.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!I.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return C.set(t,s),s}_((e=>({...e,get:(t,n,r)=>x(t,n)||e.get(t,n,r),has:(t,n)=>!!x(t,n)||e.has(t,n)})));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class A{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map((e=>{if(R(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}function R(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}const P="@firebase/app",N="0.7.24",O=new i.Yd("@firebase/app"),D="@firebase/app-compat",L="@firebase/analytics-compat",M="@firebase/analytics",F="@firebase/app-check-compat",q="@firebase/app-check",U="@firebase/auth",V="@firebase/auth-compat",B="@firebase/database",j="@firebase/database-compat",$="@firebase/functions",z="@firebase/functions-compat",H="@firebase/installations",W="@firebase/installations-compat",K="@firebase/messaging",G="@firebase/messaging-compat",Y="@firebase/performance",Z="@firebase/performance-compat",Q="@firebase/remote-config",J="@firebase/remote-config-compat",X="@firebase/storage",ee="@firebase/storage-compat",te="@firebase/firestore",ne="@firebase/firestore-compat",re="firebase",ie="9.8.1",se="[DEFAULT]",oe={[P]:"fire-core",[D]:"fire-core-compat",[M]:"fire-analytics",[L]:"fire-analytics-compat",[q]:"fire-app-check",[F]:"fire-app-check-compat",[U]:"fire-auth",[V]:"fire-auth-compat",[B]:"fire-rtdb",[j]:"fire-rtdb-compat",[$]:"fire-fn",[z]:"fire-fn-compat",[H]:"fire-iid",[W]:"fire-iid-compat",[K]:"fire-fcm",[G]:"fire-fcm-compat",[Y]:"fire-perf",[Z]:"fire-perf-compat",[Q]:"fire-rc",[J]:"fire-rc-compat",[X]:"fire-gcs",[ee]:"fire-gcs-compat",[te]:"fire-fst",[ne]:"fire-fst-compat","fire-js":"fire-js",[re]:"fire-js-all"},ae=new Map,le=new Map;function ue(e,t){try{e.container.addComponent(t)}catch(n){O.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ce(e,t){e.container.addOrOverwriteComponent(t)}function he(e){const t=e.name;if(le.has(t))return O.debug(`There were multiple attempts to register component ${t}.`),!1;le.set(t,e);for(const n of ae.values())ue(n,e);return!0}function de(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fe(e,t,n=se){de(e,t).clearInstance(n)}function pe(){le.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ge=new s.LL("app","Firebase",me);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ve{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ge.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye=ie;function _e(e,t={}){if("object"!==typeof t){const e=t;t={name:e}}const n=Object.assign({name:se,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!==typeof i||!i)throw ge.create("bad-app-name",{appName:String(i)});const o=ae.get(i);if(o){if((0,s.vZ)(e,o.options)&&(0,s.vZ)(n,o.config))return o;throw ge.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const r of le.values())a.addComponent(r);const l=new ve(e,n,a);return ae.set(i,l),l}function we(e=se){const t=ae.get(e);if(!t)throw ge.create("no-app",{appName:e});return t}function be(){return Array.from(ae.values())}async function Se(e){const t=e.name;ae.has(t)&&(ae.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function ke(e,t,n){var i;let s=null!==(i=oe[e])&&void 0!==i?i:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void O.warn(e.join(" "))}he(new r.wA(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}function Te(e,t){if(null!==e&&"function"!==typeof e)throw ge.create("invalid-log-argument");(0,i.Am)(e,t)}function Ie(e){(0,i.Ub)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee="firebase-heartbeat-database",Ce=1,xe="firebase-heartbeat-store";let Ae=null;function Re(){return Ae||(Ae=T(Ee,Ce,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(xe)}}}).catch((e=>{throw ge.create("storage-open",{originalErrorMessage:e.message})}))),Ae}async function Pe(e){try{const t=await Re();return t.transaction(xe).objectStore(xe).get(Oe(e))}catch(t){throw ge.create("storage-get",{originalErrorMessage:t.message})}}async function Ne(e,t){try{const n=await Re(),r=n.transaction(xe,"readwrite"),i=r.objectStore(xe);return await i.put(t,Oe(e)),r.done}catch(n){throw ge.create("storage-set",{originalErrorMessage:n.message})}}function Oe(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De=1024,Le=2592e6;class Me{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ue(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),n=Fe();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf(),n=Date.now();return n-t<=Le})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Fe(),{heartbeatsToSend:t,unsentEntries:n}=qe(this._heartbeatsCache.heartbeats),r=(0,s.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Fe(){const e=new Date;return e.toISOString().substring(0,10)}function qe(e,t=De){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ve(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ve(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.hl)()&&(0,s.eu)().then((()=>!0)).catch((()=>!1))}async read(){const e=await this._canUseIndexedDBPromise;if(e){const e=await Pe(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ve(e){return(0,s.L)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(e){he(new r.wA("platform-logger",(e=>new A(e)),"PRIVATE")),he(new r.wA("heartbeat",(e=>new Me(e)),"PRIVATE")),ke(P,N,e),ke(P,N,"esm2017"),ke("fire-js","")}Be("")},3513:(e,t,n)=>{"use strict";n.d(t,{H0:()=>u,wA:()=>i,zt:()=>o});var r=n(5505);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(l(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=s){return this.instances.has(e)}getOptions(e=s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(i);n===e&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(r){}return n||null}normalizeInstanceIdentifier(e=s){return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(e){return e===s?void 0:e}function l(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9795:(e,t,n)=>{"use strict";n.d(t,{Am:()=>h,Ub:()=>c,Yd:()=>u,in:()=>i});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=[];var i;(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function c(e){r.forEach((t=>{t.setLogLevel(e)}))}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},8593:e=>{"use strict";e.exports=JSON.parse('{"_args":[["axios@0.21.4","/Users/alain/Documents/Projects/HawkHacks/quasar"]],"_from":"axios@0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.21.4","name":"axios","escapedName":"axios","rawSpec":"0.21.4","saveSpec":null,"fetchSpec":"0.21.4"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_spec":"0.21.4","_where":"/Users/alain/Documents/Projects/HawkHacks/quasar","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')}}]);